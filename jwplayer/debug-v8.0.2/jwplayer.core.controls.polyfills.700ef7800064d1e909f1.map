{"version":3,"sources":["webpack:///./src/js/view/controls/controls.js","webpack:///./src/js/controller/controller.js","webpack:///./node_modules/intersection-observer/intersection-observer.js","webpack:///./src/js/utils/ui.js","webpack:///./src/js/view/controls/icons.js","webpack:///./src/js/view/controls/components/button.js","webpack:///./src/js/utils/svgParser.js","webpack:///./src/js/parsers/captions/srt.js","webpack:///./src/js/view/constants.js","webpack:///./src/js/events/change-state-event.js","webpack:///./src/js/controller/model.js","webpack:///./src/js/utils/request-animation-frame.js","webpack:///./src/js/view/utils/breakpoint.js","webpack:///./node_modules/css-loader/lib/css-base.js","webpack:///./src/js/utils/aria.js","webpack:///./src/js/view/controls/components/slider.js","webpack:///./src/js/view/controls/components/tooltip.js","webpack:///./src/js/view/controls/components/simple-tooltip.js","webpack:///./src/js/utils/cancelable.js","webpack:///./src/js/utils/active-tab.js","webpack:///./src/js/controller/tracks-loader.js","webpack:///./src/js/controller/tracks-helper.js","webpack:///./src/js/parsers/captions/vttcue.js","webpack:///./src/js/parsers/captions/dfxp.js","webpack:///./src/js/view/controls/controlbar.js","webpack:///./src/assets/SVG/buffer.svg","webpack:///./src/assets/SVG/replay.svg","webpack:///./src/assets/SVG/playback-error.svg","webpack:///./src/assets/SVG/play.svg","webpack:///./src/assets/SVG/pause.svg","webpack:///./src/assets/SVG/rewind-10.svg","webpack:///./src/assets/SVG/next.svg","webpack:///./src/assets/SVG/volume-0.svg","webpack:///./src/assets/SVG/volume-50.svg","webpack:///./src/assets/SVG/volume-100.svg","webpack:///./src/assets/SVG/captions-on.svg","webpack:///./src/assets/SVG/captions-off.svg","webpack:///./src/assets/SVG/airplay-on.svg","webpack:///./src/assets/SVG/airplay-off.svg","webpack:///./src/assets/SVG/dvr.svg","webpack:///./src/assets/SVG/live.svg","webpack:///./src/assets/SVG/playback-rate.svg","webpack:///./src/assets/SVG/settings.svg","webpack:///./src/assets/SVG/audio-tracks.svg","webpack:///./src/assets/SVG/quality-100.svg","webpack:///./src/assets/SVG/fullscreen-not.svg","webpack:///./src/assets/SVG/fullscreen.svg","webpack:///./src/assets/SVG/close.svg","webpack:///./src/assets/SVG/jw-logo.svg","webpack:///./src/js/view/controls/components/custom-button.js","webpack:///./src/js/view/controls/components/timeslider.js","webpack:///./src/js/view/controls/templates/slider.js","webpack:///./src/js/view/controls/components/chapters.mixin.js","webpack:///./src/js/view/controls/components/thumbnails.mixin.js","webpack:///./src/js/view/controls/components/volumetooltip.js","webpack:///./src/js/view/controls/display-container.js","webpack:///./src/js/view/controls/templates/display-container.js","webpack:///./src/js/view/controls/templates/display-icon.js","webpack:///./src/js/view/controls/rewind-display-icon.js","webpack:///./src/js/view/controls/play-display-icon.js","webpack:///./src/js/view/controls/next-display-icon.js","webpack:///./src/js/view/controls/nextuptooltip.js","webpack:///./src/js/view/controls/templates/nextup.js","webpack:///./src/js/view/controls/rightclick.js","webpack:///./src/js/view/controls/templates/rightclick.js","webpack:///./src/js/view/controls/settings-menu.js","webpack:///./src/js/view/controls/components/settings/menu.js","webpack:///./src/js/view/controls/templates/settings/menu.js","webpack:///./src/js/view/utils/submenu-factory.js","webpack:///./src/js/view/controls/components/settings/submenu.js","webpack:///./src/js/view/controls/templates/settings/submenu.js","webpack:///./src/js/view/controls/components/settings/content-item.js","webpack:///./src/js/view/controls/templates/settings/content-item.js","webpack:///./src/css/controls.less?b048","webpack:///./src/css/controls.less","webpack:///./src/js/api/set-config.js","webpack:///./src/js/controller/instream-adapter.js","webpack:///./src/js/controller/instream-html5.js","webpack:///./src/js/controller/qoe.js","webpack:///./src/js/controller/instream-flash.js","webpack:///./src/js/controller/captions.js","webpack:///./src/js/view/view.js","webpack:///./src/templates/player.js","webpack:///./src/js/view/utils/audio-mode.js","webpack:///./src/js/view/utils/views-manager.js","webpack:///./src/js/view/utils/visibility.js","webpack:///./src/js/view/utils/skin.js","webpack:///./src/js/view/utils/request-fullscreen-helper.js","webpack:///./src/js/view/utils/flag-no-focus.js","webpack:///./src/js/view/utils/clickhandler.js","webpack:///./src/js/view/captionsrenderer.js","webpack:///./src/js/view/logo.js","webpack:///./src/templates/logo.js","webpack:///./src/js/view/preview.js","webpack:///./src/js/view/title.js","webpack:///./src/css/jwplayer.less?586a","webpack:///./src/css/jwplayer.less","webpack:///./src/js/controller/events-middleware.js","webpack:///./src/js/providers/utils/stream-type.js"],"names":["require","ACTIVE_TIMEOUT","mobile","cloneIcon","forEach","api","getState","errorIconContainer","getContainer","querySelector","hasChildNodes","appendChild","reasonInteraction","reason","Controls","context","playerContainer","activeTimeout","controlbar","displayContainer","backdrop","enabled","instreamState","keydownCallback","keyupCallback","blurCallback","mute","nextUpToolTip","rightClickMenu","settingsMenu","showing","unmuteCallback","div","right","activeListeners","mousemove","clearTimeout","mouseout","userActive","dimensions","model","element","createElement","className","touchMode","get","buttons","display","on","trigger","playToggle","addClass","change","modelChanged","isBlocked","destroy","setup","data","addActiveListeners","lastState","visibilityChangeHandler","visible","evt","state","settingsInteraction","isKeyEvent","sourceEvent","type","toggleClass","pause","play","settingsButton","elements","focus","insertBefore","unmuteAutoplay","unmute","show","renderVolume","adjustSeek","amount","min","max","position","Math","newSeek","between","seek","adjustVolume","newVol","setVolume","handleKeydown","ctrlKey","metaKey","keyCode","setFullscreen","blur","userInactive","captionsList","getCaptionsList","listLength","length","nextIndex","getCurrentCaptions","setCurrentCaptions","setMute","number","test","preventDefault","addEventListener","handleKeyup","isTab","insideContainer","contains","target","relatedTarget","addBackdrop","off","mediaModel","parentNode","removeClass","removeChild","removeActiveListeners","removeEventListener","removeBackdrop","cbHeight","clientHeight","autostartSucceeded","set","undefined","hide","timeout","isKeyDown","setTimeout","parent","instreamModel","useInstreamTime","close","syncPlaybackTime","normalizeState","newstate","Controller","prototype","config","_api","originalContainer","eventListeners","commandQueue","_this","_model","_view","_captions","_preplay","_actionOnAttach","_stopPlaylist","_interruptPlay","checkAutoStartCancelable","_checkAutoStart","updatePlaylistCancelable","currentContainer","_events","_eventQueuedUntilReady","_triggerAfterReady","mediaController","then","_completeHandler","triggerError","throttled","errorEvent","message","duration","minDvrWindow","setStreamType","bool","fullscreen","vol","volume","rate","playbackRate","_pause","_play","triggerAfterReady","tracks","track","_video","getVideo","e","triggerControls","enable","controls","viewSetup","playerReady","related","getPlugin","nextUp","once","_playerReadyNotify","init","_updateViewable","setupTime","playlist","eventData","feedData","eventFeedData","playlistItem","index","item","i","event","args","viewableChange","_checkPlayOnViewable","visibility","isUndefined","round","apiQueue","_autoStart","flush","viewable","preloadVideo","push","_load","_stop","cancel","_primeMediaElementForPlayback","loadPromise","loadPlaylistPromise","_loadPlaylist","catch","error","_updatePlaylist","async","_setItem","reject","toLoad","resolve","loader","load","_getAdState","_instreamAdapter","_getState","adState","isString","meta","playReason","_getReason","pauseAd","playVideo","_inInteraction","window","mediaElement","src","internal","empty","fromApi","provider","stopVideo","pauseReason","_isIdle","_seek","pos","_item","setItemIndex","_prev","_next","idx","iOS","_setFullscreen","triggerAdvanceEvent","_setCurrentQuality","parseInt","setCurrentQuality","_getCurrentQuality","getCurrentQuality","_getConfig","getConfiguration","_getVisualQuality","qualityLevels","_getQualityLevels","levelIndex","level","mode","getQualityLevels","_setCurrentAudioTrack","setCurrentAudioTrack","_getCurrentAudioTrack","getCurrentAudioTrack","_getAudioTracks","getAudioTracks","_setCurrentCaptions","persistVideoSubtitleTrack","_getCaptionsList","_getCurrentCaptions","getCurrentIndex","_detachMedia","detachMedia","_attachMedia","attachMedia","isBoolean","_adModel","_nextUp","next","cb","ui","itemsShown","stop","playlistNext","playlistPrev","getVisualQuality","getConfig","setConfig","newConfig","bind","setPlaybackRate","getProvider","getWidth","getHeight","getItemQoe","_qoeItem","isBeforeComplete","checkComplete","addButton","img","tooltip","callback","id","btnClass","customButtons","added","newButton","reduce","button","unshift","removeButton","filter","call","resize","getSafeRegion","setCues","addCues","setCaptions","checkBeforePlay","setControls","playerDestroy","instreamDestroy","isBeforePlay","createInstream","skipAd","queue","apply","property","getMute","_supportsPointerEvents","android","_supportsTouchEvents","_useMouseEvents","_isOSXFirefox","firefox","mac","getCoord","c","originalEvent","changedTouches","isRightClick","MouseEvent","which","isEnterKey","KeyboardEvent","stopPropagation","normalizeUIEvent","srcEvent","source","touches","currentTarget","pageX","pageY","TouchEvent","preventManipulation","UI","elem","options","_elem","_hasMoved","_startX","_startY","_lastClickTime","_doubleClickDelay","_touchListenerTarget","_pointerId","interactStartHandler","useHover","overHandler","outHandler","useMove","moveHandler","keyHandler","useFocus","pointerType","triggerEvent","document","elementFromPoint","x","y","setEventListener","eventName","isPrimary","preventScrolling","pointerId","setPointerCapture","interactDragHandler","interactEndHandler","nodeName","toLowerCase","movementThreshold","endX","endY","moveX","moveY","isPointerEvent","releasePointerCapture","directSelect","indexOf","self","enableDoubleTap","doubleType","getPointerType","PointerEvent","cloneIcons","collection","name","icon","getCollection","nameToClass","clone","Error","names","icons","querySelectorAll","split","map","join","__DEBUG__","Array","cloneNode","parseCollection","apiAction","ariaText","svgIcons","setAttribute","style","svgIcon","toggle","m","svgParse","parser","svgXml","DOMParser","parseFromString","documentElement","Srt","list","entry","_entry","text","array","line","begin","substr","end","slice","dvrSeekLimit","ChangeStateEvent","normalizeApiState","oldstate","eventType","replace","Model","_providers","_provider","_beforecompleted","_attached","thenPlayPromise","providerPromise","MediaModel","attributes","updateProviders","setAutoStart","_videoEventHandler","mediaType","srcReset","previousState","bufferPercent","isNumber","isNaN","metadata","getName","setQualityLevel","currentQuality","levels","persistQualityLevel","playbackComplete","currentTrack","quality","currentLevel","label","onMediaContainer","container","setContainer","changeVideoProvider","Provider","remove","instreamMode","resetProvider","isAndroidSdk","autoStartOnMobile","getPlaybackRate","renderNatively","setState","_destroyed","chooseProvider","choose","setActiveItem","resetItem","setProvider","starttime","mediaModelState","sources","replaceMediaElement","mediaModelContext","syncPlayerWithMediaModel","lastMediaElement","muted","getProviders","streamType","loadAndPlay","playWithProvider","providerSetupPromise","playAttempt","playPromise","itemContext","videoTagUnpaused","video","paused","videoTagPaused","mediaState","preload","persistCaptionsTrack","setVideoSubtitleTrack","trackIndex","setSubtitlesTrack","_autoStartSupportedIOS","version","major","platformCanAutostart","autostartAdsIsEnabled","autoplayadsmuted","iosBrowserIsSupported","safari","chrome","facebook","androidBrowserIsSupported","mobileBrowserIsSupported","autoStart","started","preloaded","visualQuality","requestAnimationFrame","cancelAnimationFrame","getBreakpoint","setBreakpoint","width","breakpoint","playerElement","breakpointNumber","breakpointClass","ariaLabel","getRailBounds","elementRail","bounds","pageXOffset","body","parentElement","getBoundingClientRect","left","Slider","orientation","dragStartListener","dragStart","dragMoveListener","dragMove","dragEndListener","dragEnd","tapListener","tap","el","getElementsByClassName","elementBuffer","elementProgress","elementThumb","userInteract","railBounds","dimension","percentage","bottom","top","height","updatedPercent","limit","render","update","Tooltip","elementShown","openClass","componentType","content","removeContent","isOpen","closeTooltip","openTooltip","SimpleTooltip","attachToElement","openCallback","tooltipElement","textElement","textContent","instance","open","touchEvent","setText","newText","cancelable","cancelled","arguments","hidden","webkitHidden","loadFile","cancelXhr","convertToVTTCues","successHandler","errorHandler","xhr","ajax","file","xhrSuccess","onload","onreadystatechange","onerror","abort","cues","cue","xmlRoot","responseXML","firstChild","vttCues","nextSibling","nodeType","COMMENT_NODE","responseText","loadVttParser","VTTParser","oncue","onflush","parse","default","createId","createLabel","tracksCount","trackId","prefix","kind","defaulttrack","_id","unknownCount","language","VTTCue","findDirectionSetting","value","directionSetting","lr","rl","dir","findAlignSetting","alignSetting","start","middle","align","autoKeyword","startTime","endTime","hasBeenReset","_pauseOnExit","_startTime","_endTime","_text","_region","_vertical","_snapToLines","_line","_lineAlign","_position","_size","_align","Object","defineProperty","enumerable","TypeError","setting","SyntaxError","displayState","getCueAsHTML","WebVTT","convertCueToDOMTree","Dfxp","xmlDoc","validate","paragraphs","getElementsByTagName","frameRate","tt","parsedFrameRate","parseFloat","getAttribute","p","breaks","j","b","replaceChild","createTextNode","rawText","innerHTML","dur","parseError","object","role","textIcon","classes","createCastButton","castToggle","localization","airplayButton","airplay","castButton","cursor","cast","buttonsInFirstNotInSecond","buttonsA","buttonsB","some","a","appendChildren","Controlbar","_isMobile","timeSlider","volumeTooltip","muteButton","rewind","nextButton","settings","captionsButton","cc","alt","live","goToLiveEdge","liveBroadcast","elapsed","countdown","time","volumetooltip","spacer","buttonContainer","captionsTip","onCaptionsChanged","currentCaptions","nextUpTip","buttonLayout","layout","menus","logo","addLogo","onVolume","onMute","onDuration","onElapsed","onFullscreen","onStreamTypeChange","setAltText","updateButtons","checkDvrLiveEdge","tipText","title","onAudioMode","onCastAvailable","onCastActive","pct","val","click","currentPosition","each","ele","closeMenus","volumeSlider","elapsedTime","countdownTime","ceil","timeFormat","abs","altText","addCue","drawCues","rewindPosition","startPosition","logoButton","link","newButtons","oldButtons","addedButtons","removedButtons","removeButtons","buttonProps","firstButton","buttonsToRemove","buttonElement","onPosition","onStreamType","active","CustomButton","iconElement","substring","backgroundImage","TimeTip","containerWidth","textLength","dragJustReleased","wrapper","addContent","txt","setWidth","tolerance","TimeSlider","timeTip","seekThrottled","throttle","performSeek","mobileHoverDistance","onPlaylistItem","onBuffer","elementUI","showTimeTooltip","hideTimeTooltip","percent","activeCue","updatedPosition","seekTo","updateBuffer","updateTime","reset","onSeeked","loadThumbnails","loadChapters","playerWidth","timetipText","closeCue","allowNegativeTime","resetWidth","showThumbnail","timeTipWidth","widthPct","timeTipPct","safePct","toFixed","resetChapters","resetThumbnails","Cue","toString","ChaptersMixin","chaptersLoaded","chaptersFailed","plainText","isArray","obj","Thumbnail","ThumbnailsMixin","vttPath","individualImage","thumbnailsLoaded","thumbnailsFailed","thumbnails","chooseThumbnail","seconds","sortedIndex","url","loadThumbnail","margin","backgroundPosition","hashIndex","matched","exec","Image","image","VolumeTooltip","classList","toggleValue","toggleOpenState","DisplayContainer","iconElements","ButtonClass","iconContainer","playback","iconName","RewindDisplayIcon","PlayDisplayIcon","iconDisplay","newstateLabel","buffer","replay","removeAttribute","NextDisplayIcon","nextUpChangeModel","NextUpTooltip","_playerElement","nextUpText","nextUpClose","shown","closeButton","onNextUp","onMediaModel","nextUpSticky","nextUpImage","nextUpItem","thumbnail","thumbnailStyle","header","innerText","showNextUp","setNextUpItem","offset","stateChangeMediaModel","showUntilEnd","closeAriaLabel","createDomElement","html","logoContainer","RightClick","semverParts","majorMinorPatchPre","menu","items","featured","showLogo","lazySetup","mouseOverContext","hideMenu","showMenu","playerBounds","getOffset","_menuTimeout","buildArray","newEl","childNodes","layer","hideMenuHandler","addOffListener","oncontextmenu","rightClick","removeOffListener","itemsHtml","rightClickItem","createSettingsMenu","setupSubmenuListeners","onVisibility","onSubmenuAdded","onMenuEmpty","submenuName","isDefault","submenu","getSubmenu","activateSubmenu","activateFirstSubmenu","activateSubmenuItem","itemIndex","activateItem","onAudiotracksChanged","changedModel","audioTracks","onQualitiesChanged","hd","controlbarButton","toggleCaptionsButtonState","setupPlaybackRatesMenu","playbackRates","showPlaybackRateControls","supportsPlaybackRate","newModel","currentAudioTrack","captionsSubmenu","rates","SettingsMenu","documentClickHandler","targetClass","match","submenus","settingsMenuElement","closeOnEnter","closeOnButton","shiftKey","topbarElement","addDocumentListeners","categoryButtonElement","deactivateAllSubmenus","removeDocumentListeners","addSubmenu","sharingButton","removeSubmenu","keys","activate","firstSubmenuName","defineProperties","handler","deactivate","addCaptionsSubmenu","removeCaptionsSubmenu","addAudioTracksSubmenu","removeAudioTracksSubmenu","addQualitiesSubmenu","removeQualitiesSubmenu","addPlaybackRatesSubmenu","removePlaybackRatesSubmenu","AUDIO_TRACKS_SUBMENU","CAPTIONS_SUBMENU","QUALITIES_SUBMENU","PLAYBACK_RATE_SUBMENU","DEFAULT_SUBMENU","makeSubmenu","contentItems","tooltipText","replaceContent","categoryButton","children","action","initialSelectionIndex","captionsContentItems","contentItemElement","audioTracksList","audioTracksItems","audioTracksSubmenu","qualitiesList","qualitiesItems","qualitiesSubmenu","rateList","rateItems","playbackRatesSubmenu","SettingsSubmenu","submenuElement","onFocus","srcElement","itemOrdinal","deactivateAllItems","SettingsContentItem","contentItemUI","uiElement","supportedFields","controller","size","newValue","field","chooseInstreamMethod","providerName","_defaultOptions","skipoffset","tag","InstreamAdapter","_controller","InstreamMethod","_instream","_array","_arrayOptions","_arrayIndex","_options","_oldpos","_olditem","_skipAd","_instreamItemNext","_clickHandler","hasControls","instreamPlay","instreamPause","_doubleClickHandler","sharedVideoTag","_instreamForward","_instreamTime","_instreamItemComplete","defaultPlaybackRate","setupInstream","clickHandler","setAlternateClickHandlers","noop","loadingAd","_loadNextItem","loadItem","minor","adModel","addClickHandler","setupSkipButton","customNext","skipMessage","skipText","applyProviderListeners","metaHandler","skipAdType","resizeMedia","replacePlaylistItem","revertAlternateClickHandlers","destroyInstream","InstreamHtml5","_currentProvider","playerAttributes","edition","mediaContext","mediaSrc","autostartMuted","autostart","advertising","sdkplatform","skipButton","_nativeFullscreenHandler","_checkProvider","srcChanged","pseudoProvider","isVpaidProvider","adMediaModelContext","changeAdModel","stateHandler","jwstate","TAB_HIDDEN","TAB_VISIBLE","onTimeIncreasesGenerator","lastVal","unbindFirstFrameEvents","_onPlayAttempt","_triggerFirstFrame","_onTime","_onTabVisible","trackFirstFrame","qoeItem","tick","getFirstFrame","loadTime","activeTab","initQoe","initialModel","oldMediaModel","timeActive","changeMediaModel","InstreamFlash","swf","_throttleTimeout","_throttlePaused","triggerFlash","Captions","_itemHandler","_captionsIndexHandler","_itemReadyHandler","_subtitlesTracksHandler","_addTrack","_tracks","_tracksById","captionsMenu","_captionsMenu","_selectDefaultIndex","setCaptionsList","_unknownCount","len","_kindSupported","_addVTTCuesToTrack","captionsMenuIndex","labelInfo","autoselect","_setCurrentIndex","ControlsLoader","ControlsModule","_isIE","ie","View","isSetup","containerHeight","mediaContainer","inDom","iFrame","intersectionRatio","audioMode","castClicked","scrubbing","logoWidth","player","_videoLayer","_preview","_title","_captionsRenderer","_logo","_playerState","_lastWidth","_lastHeight","_instreamModel","_resizeMediaTimeout","_resizeContainerRequestId","_stateClassRequestId","displayClickHandler","fullscreenHelpers","focusHelper","_breakpoint","_controls","updateBounds","inDOM","rect","_responsiveListener","observe","updateStyles","updateContainerStyles","_resizeMedia","checkResized","_responsiveUpdate","smallPlayer","_logoClickHandler","clickHandlerHelper","_fullscreenChangeHandler","_errorHandler","_onMediaTypeChange","onStretchChange","onFlashBlockedChange","_resizePlayer","onAspectRatioChange","skin","skinColors","iframe","add","updateVisibility","_fullscreen","redraw","_stateHandler","changeControls","setMediaTitleAttribute","module","addControls","removeControls","videotag","dummyDiv","lastVisibility","videoLayer","settingsMenuVisible","renderCues","doubleClick","move","over","newVal","aspectratio","aspectRatioContainer","paddingTop","linktarget","_onChangeControls","_setLiveMode","overlaysElement","_userActivityCallback","disable","overlay","supportsDomFullscreen","requestFullscreen","exitFullscreen","_toggleDOMFullscreen","playerHeight","resetAspectMode","widthSet","heightSet","playerStyle","transformScale","_isNativeFullscreen","fsElement","fullscreenElement","getFullScreen","modelState","newState","fullscreenState","overflowY","isAudioFile","isFlash","errorContainer","oldState","instreamStateUpdate","_stateUpdate","setPosterImage","setImage","controlsContainer","excludeControlbar","safeRegion","controlbarHeight","captionsStyle","clear","unobserve","CONTROLBAR_ONLY_HEIGHT","isAudioMode","verticalPixels","NaN","views","observed","intersectionObserver","responsiveRepaintRequestId","lazyInitIntersectionObserver","IntersectionObserver","entries","view","threshold","scheduleResponsiveRedraw","responsiveRepaint","onVisibilityChange","splice","getIntersectionObserver","getVisibility","computeVisibility","rootRect","clientWidth","getComputedStyle","targetRect","intersectionRect","atRoot","parentRect","overflow","computeRectIntersection","targetArea","intersectionArea","rect1","rect2","normalizeSkin","handleColorOverrides","skinConfig","inactive","background","colors","getControlBar","timeslider","getTimeSlider","getMenus","tooltips","getTooltips","controlBarConfig","iconsActive","timesliderConfig","progress","rail","menusConfig","textActive","tooltipsConfig","playerId","addStyle","attr","extendParent","o","styleControlbar","styleTimeslider","styleMenus","styleTooltips","insertGlobalColorClasses","activeColorSet","color","borderColor","stroke","inactiveColorSet","elementContext","documentContext","changeCallback","webkitRequestFullscreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen","webkitExitFullscreen","webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen","DOCUMENT_FULLSCREEN_EVENTS","events","webkitCurrentFullScreenElement","mozFullScreenElement","msFullscreenElement","_focusFromClick","onBlur","onMouseDown","ClickHandler","domElement","defaultOptions","alternateDoubleClickHandler","out","alternateClickHandler","doubleClickHandler","_WebVTT","_defaults","back","backgroundOpacity","edgeStyle","fontSize","fontOpacity","fontScale","preprocessor","identity","windowOpacity","CaptionsRenderer","_captionsTrack","_currentCues","_timeEvent","_display","_captionsWindow","_textContainer","_fontScale","_windowStyle","populate","captions","selectCues","_setFontSize","updateBoxPosition","processCues","timeEvent","getAlignmentPosition","getCurrentCues","updateCurrentCues","allCues","difference","playerElementId","_setFontScale","windowColor","textStyle","_addTextStyle","backgroundColor","_addEdgeStyle","_setupCaptionStyles","isFinite","_setShadowDOMFontSize","_styleNativeCaptions","_stylePlayerCaptions","bgColor","bgOpacity","fontFamily","fontStyle","fontWeight","textDecoration","option","styles","textShadow","_timeChange","_captionsListHandler","loadWebVttPolyfill","captionsTrack","Logo","LogoDefaults","_settings","_img","positions","maxHeight","maxWidth","logoAR","videoAR","logoInteractHandler","jwhide","Preview","validState","stretching","playerAspectRatio","backgroundSize","imageAspectRatio","Title","titleEl","arr","description","titleStyle","padding","paddingLeft","paddingRight","updateText","middleware","currentState","isDvr","_minDvrWindow","Infinity"],"mappings":"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GA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;AAGA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iCAAiC,6BAA6B;AAC9D;AACA;;;AAGA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,YAAY,MAAM;AAClB;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB;AACA,YAAY,MAAM;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA,YAAY,cAAc;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,OAAO;AAClB;AACA,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,2BAA2B;AACtC;AACA,WAAW,0BAA0B;AACrC;AACA,YAAY,QAAQ;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,iBAAiB,4BAA4B;AAC7C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB;AACA,YAAY,SAAS;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;;AAGA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,WAAW,QAAQ;AACnB,YAAY,OAAO;AACnB;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,KAAK;AAChB,WAAW,KAAK;AAChB,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,KAAK;AAChB,YAAY,UAAU;AACtB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;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","file":"jwplayer.core.controls.polyfills.js","sourcesContent":["import { OS } from 'environment/environment';\r\nimport { dvrSeekLimit } from 'view/constants';\r\nimport { DISPLAY_CLICK, USER_ACTION, STATE_PAUSED, STATE_PLAYING, STATE_ERROR } from 'events/events';\r\nimport Events from 'utils/backbone.events';\r\nimport utils from 'utils/helpers';\r\nimport button from 'view/controls/components/button';\r\nimport Controlbar from 'view/controls/controlbar';\r\nimport DisplayContainer from 'view/controls/display-container';\r\nimport NextUpToolTip from 'view/controls/nextuptooltip';\r\nimport RightClick from 'view/controls/rightclick';\r\nimport { createSettingsMenu, setupSubmenuListeners } from 'view/controls/settings-menu';\r\nimport { getBreakpoint } from 'view/utils/breakpoint';\r\nimport { cloneIcon } from 'view/controls/icons';\r\nimport ErrorContainer from 'view/error-container';\r\nimport instances from 'api/players';\r\n\r\nrequire('css/controls.less');\r\n\r\nconst ACTIVE_TIMEOUT = OS.mobile ? 4000 : 2000;\r\n\r\nErrorContainer.cloneIcon = cloneIcon;\r\ninstances.forEach(api => {\r\n    if (api.getState() === STATE_ERROR) {\r\n        const errorIconContainer = api.getContainer().querySelector('.jw-error-msg .jw-icon');\r\n        if (errorIconContainer && !errorIconContainer.hasChildNodes()) {\r\n            errorIconContainer.appendChild(ErrorContainer.cloneIcon('error'));\r\n        }\r\n    }\r\n});\r\n\r\nconst reasonInteraction = function() {\r\n    return { reason: 'interaction' };\r\n};\r\n\r\nexport default class Controls {\r\n    constructor(context, playerContainer) {\r\n        Object.assign(this, Events);\r\n\r\n        // Alphabetic order\r\n        // Any property on the prototype should be initialized here first\r\n        this.activeTimeout = -1;\r\n        this.context = context;\r\n        this.controlbar = null;\r\n        this.displayContainer = null;\r\n        this.backdrop = null;\r\n        this.enabled = true;\r\n        this.instreamState = null;\r\n        this.keydownCallback = null;\r\n        this.keyupCallback = null;\r\n        this.blurCallback = null;\r\n        this.mute = null;\r\n        this.nextUpToolTip = null;\r\n        this.playerContainer = playerContainer;\r\n        this.rightClickMenu = null;\r\n        this.settingsMenu = null;\r\n        this.showing = false;\r\n        this.unmuteCallback = null;\r\n        this.div = null;\r\n        this.right = null;\r\n        this.activeListeners = {\r\n            mousemove: () => clearTimeout(this.activeTimeout),\r\n            mouseout: () => this.userActive()\r\n        };\r\n        this.dimensions = {};\r\n    }\r\n\r\n    enable(api, model) {\r\n        const element = this.context.createElement('div');\r\n        element.className = 'jw-controls jw-reset';\r\n        this.div = element;\r\n\r\n        const backdrop = this.context.createElement('div');\r\n        backdrop.className = 'jw-controls-backdrop jw-reset';\r\n        this.backdrop = backdrop;\r\n\r\n        const touchMode = model.get('touchMode');\r\n\r\n        // Display Buttons\r\n        if (!this.displayContainer) {\r\n            const displayContainer = new DisplayContainer(model, api);\r\n\r\n            displayContainer.buttons.display.on('click tap enter', () => {\r\n                this.trigger(DISPLAY_CLICK);\r\n                this.userActive(1000);\r\n                api.playToggle(reasonInteraction());\r\n            });\r\n\r\n            this.div.appendChild(displayContainer.element());\r\n            this.displayContainer = displayContainer;\r\n        }\r\n\r\n        // Touch UI mode when we're on mobile and we have a percentage height or we can fit the large UI in\r\n        if (touchMode) {\r\n            utils.addClass(this.playerContainer, 'jw-flag-touch');\r\n        } else {\r\n            this.rightClickMenu = new RightClick();\r\n            model.change('flashBlocked', (modelChanged, isBlocked) => {\r\n                if (isBlocked) {\r\n                    this.rightClickMenu.destroy();\r\n                } else {\r\n                    this.rightClickMenu.setup(modelChanged, this.playerContainer, this.playerContainer);\r\n                }\r\n            }, this);\r\n        }\r\n\r\n        // Controlbar\r\n        const controlbar = this.controlbar = new Controlbar(api, model);\r\n        controlbar.on(USER_ACTION, () => this.userActive());\r\n        controlbar.on('nextShown', function (data) {\r\n            this.trigger('nextShown', data);\r\n        }, this);\r\n\r\n        // Next Up Tooltip\r\n        if (model.get('nextUpDisplay') && !controlbar.nextUpToolTip) {\r\n            const nextUpToolTip = new NextUpToolTip(model, api, this.playerContainer);\r\n            nextUpToolTip.on('all', this.trigger, this);\r\n            nextUpToolTip.setup(this.context);\r\n            controlbar.nextUpToolTip = nextUpToolTip;\r\n\r\n            // NextUp needs to be behind the controlbar to not block other tooltips\r\n            this.div.appendChild(nextUpToolTip.element());\r\n        }\r\n\r\n        this.addActiveListeners(controlbar.element());\r\n        this.div.appendChild(controlbar.element());\r\n\r\n        // Settings Menu\r\n        let lastState = null;\r\n        const visibilityChangeHandler = (visible, evt) => {\r\n            const state = model.get('state');\r\n            const settingsInteraction = { reason: 'settingsInteraction' };\r\n            const isKeyEvent = (evt && evt.sourceEvent || evt || {}).type === 'keydown';\r\n\r\n            utils.toggleClass(this.div, 'jw-settings-open', visible);\r\n            if (getBreakpoint(model.get('containerWidth')) < 2) {\r\n                if (visible && state === STATE_PLAYING) {\r\n                    // Pause playback on open if we're currently playing\r\n                    api.pause(settingsInteraction);\r\n                } else if (!visible && state === STATE_PAUSED && lastState === STATE_PLAYING) {\r\n                    // Resume playback on close if we are paused and were playing before\r\n                    api.play(settingsInteraction);\r\n                }\r\n            }\r\n            \r\n            // Trigger userActive so that a dismissive click outside the player can hide the controlbar\r\n            this.userActive(null, visible || isKeyEvent);\r\n            lastState = state;\r\n\r\n            const settingsButton = this.controlbar.elements.settingsButton;\r\n            if (!visible && isKeyEvent && settingsButton) {\r\n                settingsButton.element().focus();\r\n            }\r\n        };\r\n        const settingsMenu = this.settingsMenu = createSettingsMenu(controlbar, visibilityChangeHandler);\r\n        setupSubmenuListeners(settingsMenu, controlbar, model, api);\r\n\r\n        if (OS.mobile) {\r\n            this.div.appendChild(settingsMenu.element());\r\n        } else {\r\n            this.div.insertBefore(settingsMenu.element(), controlbar.element());\r\n        }\r\n\r\n        // Unmute Autoplay Button. Ignore iOS9. Muted autoplay is supported in iOS 10+\r\n        if (model.get('autostartMuted')) {\r\n            const unmuteCallback = () => this.unmuteAutoplay(api, model);\r\n            this.mute = button('jw-autostart-mute jw-off', unmuteCallback, model.get('localization').unmute,\r\n                [cloneIcon('volume-0')]);\r\n            this.mute.show();\r\n            this.div.appendChild(this.mute.element());\r\n            // Set mute state in the controlbar\r\n            controlbar.renderVolume(true, model.get('volume'));\r\n            // Hide the controlbar until the autostart flag is removed\r\n            utils.addClass(this.playerContainer, 'jw-flag-autostart');\r\n\r\n            model.on('change:autostartFailed change:autostartMuted change:mute', unmuteCallback, this);\r\n            this.unmuteCallback = unmuteCallback;\r\n        }\r\n\r\n        // Keyboard Commands\r\n        function adjustSeek(amount) {\r\n            let min = 0;\r\n            let max = model.get('duration');\r\n            const position = model.get('position');\r\n            if (model.get('streamType') === 'DVR') {\r\n                min = max;\r\n                max = Math.max(position, dvrSeekLimit);\r\n            }\r\n            const newSeek = utils.between(position + amount, min, max);\r\n            api.seek(newSeek, reasonInteraction());\r\n        }\r\n\r\n        function adjustVolume(amount) {\r\n            const newVol = utils.between(model.get('volume') + amount, 0, 100);\r\n            api.setVolume(newVol);\r\n        }\r\n\r\n        const handleKeydown = (evt) => {\r\n            // If Meta keys return\r\n            if (evt.ctrlKey || evt.metaKey) {\r\n                // Let event bubble upwards\r\n                return true;\r\n            }\r\n\r\n            switch (evt.keyCode) {\r\n                case 27: // Esc\r\n                    api.setFullscreen(false);\r\n                    this.playerContainer.blur();\r\n                    this.userInactive();\r\n                    break;\r\n                case 13: // enter\r\n                case 32: // space\r\n                    api.playToggle(reasonInteraction());\r\n                    break;\r\n                case 37: // left-arrow, if not adMode\r\n                    if (!this.instreamState) {\r\n                        adjustSeek(-5);\r\n                    }\r\n                    break;\r\n                case 39: // right-arrow, if not adMode\r\n                    if (!this.instreamState) {\r\n                        adjustSeek(5);\r\n                    }\r\n                    break;\r\n                case 38: // up-arrow\r\n                    adjustVolume(10);\r\n                    break;\r\n                case 40: // down-arrow\r\n                    adjustVolume(-10);\r\n                    break;\r\n                case 67: // c-key\r\n                    {\r\n                        const captionsList = api.getCaptionsList();\r\n                        const listLength = captionsList.length;\r\n                        if (listLength) {\r\n                            const nextIndex = (api.getCurrentCaptions() + 1) % listLength;\r\n                            api.setCurrentCaptions(nextIndex);\r\n                        }\r\n                    }\r\n                    break;\r\n                case 77: // m-key\r\n                    api.setMute();\r\n                    break;\r\n                case 70: // f-key\r\n                    api.setFullscreen();\r\n                    break;\r\n                default:\r\n                    if (evt.keyCode >= 48 && evt.keyCode <= 59) {\r\n                        // if 0-9 number key, move to n/10 of the percentage of the video\r\n                        const number = evt.keyCode - 48;\r\n                        const newSeek = (number / 10) * model.get('duration');\r\n                        api.seek(newSeek, reasonInteraction());\r\n                    }\r\n            }\r\n\r\n            if (/13|32|37|38|39|40/.test(evt.keyCode)) {\r\n                // Prevent keypresses from scrolling the screen\r\n                evt.preventDefault();\r\n                return false;\r\n            }\r\n        };\r\n        this.playerContainer.addEventListener('keydown', handleKeydown);\r\n        this.keydownCallback = handleKeydown;\r\n\r\n        // keep controls active when navigating inside the player\r\n        const handleKeyup = (evt) => {\r\n            if (!this.instreamState) {\r\n                const isTab = evt.keyCode === 9;\r\n                if (isTab) {\r\n                    const insideContainer = this.playerContainer.contains(evt.target);\r\n                    this.userActive(null, insideContainer);\r\n                }\r\n            }\r\n        };\r\n        this.playerContainer.addEventListener('keyup', handleKeyup);\r\n        this.keyupCallback = handleKeyup;\r\n\r\n        // Hide controls when focus leaves the player\r\n        const blurCallback = (evt) => {\r\n            const insideContainer = this.playerContainer.contains(evt.relatedTarget);\r\n            if (!insideContainer) {\r\n                this.userInactive();\r\n            }\r\n        };\r\n        this.playerContainer.addEventListener('blur', blurCallback, true);\r\n        this.blurCallback = blurCallback;\r\n\r\n        // Show controls when enabled\r\n        this.userActive();\r\n\r\n        this.playerContainer.appendChild(this.div);\r\n\r\n        this.addBackdrop();\r\n    }\r\n\r\n    disable(model) {\r\n        this.off();\r\n\r\n        if (model) {\r\n            model.off(null, null, this);\r\n            const mediaModel = model.get('mediaModel');\r\n            if (mediaModel) {\r\n                mediaModel.off(null, null, this);\r\n            }\r\n        }\r\n\r\n        clearTimeout(this.activeTimeout);\r\n\r\n        if (this.div.parentNode) {\r\n            utils.removeClass(this.playerContainer, 'jw-flag-touch');\r\n            this.playerContainer.removeChild(this.div);\r\n        }\r\n        if (this.controlbar) {\r\n            this.removeActiveListeners(this.controlbar.element());\r\n        }\r\n        if (this.rightClickMenu) {\r\n            this.rightClickMenu.destroy();\r\n        }\r\n\r\n        if (this.keydownCallback) {\r\n            this.playerContainer.removeEventListener('keydown', this.keydownCallback);\r\n        }\r\n\r\n        if (this.keyupCallback) {\r\n            this.playerContainer.removeEventListener('keyup', this.keyupCallback);\r\n        }\r\n\r\n        if (this.blurCallback) {\r\n            this.playerContainer.removeEventListener('blur', this.blurCallback);\r\n        }\r\n\r\n        const nextUpToolTip = this.nextUpToolTip;\r\n        if (nextUpToolTip) {\r\n            nextUpToolTip.destroy();\r\n        }\r\n\r\n        const settingsMenu = this.settingsMenu;\r\n        if (settingsMenu) {\r\n            settingsMenu.destroy();\r\n            this.div.removeChild(settingsMenu.element());\r\n        }\r\n\r\n        this.removeBackdrop();\r\n    }\r\n\r\n    controlbarHeight() {\r\n        if (!this.dimensions.cbHeight) {\r\n            this.dimensions.cbHeight = this.controlbar.element().clientHeight;\r\n        }\r\n        return this.dimensions.cbHeight;\r\n    }\r\n\r\n    element() {\r\n        return this.div;\r\n    }\r\n\r\n    logoContainer() {\r\n        return this.right;\r\n    }\r\n\r\n    resize() {\r\n        this.dimensions = {};\r\n    }\r\n\r\n    unmuteAutoplay(api, model) {\r\n        const autostartSucceeded = !model.get('autostartFailed');\r\n        let mute = model.get('mute');\r\n\r\n        // If autostart succeeded, it means the user has chosen to unmute the video,\r\n        // so we should update the model, setting mute to false\r\n        if (autostartSucceeded) {\r\n            mute = false;\r\n        } else {\r\n            // Don't try to play again when viewable since it will keep failing\r\n            model.set('playOnViewable', false);\r\n        }\r\n        if (this.unmuteCallback) {\r\n            model.off('change:autostartFailed change:autostartMuted change:mute', this.unmuteCallback);\r\n            this.unmuteCallback = null;\r\n        }\r\n        model.set('autostartFailed', undefined);\r\n        model.set('autostartMuted', undefined);\r\n        api.setMute(mute);\r\n        // the model's mute value may not have changed. ensure the controlbar's mute button is in the right state\r\n        this.controlbar.renderVolume(mute, model.get('volume'));\r\n        this.mute.hide();\r\n        utils.removeClass(this.playerContainer, 'jw-flag-autostart');\r\n    }\r\n\r\n    addActiveListeners(element) {\r\n        if (element && !OS.mobile) {\r\n            element.addEventListener('mousemove', this.activeListeners.mousemove);\r\n            element.addEventListener('mouseout', this.activeListeners.mouseout);\r\n        }\r\n    }\r\n\r\n    removeActiveListeners(element) {\r\n        if (element) {\r\n            element.removeEventListener('mousemove', this.activeListeners.mousemove);\r\n            element.removeEventListener('mouseout', this.activeListeners.mouseout);\r\n        }\r\n    }\r\n\r\n    userActive(timeout, isKeyDown) {\r\n        clearTimeout(this.activeTimeout);\r\n\r\n        if (!isKeyDown) {\r\n            this.activeTimeout = setTimeout(() => this.userInactive(),\r\n                timeout || ACTIVE_TIMEOUT);\r\n        }\r\n        if (!this.showing) {\r\n            utils.removeClass(this.playerContainer, 'jw-flag-user-inactive');\r\n            this.showing = true;\r\n            this.trigger('userActive');\r\n        }\r\n    }\r\n\r\n    userInactive() {\r\n        clearTimeout(this.activeTimeout);\r\n        if (this.settingsMenu.visible) {\r\n            return;\r\n        }\r\n\r\n        this.showing = false;\r\n        utils.addClass(this.playerContainer, 'jw-flag-user-inactive');\r\n        this.trigger('userInactive');\r\n    }\r\n\r\n    addBackdrop() {\r\n        // Put the backdrop element on top of overlays during instream mode\r\n        // otherwise keep it behind captions and on top of preview poster\r\n        const element = this.instreamState ? this.div : this.playerContainer.querySelector('.jw-captions');\r\n        this.playerContainer.insertBefore(this.backdrop, element);\r\n    }\r\n\r\n    removeBackdrop() {\r\n        const parent = this.backdrop.parentNode;\r\n        if (parent) {\r\n            parent.removeChild(this.backdrop);\r\n        }\r\n    }\r\n\r\n    setupInstream(instreamModel) {\r\n        this.instreamState = instreamModel.get('state');\r\n        // Call Controls.userActivity to display the UI temporarily for the start of the ad\r\n        this.userActive();\r\n        this.addBackdrop();\r\n        this.controlbar.useInstreamTime(instreamModel);\r\n        if (this.settingsMenu) {\r\n            this.settingsMenu.close();\r\n        }\r\n        utils.removeClass(this.playerContainer, 'jw-flag-autostart');\r\n    }\r\n\r\n    destroyInstream(model) {\r\n        this.instreamState = null;\r\n        this.addBackdrop();\r\n        this.controlbar.syncPlaybackTime(model);\r\n        if (model.get('autostartMuted')) {\r\n            utils.addClass(this.playerContainer, 'jw-flag-autostart');\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/controls.js","import instances from 'api/players';\r\nimport { showView } from 'api/core-shim';\r\nimport setConfig from 'api/set-config';\r\nimport setPlaylist from 'api/set-playlist';\r\nimport ApiQueueDecorator from 'api/api-queue';\r\nimport PlaylistLoader from 'playlist/loader';\r\nimport Playlist from 'playlist/playlist';\r\nimport InstreamAdapter from 'controller/instream-adapter';\r\nimport Captions from 'controller/captions';\r\nimport Model from 'controller/model';\r\nimport View from 'view/view';\r\nimport changeStateEvent from 'events/change-state-event';\r\nimport eventsMiddleware from 'controller/events-middleware';\r\nimport Events from 'utils/backbone.events';\r\nimport { OS } from 'environment/environment';\r\nimport { streamType } from 'providers/utils/stream-type';\r\nimport Promise, { resolved } from 'polyfills/promise';\r\nimport cancelable from 'utils/cancelable';\r\nimport _ from 'utils/underscore';\r\nimport { PLAYER_STATE, STATE_BUFFERING, STATE_IDLE, STATE_COMPLETE, STATE_PAUSED, STATE_PLAYING, STATE_ERROR, STATE_LOADING,\r\n    STATE_STALLED, MEDIA_BEFOREPLAY, PLAYLIST_LOADED, ERROR, PLAYLIST_COMPLETE, CAPTIONS_CHANGED, READY,\r\n    MEDIA_ERROR, MEDIA_COMPLETE, CAST_SESSION, FULLSCREEN, PLAYLIST_ITEM, MEDIA_VOLUME, MEDIA_MUTE, PLAYBACK_RATE_CHANGED,\r\n    CAPTIONS_LIST, CONTROLS, RESIZE } from 'events/events';\r\n\r\n// The model stores a different state than the provider\r\nfunction normalizeState(newstate) {\r\n    if (newstate === STATE_LOADING || newstate === STATE_STALLED) {\r\n        return STATE_BUFFERING;\r\n    }\r\n    return newstate;\r\n}\r\n\r\nconst Controller = function() {};\r\n\r\nObject.assign(Controller.prototype, {\r\n    setup(config, _api, originalContainer, eventListeners, commandQueue) {\r\n        const _this = this;\r\n        const _model = _this._model = new Model();\r\n\r\n        let _view;\r\n        let _captions;\r\n        let _preplay = false;\r\n        let _actionOnAttach;\r\n        let _stopPlaylist = false;\r\n        let _interruptPlay;\r\n        let checkAutoStartCancelable = cancelable(_checkAutoStart);\r\n        let updatePlaylistCancelable = cancelable(function() {});\r\n\r\n        _this.originalContainer = _this.currentContainer = originalContainer;\r\n        _this._events = eventListeners;\r\n\r\n        const _eventQueuedUntilReady = [];\r\n\r\n        _model.setup(config);\r\n        _view = this._view = new View(_api, _model);\r\n        _view.on('all', _triggerAfterReady, _this);\r\n\r\n        _model.mediaController.on('all', _triggerAfterReady, _this);\r\n        _model.mediaController.on(MEDIA_COMPLETE, () => {\r\n            // Insert a small delay here so that other complete handlers can execute\r\n            resolved.then(_completeHandler);\r\n        });\r\n        _model.mediaController.on(MEDIA_ERROR, _this.triggerError, _this);\r\n        _model.on(ERROR, _this.triggerError, _this);\r\n\r\n        // If we attempt to load flash, assume it is blocked if we don't hear back within a second\r\n        _model.on('change:flashBlocked', function(model, isBlocked) {\r\n            if (!isBlocked) {\r\n                this._model.set('errorEvent', undefined);\r\n                return;\r\n            }\r\n            // flashThrottle indicates whether this is a throttled event or plugin blocked event\r\n            const throttled = !!model.get('flashThrottle');\r\n            const errorEvent = {\r\n                message: throttled ? 'Click to run Flash' : 'Flash plugin failed to load'\r\n            };\r\n            // Only dispatch an error for Flash blocked, not throttled events\r\n            if (!throttled) {\r\n                this.trigger(ERROR, errorEvent);\r\n            }\r\n            this._model.set('errorEvent', errorEvent);\r\n        }, this);\r\n\r\n        _model.on('change:state', changeStateEvent, this);\r\n\r\n        _model.on('change:duration', function(model, duration) {\r\n            const minDvrWindow = model.get('minDvrWindow');\r\n            const type = streamType(duration, minDvrWindow);\r\n            model.setStreamType(type);\r\n        });\r\n\r\n        _model.on('change:castState', function(model, evt) {\r\n            _this.trigger(CAST_SESSION, evt);\r\n        });\r\n        _model.on('change:fullscreen', function(model, bool) {\r\n            _this.trigger(FULLSCREEN, {\r\n                fullscreen: bool\r\n            });\r\n            if (bool) {\r\n                // Stop autoplay behavior when the player enters fullscreen\r\n                model.set('playOnViewable', false);\r\n            }\r\n        });\r\n        _model.on('change:volume', function(model, vol) {\r\n            _this.trigger(MEDIA_VOLUME, {\r\n                volume: vol\r\n            });\r\n        });\r\n        _model.on('change:mute', function(model, mute) {\r\n            _this.trigger(MEDIA_MUTE, {\r\n                mute: mute\r\n            });\r\n        });\r\n\r\n        _model.on('change:playbackRate', function(model, rate) {\r\n            _this.trigger(PLAYBACK_RATE_CHANGED, {\r\n                playbackRate: rate,\r\n                position: model.get('position')\r\n            });\r\n        });\r\n\r\n        _model.on('change:scrubbing', function(model, state) {\r\n            if (state) {\r\n                _pause();\r\n            } else {\r\n                _play({ reason: 'interaction' });\r\n            }\r\n        });\r\n\r\n        // For onCaptionsList and onCaptionsChange\r\n        _model.on('change:captionsList', function(model, captionsList) {\r\n            _this.triggerAfterReady(CAPTIONS_LIST, {\r\n                tracks: captionsList,\r\n                track: _model.get('captionsIndex') || 0\r\n            });\r\n        });\r\n\r\n        _model.on('change:mediaModel', function(model) {\r\n            model.set('errorEvent', undefined);\r\n            model.mediaModel.change(PLAYER_STATE, function(mediaModel, state) {\r\n                if (!model.get('errorEvent')) {\r\n                    model.set(PLAYER_STATE, normalizeState(state));\r\n                }\r\n            });\r\n        });\r\n\r\n        // Ensure captionsList event is raised after playlistItem\r\n        _captions = new Captions(_model);\r\n        _captions.on('all', _triggerAfterReady);\r\n\r\n        function _video() {\r\n            return _model.getVideo();\r\n        }\r\n\r\n        function _triggerAfterReady(type, e) {\r\n            _this.triggerAfterReady(type, e);\r\n        }\r\n\r\n        function triggerControls(model, enable) {\r\n            _this.trigger(CONTROLS, {\r\n                controls: enable\r\n            });\r\n        }\r\n\r\n        _model.on('change:viewSetup', function(model, viewSetup) {\r\n            if (viewSetup) {\r\n                showView(this, _view.element());\r\n            }\r\n        }, this);\r\n\r\n        this.playerReady = function() {\r\n            const related = _api.getPlugin('related');\r\n            if (related) {\r\n                related.on('nextUp', (nextUp) => {\r\n                    _model.set('nextUp', nextUp);\r\n                });\r\n            }\r\n\r\n            // Fire 'ready' once the view has resized so that player width and height are available\r\n            // (requires the container to be in the DOM)\r\n            _view.once(RESIZE, _playerReadyNotify);\r\n\r\n            _view.init();\r\n        };\r\n\r\n        function _playerReadyNotify() {\r\n            _model.change('visibility', _updateViewable);\r\n            _model.on('change:controls', triggerControls);\r\n\r\n            // Tell the api that we are loaded\r\n            _this.trigger(READY, {\r\n                // this will be updated by Api\r\n                setupTime: 0\r\n            });\r\n\r\n            _model.change('playlist', function(model, playlist) {\r\n                if (playlist.length) {\r\n                    const eventData = {\r\n                        playlist: playlist\r\n                    };\r\n                    const feedData = _model.get('feedData');\r\n                    if (feedData) {\r\n                        const eventFeedData = Object.assign({}, feedData);\r\n                        delete eventFeedData.playlist;\r\n                        eventData.feedData = eventFeedData;\r\n                    }\r\n                    _this.trigger(PLAYLIST_LOADED, eventData);\r\n                }\r\n            });\r\n\r\n            _model.change('playlistItem', function(model, playlistItem) {\r\n                if (playlistItem) {\r\n                    _this.trigger(PLAYLIST_ITEM, {\r\n                        index: _model.get('item'),\r\n                        item: playlistItem\r\n                    });\r\n                }\r\n            });\r\n\r\n            // Stop queueing certain events\r\n            _this.triggerAfterReady = _this.trigger;\r\n\r\n            // Send queued events\r\n            for (let i = 0; i < _eventQueuedUntilReady.length; i++) {\r\n                const event = _eventQueuedUntilReady[i];\r\n                _preplay = (event.type === MEDIA_BEFOREPLAY);\r\n                _this.trigger(event.type, event.args);\r\n                _preplay = false;\r\n            }\r\n\r\n            _model.change('viewable', viewableChange);\r\n            _model.change('viewable', _checkPlayOnViewable);\r\n            _model.once('change:autostartFailed change:autostartMuted change:mute', function(model) {\r\n                model.off('change:viewable', _checkPlayOnViewable);\r\n            });\r\n\r\n            // Run _checkAutoStart() last\r\n            // 'viewable' changes can result in preload() being called on the initial provider instance\r\n            _checkAutoStart();\r\n        }\r\n\r\n        function _updateViewable(model, visibility) {\r\n            if (!_.isUndefined(visibility)) {\r\n                _model.set('viewable', Math.round(visibility));\r\n            }\r\n        }\r\n\r\n        function _checkAutoStart() {\r\n            if (!apiQueue) {\r\n                // this player has been destroyed\r\n                return;\r\n            }\r\n            if (!OS.mobile && _model.get('autostart') === true) {\r\n                // Autostart immediately if we're not mobile and not waiting for the player to become viewable first\r\n                _autoStart();\r\n            }\r\n            apiQueue.flush();\r\n        }\r\n\r\n        function viewableChange(model, viewable) {\r\n            _this.trigger('viewable', {\r\n                viewable: viewable\r\n            });\r\n\r\n\r\n            // Only attempt to preload if this is the first player on the page or viewable\r\n            if (instances[0] === _api || viewable === 1) {\r\n                model.preloadVideo();\r\n            }\r\n        }\r\n\r\n        function _checkPlayOnViewable(model, viewable) {\r\n            if (model.get('playOnViewable')) {\r\n                if (viewable) {\r\n                    _autoStart();\r\n                } else if (OS.mobile) {\r\n                    _this.pause({ reason: 'autostart' });\r\n                }\r\n            }\r\n        }\r\n\r\n        this.triggerAfterReady = function(type, args) {\r\n            _eventQueuedUntilReady.push({\r\n                type: type,\r\n                args: args\r\n            });\r\n        };\r\n\r\n        function _load(item, feedData) {\r\n\r\n            _this.trigger('destroyPlugin', {});\r\n            _stop(true);\r\n\r\n            checkAutoStartCancelable.cancel();\r\n            checkAutoStartCancelable = cancelable(_checkAutoStart);\r\n            updatePlaylistCancelable.cancel();\r\n\r\n            _primeMediaElementForPlayback();\r\n\r\n            let loadPromise;\r\n\r\n            switch (typeof item) {\r\n                case 'string': {\r\n                    const loadPlaylistPromise = _loadPlaylist(item).catch(error => {\r\n                        _this.triggerError({\r\n                            message: `Error loading playlist: ${error.message}`\r\n                        });\r\n                    });\r\n                    updatePlaylistCancelable = cancelable((data) => {\r\n                        if (data) {\r\n                            return _updatePlaylist(data.playlist, data);\r\n                        }\r\n                    });\r\n                    loadPromise = loadPlaylistPromise.then(updatePlaylistCancelable.async);\r\n                    break;\r\n                }\r\n                case 'object':\r\n                    loadPromise = _updatePlaylist(item, feedData);\r\n                    break;\r\n                case 'number':\r\n                    loadPromise = _setItem(item);\r\n                    break;\r\n                default:\r\n                    return;\r\n            }\r\n            loadPromise.catch(error => {\r\n                _this.triggerError({\r\n                    message: `Playlist error: ${error.message}`\r\n                });\r\n            });\r\n\r\n            loadPromise.then(checkAutoStartCancelable.async).catch(function() {});\r\n        }\r\n\r\n        function _updatePlaylist(data, feedData) {\r\n            const playlist = Playlist(data);\r\n            try {\r\n                setPlaylist(_model, playlist, feedData);\r\n            } catch (error) {\r\n                _model.set('item', 0);\r\n                _model.set('playlistItem', null);\r\n                return Promise.reject(error);\r\n            }\r\n            return _setItem(0);\r\n        }\r\n\r\n        function _loadPlaylist(toLoad) {\r\n            return new Promise((resolve, reject) => {\r\n                const loader = new PlaylistLoader();\r\n                loader.on(PLAYLIST_LOADED, function(data) {\r\n                    resolve(data);\r\n                });\r\n                loader.on(ERROR, function(error) {\r\n                    _model.set('feedData', {\r\n                        error: error\r\n                    });\r\n                    reject(error);\r\n                }, this);\r\n                loader.load(toLoad);\r\n            });\r\n        }\r\n\r\n        function _getAdState() {\r\n            return _this._instreamAdapter && _this._instreamAdapter.getState();\r\n        }\r\n\r\n        function _getState() {\r\n            const adState = _getAdState();\r\n            if (_.isString(adState)) {\r\n                return adState;\r\n            }\r\n            return _model.get('state');\r\n        }\r\n\r\n        function _play(meta) {\r\n            checkAutoStartCancelable.cancel();\r\n\r\n            if (_model.get('state') === STATE_ERROR) {\r\n                return resolved;\r\n            }\r\n\r\n            const playReason = _getReason(meta);\r\n            _model.set('playReason', playReason);\r\n\r\n            const adState = _getAdState();\r\n            if (_.isString(adState)) {\r\n                // this will resume the ad. _api.playAd would load a new ad\r\n                _api.pauseAd(false);\r\n                return resolved;\r\n            }\r\n\r\n            if (_model.get('state') === STATE_COMPLETE) {\r\n                _stop(true);\r\n                _setItem(0);\r\n            }\r\n\r\n            if (!_preplay) {\r\n                _preplay = true;\r\n                _this.triggerAfterReady(MEDIA_BEFOREPLAY, { playReason: playReason });\r\n                _preplay = false;\r\n                if (_interruptPlay) {\r\n                    _interruptPlay = false;\r\n                    _actionOnAttach = null;\r\n                    _primeMediaElementForPlayback();\r\n                    return resolved;\r\n                }\r\n            }\r\n\r\n            return _model.playVideo(playReason);\r\n        }\r\n\r\n        function _getReason(meta) {\r\n            if (meta && meta.reason) {\r\n                return meta.reason;\r\n            }\r\n            if (_inInteraction(window.event)) {\r\n                return 'interaction';\r\n            }\r\n            return 'external';\r\n        }\r\n\r\n        function _inInteraction(event) {\r\n            return event && /^(?:mouse|pointer|touch|gesture|click|key)/.test(event.type);\r\n        }\r\n\r\n        function _primeMediaElementForPlayback() {\r\n            // If we're in a user-gesture event call load() on video to allow async playback\r\n            if (_inInteraction(window.event)) {\r\n                const mediaElement = _model.get('mediaElement');\r\n                if (!mediaElement.src) {\r\n                    mediaElement.load();\r\n                }\r\n            }\r\n        }\r\n\r\n        function _autoStart() {\r\n            const state = _model.get('state');\r\n            if (state === STATE_IDLE || state === STATE_PAUSED) {\r\n                _play({ reason: 'autostart' }).catch(() => {\r\n                    if (!_this._instreamAdapter) {\r\n                        _model.set('autostartFailed', true);\r\n                    }\r\n                    _actionOnAttach = null;\r\n                });\r\n            }\r\n        }\r\n\r\n        function _stop(internal) {\r\n            checkAutoStartCancelable.cancel();\r\n            apiQueue.empty();\r\n\r\n            const adState = _getAdState();\r\n            if (_.isString(adState)) {\r\n                return;\r\n            }\r\n\r\n            const fromApi = !internal;\r\n\r\n            _actionOnAttach = null;\r\n\r\n            if (fromApi) {\r\n                _stopPlaylist = true;\r\n            }\r\n\r\n            if (_preplay) {\r\n                _interruptPlay = true;\r\n            }\r\n\r\n            _model.set('errorEvent', undefined);\r\n\r\n            const provider = _model.getVideo();\r\n            _model.stopVideo();\r\n            if (!provider) {\r\n                _model.set('state', STATE_IDLE);\r\n            }\r\n        }\r\n\r\n        function _pause(meta) {\r\n            _actionOnAttach = null;\r\n            checkAutoStartCancelable.cancel();\r\n\r\n            const pauseReason = _getReason(meta);\r\n            _model.set('pauseReason', pauseReason);\r\n            // Stop autoplay behavior if the video is paused by the user or an api call\r\n            if (pauseReason === 'interaction' || pauseReason === 'external') {\r\n                _model.set('playOnViewable', false);\r\n            }\r\n\r\n            const adState = _getAdState();\r\n            if (_.isString(adState)) {\r\n                _api.pauseAd(true);\r\n                return;\r\n            }\r\n\r\n            switch (_model.get('state')) {\r\n                case STATE_ERROR:\r\n                    return;\r\n                case STATE_PLAYING:\r\n                case STATE_BUFFERING: {\r\n\r\n                    _video().pause();\r\n                    break;\r\n                }\r\n                default:\r\n                    if (_preplay) {\r\n                        _interruptPlay = true;\r\n                    }\r\n            }\r\n        }\r\n\r\n        function _isIdle() {\r\n            const state = _model.get('state');\r\n            return (state === STATE_IDLE || state === STATE_COMPLETE || state === STATE_ERROR);\r\n        }\r\n\r\n        function _seek(pos, meta) {\r\n            if (_model.get('state') === STATE_ERROR) {\r\n                return;\r\n            }\r\n            if (!_model.get('scrubbing') && _model.get('state') !== STATE_PLAYING) {\r\n                _play(meta);\r\n            }\r\n            _video().seek(pos);\r\n        }\r\n\r\n        function _item(index, meta) {\r\n            _stop(true);\r\n            _setItem(index);\r\n            _play(meta);\r\n        }\r\n\r\n        function _setItem(index) {\r\n            return _model.setItemIndex(index);\r\n        }\r\n\r\n        function _prev(meta) {\r\n            _item(_model.get('item') - 1, meta);\r\n        }\r\n\r\n        function _next(meta) {\r\n            _item(_model.get('item') + 1, meta);\r\n        }\r\n\r\n        function _completeHandler() {\r\n            if (!_isIdle()) {\r\n                // Something has made an API call before the complete handler has fired.\r\n                return;\r\n            } else if (_stopPlaylist) {\r\n                // Stop called in onComplete event listener\r\n                _stopPlaylist = false;\r\n                return;\r\n            }\r\n\r\n            _actionOnAttach = _completeHandler;\r\n\r\n            const idx = _model.get('item');\r\n            if (idx === _model.get('playlist').length - 1) {\r\n                // If it's the last item in the playlist\r\n                if (_model.get('repeat')) {\r\n                    _next({ reason: 'repeat' });\r\n                } else {\r\n                    // Exit fullscreen on IOS so that our overlays show to the user\r\n                    if (OS.iOS) {\r\n                        _setFullscreen(false);\r\n                    }\r\n                    // Autoplay/pause no longer needed since there's no more media to play\r\n                    // This prevents media from replaying when a completed video scrolls into view\r\n                    _model.set('playOnViewable', false);\r\n                    _model.set('state', STATE_COMPLETE);\r\n                    _this.trigger(PLAYLIST_COMPLETE, {});\r\n                }\r\n                return;\r\n            }\r\n\r\n            // It wasn't the last item in the playlist,\r\n            //  so go to the next one and trigger an autoadvance event\r\n            const related = _api.getPlugin('related');\r\n            triggerAdvanceEvent(related, 'nextAutoAdvance');\r\n            _next({ reason: 'playlist' });\r\n        }\r\n\r\n        function _setCurrentQuality(index) {\r\n            if (_video()) {\r\n                index = parseInt(index, 10) || 0;\r\n                _video().setCurrentQuality(index);\r\n            }\r\n        }\r\n\r\n        function _getCurrentQuality() {\r\n            if (_video()) {\r\n                return _video().getCurrentQuality();\r\n            }\r\n            return -1;\r\n        }\r\n\r\n        function _getConfig() {\r\n            return this._model ? this._model.getConfiguration() : undefined;\r\n        }\r\n\r\n        function _getVisualQuality() {\r\n            if (this._model.mediaModel) {\r\n                return this._model.mediaModel.get('visualQuality');\r\n            }\r\n            // if quality is not implemented in the provider,\r\n            // return quality info based on current level\r\n            const qualityLevels = _getQualityLevels();\r\n            if (qualityLevels) {\r\n                const levelIndex = _getCurrentQuality();\r\n                const level = qualityLevels[levelIndex];\r\n                if (level) {\r\n                    return {\r\n                        level: Object.assign({\r\n                            index: levelIndex\r\n                        }, level),\r\n                        mode: '',\r\n                        reason: ''\r\n                    };\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n\r\n        function _getQualityLevels() {\r\n            if (_video()) {\r\n                return _video().getQualityLevels();\r\n            }\r\n            return null;\r\n        }\r\n\r\n        function _setCurrentAudioTrack(index) {\r\n            if (_video()) {\r\n                index = parseInt(index, 10) || 0;\r\n                _video().setCurrentAudioTrack(index);\r\n            }\r\n        }\r\n\r\n        function _getCurrentAudioTrack() {\r\n            if (_video()) {\r\n                return _video().getCurrentAudioTrack();\r\n            }\r\n            return -1;\r\n        }\r\n\r\n        function _getAudioTracks() {\r\n            if (_video()) {\r\n                return _video().getAudioTracks();\r\n            }\r\n            return null;\r\n        }\r\n\r\n        function _setCurrentCaptions(index) {\r\n            index = parseInt(index, 10) || 0;\r\n\r\n            // update provider subtitle track\r\n            _model.persistVideoSubtitleTrack(index);\r\n\r\n            _this.trigger(CAPTIONS_CHANGED, {\r\n                tracks: _getCaptionsList(),\r\n                track: index\r\n            });\r\n        }\r\n\r\n        function _getCurrentCaptions() {\r\n            return _captions.getCurrentIndex();\r\n        }\r\n\r\n        function _getCaptionsList() {\r\n            return _captions.getCaptionsList();\r\n        }\r\n\r\n        /** Used for the InStream API **/\r\n        function _detachMedia() {\r\n            if (_preplay) {\r\n                _interruptPlay = true;\r\n            }\r\n            return _model.detachMedia();\r\n        }\r\n\r\n        function _attachMedia() {\r\n            // Called after instream ends\r\n            _model.attachMedia();\r\n\r\n            if (typeof _actionOnAttach === 'function') {\r\n                _actionOnAttach();\r\n            }\r\n        }\r\n\r\n        function _setFullscreen(state) {\r\n            if (!_.isBoolean(state)) {\r\n                state = !_model.get('fullscreen');\r\n            }\r\n\r\n            _model.set('fullscreen', state);\r\n            if (_this._instreamAdapter && _this._instreamAdapter._adModel) {\r\n                _this._instreamAdapter._adModel.set('fullscreen', state);\r\n            }\r\n        }\r\n\r\n        function _nextUp() {\r\n            const related = _api.getPlugin('related');\r\n            triggerAdvanceEvent(related, 'nextClick', () => related.next());\r\n        }\r\n\r\n        function triggerAdvanceEvent(related, evt, cb) {\r\n            if (!related) {\r\n                return;\r\n            }\r\n            const nextUp = _model.get('nextUp');\r\n            if (nextUp) {\r\n                _this.trigger(evt, {\r\n                    mode: nextUp.mode,\r\n                    ui: 'nextup',\r\n                    target: nextUp,\r\n                    itemsShown: [ nextUp ],\r\n                    feedData: nextUp.feedData,\r\n                });\r\n            }\r\n            if (typeof cb === 'function') {\r\n                cb();\r\n            }\r\n        }\r\n\r\n        /** Controller API / public methods **/\r\n        this.load = _load;\r\n        this.play = _play;\r\n        this.pause = _pause;\r\n        this.seek = _seek;\r\n        this.stop = _stop;\r\n        this.playlistItem = _item;\r\n        this.playlistNext = _next;\r\n        this.playlistPrev = _prev;\r\n        this.setCurrentCaptions = _setCurrentCaptions;\r\n        this.setCurrentQuality = _setCurrentQuality;\r\n        this.setFullscreen = _setFullscreen;\r\n        this.detachMedia = _detachMedia;\r\n        this.attachMedia = _attachMedia;\r\n        this.getCurrentQuality = _getCurrentQuality;\r\n        this.getQualityLevels = _getQualityLevels;\r\n        this.setCurrentAudioTrack = _setCurrentAudioTrack;\r\n        this.getCurrentAudioTrack = _getCurrentAudioTrack;\r\n        this.getAudioTracks = _getAudioTracks;\r\n        this.getCurrentCaptions = _getCurrentCaptions;\r\n        this.getCaptionsList = _getCaptionsList;\r\n        this.getVisualQuality = _getVisualQuality;\r\n        this.getConfig = _getConfig;\r\n        this.getState = _getState;\r\n        this.next = _nextUp;\r\n        this.setConfig = (newConfig) => setConfig(_this, newConfig);\r\n\r\n        // Model passthroughs\r\n        this.setVolume = _model.setVolume.bind(_model);\r\n        this.setMute = _model.setMute.bind(_model);\r\n        this.setPlaybackRate = _model.setPlaybackRate.bind(_model);\r\n        this.getProvider = function() {\r\n            return _model.get('provider');\r\n        };\r\n        this.getWidth = function() {\r\n            return _model.get('containerWidth');\r\n        };\r\n        this.getHeight = function() {\r\n            return _model.get('containerHeight');\r\n        };\r\n        this.getItemQoe = function() {\r\n            return _model._qoeItem;\r\n        };\r\n        this.isBeforeComplete = function () {\r\n            return _model.checkComplete();\r\n        };\r\n        this.addButton = function(img, tooltip, callback, id, btnClass) {\r\n            let customButtons = _model.get('customButtons') || [];\r\n            let added = false;\r\n            const newButton = {\r\n                img: img,\r\n                tooltip: tooltip,\r\n                callback: callback,\r\n                id: id,\r\n                btnClass: btnClass\r\n            };\r\n\r\n            customButtons = customButtons.reduce(function(buttons, button) {\r\n                if (button.id === newButton.id) {\r\n                    added = true;\r\n                    buttons.push(newButton);\r\n                } else {\r\n                    buttons.push(button);\r\n                }\r\n                return buttons;\r\n            }, []);\r\n\r\n            if (!added) {\r\n                customButtons.unshift(newButton);\r\n            }\r\n\r\n            _model.set('customButtons', customButtons);\r\n        };\r\n        this.removeButton = function(id) {\r\n            const customButtons = _.filter(\r\n                _model.get('customButtons'),\r\n                (button) => button.id !== id\r\n            );\r\n\r\n            _model.set('customButtons', customButtons);\r\n        };\r\n        // Delegate trigger so we can run a middleware function before any event is bubbled through the API\r\n        this.trigger = function (type, args) {\r\n            const data = eventsMiddleware(_model, type, args);\r\n            return Events.trigger.call(this, type, data);\r\n        };\r\n\r\n        // View passthroughs\r\n        this.resize = _view.resize;\r\n        this.getSafeRegion = _view.getSafeRegion;\r\n        this.setCues = _view.addCues;\r\n        this.setCaptions = _view.setCaptions;\r\n\r\n        this.checkBeforePlay = function() {\r\n            return _preplay;\r\n        };\r\n\r\n        this.setControls = function (mode) {\r\n            if (!_.isBoolean(mode)) {\r\n                mode = !_model.get('controls');\r\n            }\r\n            _model.set('controls', mode);\r\n\r\n            const provider = _model.getVideo();\r\n            if (provider) {\r\n                provider.setControls(mode);\r\n            }\r\n        };\r\n\r\n        this.playerDestroy = function () {\r\n            this.trigger('destroyPlugin', {});\r\n            this.off();\r\n            this.stop();\r\n            showView(this, this.originalContainer);\r\n            if (_view) {\r\n                _view.destroy();\r\n            }\r\n            if (_model) {\r\n                _model.destroy();\r\n            }\r\n            if (apiQueue) {\r\n                apiQueue.destroy();\r\n            }\r\n            if (_captions) {\r\n                _captions.destroy();\r\n                _captions = null;\r\n            }\r\n            this.instreamDestroy();\r\n        };\r\n\r\n        this.isBeforePlay = this.checkBeforePlay;\r\n\r\n        this.createInstream = function() {\r\n            this.instreamDestroy();\r\n            this._instreamAdapter = new InstreamAdapter(this, _model, _view);\r\n            return this._instreamAdapter;\r\n        };\r\n\r\n        this.skipAd = function() {\r\n            if (this._instreamAdapter) {\r\n                this._instreamAdapter.skipAd();\r\n            }\r\n        };\r\n\r\n        this.instreamDestroy = function() {\r\n            if (_this._instreamAdapter) {\r\n                _this._instreamAdapter.destroy();\r\n                _this._instreamAdapter = null;\r\n            }\r\n        };\r\n\r\n        // Setup ApiQueueDecorator after instance methods have been assigned\r\n        const apiQueue = new ApiQueueDecorator(this, [\r\n            'play',\r\n            'pause',\r\n            'seek',\r\n            'setCurrentAudioTrack',\r\n            'setCurrentCaptions',\r\n            'setCurrentQuality',\r\n            'setFullscreen',\r\n        ], () => !_model.getVideo());\r\n        // Add commands from CoreLoader to queue\r\n        apiQueue.queue.push.apply(apiQueue.queue, commandQueue);\r\n\r\n        _view.setup();\r\n    },\r\n    get(property) {\r\n        return this._model.get(property);\r\n    },\r\n    getContainer() {\r\n        return this.currentContainer || this.originalContainer;\r\n    },\r\n    getMute() {\r\n        return this._model.getMute();\r\n    },\r\n    triggerError(evt) {\r\n        this._model.set('errorEvent', evt);\r\n        this._model.set('state', STATE_ERROR);\r\n        this._model.once('change:state', function() {\r\n            this._model.set('errorEvent', undefined);\r\n        }, this);\r\n\r\n        this.trigger(ERROR, evt);\r\n    }\r\n});\r\n\r\nexport default Controller;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/controller/controller.js","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n(function(window, document) {\n'use strict';\n\n\n// Exits early if all IntersectionObserver and IntersectionObserverEntry\n// features are natively supported.\nif ('IntersectionObserver' in window &&\n    'IntersectionObserverEntry' in window &&\n    'intersectionRatio' in IntersectionObserverEntry.prototype) {\n\n  // Minimal polyfill for Edge 15's lack of `isIntersecting`\n  // See: https://github.com/WICG/IntersectionObserver/issues/211\n  if (!('isIntersecting' in IntersectionObserverEntry.prototype)) {\n    Object.defineProperty(IntersectionObserverEntry.prototype,\n      'isIntersecting', {\n      get: function () {\n        return this.intersectionRatio > 0;\n      }\n    });\n  }\n  return;\n}\n\n\n/**\n * An IntersectionObserver registry. This registry exists to hold a strong\n * reference to IntersectionObserver instances currently observering a target\n * element. Without this registry, instances without another reference may be\n * garbage collected.\n */\nvar registry = [];\n\n\n/**\n * Creates the global IntersectionObserverEntry constructor.\n * https://wicg.github.io/IntersectionObserver/#intersection-observer-entry\n * @param {Object} entry A dictionary of instance properties.\n * @constructor\n */\nfunction IntersectionObserverEntry(entry) {\n  this.time = entry.time;\n  this.target = entry.target;\n  this.rootBounds = entry.rootBounds;\n  this.boundingClientRect = entry.boundingClientRect;\n  this.intersectionRect = entry.intersectionRect || getEmptyRect();\n  this.isIntersecting = !!entry.intersectionRect;\n\n  // Calculates the intersection ratio.\n  var targetRect = this.boundingClientRect;\n  var targetArea = targetRect.width * targetRect.height;\n  var intersectionRect = this.intersectionRect;\n  var intersectionArea = intersectionRect.width * intersectionRect.height;\n\n  // Sets intersection ratio.\n  if (targetArea) {\n    this.intersectionRatio = intersectionArea / targetArea;\n  } else {\n    // If area is zero and is intersecting, sets to 1, otherwise to 0\n    this.intersectionRatio = this.isIntersecting ? 1 : 0;\n  }\n}\n\n\n/**\n * Creates the global IntersectionObserver constructor.\n * https://wicg.github.io/IntersectionObserver/#intersection-observer-interface\n * @param {Function} callback The function to be invoked after intersection\n *     changes have queued. The function is not invoked if the queue has\n *     been emptied by calling the `takeRecords` method.\n * @param {Object=} opt_options Optional configuration options.\n * @constructor\n */\nfunction IntersectionObserver(callback, opt_options) {\n\n  var options = opt_options || {};\n\n  if (typeof callback != 'function') {\n    throw new Error('callback must be a function');\n  }\n\n  if (options.root && options.root.nodeType != 1) {\n    throw new Error('root must be an Element');\n  }\n\n  // Binds and throttles `this._checkForIntersections`.\n  this._checkForIntersections = throttle(\n      this._checkForIntersections.bind(this), this.THROTTLE_TIMEOUT);\n\n  // Private properties.\n  this._callback = callback;\n  this._observationTargets = [];\n  this._queuedEntries = [];\n  this._rootMarginValues = this._parseRootMargin(options.rootMargin);\n\n  // Public properties.\n  this.thresholds = this._initThresholds(options.threshold);\n  this.root = options.root || null;\n  this.rootMargin = this._rootMarginValues.map(function(margin) {\n    return margin.value + margin.unit;\n  }).join(' ');\n}\n\n\n/**\n * The minimum interval within which the document will be checked for\n * intersection changes.\n */\nIntersectionObserver.prototype.THROTTLE_TIMEOUT = 100;\n\n\n/**\n * The frequency in which the polyfill polls for intersection changes.\n * this can be updated on a per instance basis and must be set prior to\n * calling `observe` on the first target.\n */\nIntersectionObserver.prototype.POLL_INTERVAL = null;\n\n\n/**\n * Starts observing a target element for intersection changes based on\n * the thresholds values.\n * @param {Element} target The DOM element to observe.\n */\nIntersectionObserver.prototype.observe = function(target) {\n  // If the target is already being observed, do nothing.\n  if (this._observationTargets.some(function(item) {\n    return item.element == target;\n  })) {\n    return;\n  }\n\n  if (!(target && target.nodeType == 1)) {\n    throw new Error('target must be an Element');\n  }\n\n  this._registerInstance();\n  this._observationTargets.push({element: target, entry: null});\n  this._monitorIntersections();\n};\n\n\n/**\n * Stops observing a target element for intersection changes.\n * @param {Element} target The DOM element to observe.\n */\nIntersectionObserver.prototype.unobserve = function(target) {\n  this._observationTargets =\n      this._observationTargets.filter(function(item) {\n\n    return item.element != target;\n  });\n  if (!this._observationTargets.length) {\n    this._unmonitorIntersections();\n    this._unregisterInstance();\n  }\n};\n\n\n/**\n * Stops observing all target elements for intersection changes.\n */\nIntersectionObserver.prototype.disconnect = function() {\n  this._observationTargets = [];\n  this._unmonitorIntersections();\n  this._unregisterInstance();\n};\n\n\n/**\n * Returns any queue entries that have not yet been reported to the\n * callback and clears the queue. This can be used in conjunction with the\n * callback to obtain the absolute most up-to-date intersection information.\n * @return {Array} The currently queued entries.\n */\nIntersectionObserver.prototype.takeRecords = function() {\n  var records = this._queuedEntries.slice();\n  this._queuedEntries = [];\n  return records;\n};\n\n\n/**\n * Accepts the threshold value from the user configuration object and\n * returns a sorted array of unique threshold values. If a value is not\n * between 0 and 1 and error is thrown.\n * @private\n * @param {Array|number=} opt_threshold An optional threshold value or\n *     a list of threshold values, defaulting to [0].\n * @return {Array} A sorted list of unique and valid threshold values.\n */\nIntersectionObserver.prototype._initThresholds = function(opt_threshold) {\n  var threshold = opt_threshold || [0];\n  if (!Array.isArray(threshold)) threshold = [threshold];\n\n  return threshold.sort().filter(function(t, i, a) {\n    if (typeof t != 'number' || isNaN(t) || t < 0 || t > 1) {\n      throw new Error('threshold must be a number between 0 and 1 inclusively');\n    }\n    return t !== a[i - 1];\n  });\n};\n\n\n/**\n * Accepts the rootMargin value from the user configuration object\n * and returns an array of the four margin values as an object containing\n * the value and unit properties. If any of the values are not properly\n * formatted or use a unit other than px or %, and error is thrown.\n * @private\n * @param {string=} opt_rootMargin An optional rootMargin value,\n *     defaulting to '0px'.\n * @return {Array<Object>} An array of margin objects with the keys\n *     value and unit.\n */\nIntersectionObserver.prototype._parseRootMargin = function(opt_rootMargin) {\n  var marginString = opt_rootMargin || '0px';\n  var margins = marginString.split(/\\s+/).map(function(margin) {\n    var parts = /^(-?\\d*\\.?\\d+)(px|%)$/.exec(margin);\n    if (!parts) {\n      throw new Error('rootMargin must be specified in pixels or percent');\n    }\n    return {value: parseFloat(parts[1]), unit: parts[2]};\n  });\n\n  // Handles shorthand.\n  margins[1] = margins[1] || margins[0];\n  margins[2] = margins[2] || margins[0];\n  margins[3] = margins[3] || margins[1];\n\n  return margins;\n};\n\n\n/**\n * Starts polling for intersection changes if the polling is not already\n * happening, and if the page's visibilty state is visible.\n * @private\n */\nIntersectionObserver.prototype._monitorIntersections = function() {\n  if (!this._monitoringIntersections) {\n    this._monitoringIntersections = true;\n\n    this._checkForIntersections();\n\n    // If a poll interval is set, use polling instead of listening to\n    // resize and scroll events or DOM mutations.\n    if (this.POLL_INTERVAL) {\n      this._monitoringInterval = setInterval(\n          this._checkForIntersections, this.POLL_INTERVAL);\n    }\n    else {\n      addEvent(window, 'resize', this._checkForIntersections, true);\n      addEvent(document, 'scroll', this._checkForIntersections, true);\n\n      if ('MutationObserver' in window) {\n        this._domObserver = new MutationObserver(this._checkForIntersections);\n        this._domObserver.observe(document, {\n          attributes: true,\n          childList: true,\n          characterData: true,\n          subtree: true\n        });\n      }\n    }\n  }\n};\n\n\n/**\n * Stops polling for intersection changes.\n * @private\n */\nIntersectionObserver.prototype._unmonitorIntersections = function() {\n  if (this._monitoringIntersections) {\n    this._monitoringIntersections = false;\n\n    clearInterval(this._monitoringInterval);\n    this._monitoringInterval = null;\n\n    removeEvent(window, 'resize', this._checkForIntersections, true);\n    removeEvent(document, 'scroll', this._checkForIntersections, true);\n\n    if (this._domObserver) {\n      this._domObserver.disconnect();\n      this._domObserver = null;\n    }\n  }\n};\n\n\n/**\n * Scans each observation target for intersection changes and adds them\n * to the internal entries queue. If new entries are found, it\n * schedules the callback to be invoked.\n * @private\n */\nIntersectionObserver.prototype._checkForIntersections = function() {\n  var rootIsInDom = this._rootIsInDom();\n  var rootRect = rootIsInDom ? this._getRootRect() : getEmptyRect();\n\n  this._observationTargets.forEach(function(item) {\n    var target = item.element;\n    var targetRect = getBoundingClientRect(target);\n    var rootContainsTarget = this._rootContainsTarget(target);\n    var oldEntry = item.entry;\n    var intersectionRect = rootIsInDom && rootContainsTarget &&\n        this._computeTargetAndRootIntersection(target, rootRect);\n\n    var newEntry = item.entry = new IntersectionObserverEntry({\n      time: now(),\n      target: target,\n      boundingClientRect: targetRect,\n      rootBounds: rootRect,\n      intersectionRect: intersectionRect\n    });\n\n    if (!oldEntry) {\n      this._queuedEntries.push(newEntry);\n    } else if (rootIsInDom && rootContainsTarget) {\n      // If the new entry intersection ratio has crossed any of the\n      // thresholds, add a new entry.\n      if (this._hasCrossedThreshold(oldEntry, newEntry)) {\n        this._queuedEntries.push(newEntry);\n      }\n    } else {\n      // If the root is not in the DOM or target is not contained within\n      // root but the previous entry for this target had an intersection,\n      // add a new record indicating removal.\n      if (oldEntry && oldEntry.isIntersecting) {\n        this._queuedEntries.push(newEntry);\n      }\n    }\n  }, this);\n\n  if (this._queuedEntries.length) {\n    this._callback(this.takeRecords(), this);\n  }\n};\n\n\n/**\n * Accepts a target and root rect computes the intersection between then\n * following the algorithm in the spec.\n * TODO(philipwalton): at this time clip-path is not considered.\n * https://wicg.github.io/IntersectionObserver/#calculate-intersection-rect-algo\n * @param {Element} target The target DOM element\n * @param {Object} rootRect The bounding rect of the root after being\n *     expanded by the rootMargin value.\n * @return {?Object} The final intersection rect object or undefined if no\n *     intersection is found.\n * @private\n */\nIntersectionObserver.prototype._computeTargetAndRootIntersection =\n    function(target, rootRect) {\n\n  // If the element isn't displayed, an intersection can't happen.\n  if (window.getComputedStyle(target).display == 'none') return;\n\n  var targetRect = getBoundingClientRect(target);\n  var intersectionRect = targetRect;\n  var parent = getParentNode(target);\n  var atRoot = false;\n\n  while (!atRoot) {\n    var parentRect = null;\n    var parentComputedStyle = parent.nodeType == 1 ?\n        window.getComputedStyle(parent) : {};\n\n    // If the parent isn't displayed, an intersection can't happen.\n    if (parentComputedStyle.display == 'none') return;\n\n    if (parent == this.root || parent == document) {\n      atRoot = true;\n      parentRect = rootRect;\n    } else {\n      // If the element has a non-visible overflow, and it's not the <body>\n      // or <html> element, update the intersection rect.\n      // Note: <body> and <html> cannot be clipped to a rect that's not also\n      // the document rect, so no need to compute a new intersection.\n      if (parent != document.body &&\n          parent != document.documentElement &&\n          parentComputedStyle.overflow != 'visible') {\n        parentRect = getBoundingClientRect(parent);\n      }\n    }\n\n    // If either of the above conditionals set a new parentRect,\n    // calculate new intersection data.\n    if (parentRect) {\n      intersectionRect = computeRectIntersection(parentRect, intersectionRect);\n\n      if (!intersectionRect) break;\n    }\n    parent = getParentNode(parent);\n  }\n  return intersectionRect;\n};\n\n\n/**\n * Returns the root rect after being expanded by the rootMargin value.\n * @return {Object} The expanded root rect.\n * @private\n */\nIntersectionObserver.prototype._getRootRect = function() {\n  var rootRect;\n  if (this.root) {\n    rootRect = getBoundingClientRect(this.root);\n  } else {\n    // Use <html>/<body> instead of window since scroll bars affect size.\n    var html = document.documentElement;\n    var body = document.body;\n    rootRect = {\n      top: 0,\n      left: 0,\n      right: html.clientWidth || body.clientWidth,\n      width: html.clientWidth || body.clientWidth,\n      bottom: html.clientHeight || body.clientHeight,\n      height: html.clientHeight || body.clientHeight\n    };\n  }\n  return this._expandRectByRootMargin(rootRect);\n};\n\n\n/**\n * Accepts a rect and expands it by the rootMargin value.\n * @param {Object} rect The rect object to expand.\n * @return {Object} The expanded rect.\n * @private\n */\nIntersectionObserver.prototype._expandRectByRootMargin = function(rect) {\n  var margins = this._rootMarginValues.map(function(margin, i) {\n    return margin.unit == 'px' ? margin.value :\n        margin.value * (i % 2 ? rect.width : rect.height) / 100;\n  });\n  var newRect = {\n    top: rect.top - margins[0],\n    right: rect.right + margins[1],\n    bottom: rect.bottom + margins[2],\n    left: rect.left - margins[3]\n  };\n  newRect.width = newRect.right - newRect.left;\n  newRect.height = newRect.bottom - newRect.top;\n\n  return newRect;\n};\n\n\n/**\n * Accepts an old and new entry and returns true if at least one of the\n * threshold values has been crossed.\n * @param {?IntersectionObserverEntry} oldEntry The previous entry for a\n *    particular target element or null if no previous entry exists.\n * @param {IntersectionObserverEntry} newEntry The current entry for a\n *    particular target element.\n * @return {boolean} Returns true if a any threshold has been crossed.\n * @private\n */\nIntersectionObserver.prototype._hasCrossedThreshold =\n    function(oldEntry, newEntry) {\n\n  // To make comparing easier, an entry that has a ratio of 0\n  // but does not actually intersect is given a value of -1\n  var oldRatio = oldEntry && oldEntry.isIntersecting ?\n      oldEntry.intersectionRatio || 0 : -1;\n  var newRatio = newEntry.isIntersecting ?\n      newEntry.intersectionRatio || 0 : -1;\n\n  // Ignore unchanged ratios\n  if (oldRatio === newRatio) return;\n\n  for (var i = 0; i < this.thresholds.length; i++) {\n    var threshold = this.thresholds[i];\n\n    // Return true if an entry matches a threshold or if the new ratio\n    // and the old ratio are on the opposite sides of a threshold.\n    if (threshold == oldRatio || threshold == newRatio ||\n        threshold < oldRatio !== threshold < newRatio) {\n      return true;\n    }\n  }\n};\n\n\n/**\n * Returns whether or not the root element is an element and is in the DOM.\n * @return {boolean} True if the root element is an element and is in the DOM.\n * @private\n */\nIntersectionObserver.prototype._rootIsInDom = function() {\n  return !this.root || containsDeep(document, this.root);\n};\n\n\n/**\n * Returns whether or not the target element is a child of root.\n * @param {Element} target The target element to check.\n * @return {boolean} True if the target element is a child of root.\n * @private\n */\nIntersectionObserver.prototype._rootContainsTarget = function(target) {\n  return containsDeep(this.root || document, target);\n};\n\n\n/**\n * Adds the instance to the global IntersectionObserver registry if it isn't\n * already present.\n * @private\n */\nIntersectionObserver.prototype._registerInstance = function() {\n  if (registry.indexOf(this) < 0) {\n    registry.push(this);\n  }\n};\n\n\n/**\n * Removes the instance from the global IntersectionObserver registry.\n * @private\n */\nIntersectionObserver.prototype._unregisterInstance = function() {\n  var index = registry.indexOf(this);\n  if (index != -1) registry.splice(index, 1);\n};\n\n\n/**\n * Returns the result of the performance.now() method or null in browsers\n * that don't support the API.\n * @return {number} The elapsed time since the page was requested.\n */\nfunction now() {\n  return window.performance && performance.now && performance.now();\n}\n\n\n/**\n * Throttles a function and delays its executiong, so it's only called at most\n * once within a given time period.\n * @param {Function} fn The function to throttle.\n * @param {number} timeout The amount of time that must pass before the\n *     function can be called again.\n * @return {Function} The throttled function.\n */\nfunction throttle(fn, timeout) {\n  var timer = null;\n  return function () {\n    if (!timer) {\n      timer = setTimeout(function() {\n        fn();\n        timer = null;\n      }, timeout);\n    }\n  };\n}\n\n\n/**\n * Adds an event handler to a DOM node ensuring cross-browser compatibility.\n * @param {Node} node The DOM node to add the event handler to.\n * @param {string} event The event name.\n * @param {Function} fn The event handler to add.\n * @param {boolean} opt_useCapture Optionally adds the even to the capture\n *     phase. Note: this only works in modern browsers.\n */\nfunction addEvent(node, event, fn, opt_useCapture) {\n  if (typeof node.addEventListener == 'function') {\n    node.addEventListener(event, fn, opt_useCapture || false);\n  }\n  else if (typeof node.attachEvent == 'function') {\n    node.attachEvent('on' + event, fn);\n  }\n}\n\n\n/**\n * Removes a previously added event handler from a DOM node.\n * @param {Node} node The DOM node to remove the event handler from.\n * @param {string} event The event name.\n * @param {Function} fn The event handler to remove.\n * @param {boolean} opt_useCapture If the event handler was added with this\n *     flag set to true, it should be set to true here in order to remove it.\n */\nfunction removeEvent(node, event, fn, opt_useCapture) {\n  if (typeof node.removeEventListener == 'function') {\n    node.removeEventListener(event, fn, opt_useCapture || false);\n  }\n  else if (typeof node.detatchEvent == 'function') {\n    node.detatchEvent('on' + event, fn);\n  }\n}\n\n\n/**\n * Returns the intersection between two rect objects.\n * @param {Object} rect1 The first rect.\n * @param {Object} rect2 The second rect.\n * @return {?Object} The intersection rect or undefined if no intersection\n *     is found.\n */\nfunction computeRectIntersection(rect1, rect2) {\n  var top = Math.max(rect1.top, rect2.top);\n  var bottom = Math.min(rect1.bottom, rect2.bottom);\n  var left = Math.max(rect1.left, rect2.left);\n  var right = Math.min(rect1.right, rect2.right);\n  var width = right - left;\n  var height = bottom - top;\n\n  return (width >= 0 && height >= 0) && {\n    top: top,\n    bottom: bottom,\n    left: left,\n    right: right,\n    width: width,\n    height: height\n  };\n}\n\n\n/**\n * Shims the native getBoundingClientRect for compatibility with older IE.\n * @param {Element} el The element whose bounding rect to get.\n * @return {Object} The (possibly shimmed) rect of the element.\n */\nfunction getBoundingClientRect(el) {\n  var rect;\n\n  try {\n    rect = el.getBoundingClientRect();\n  } catch (err) {\n    // Ignore Windows 7 IE11 \"Unspecified error\"\n    // https://github.com/WICG/IntersectionObserver/pull/205\n  }\n\n  if (!rect) return getEmptyRect();\n\n  // Older IE\n  if (!(rect.width && rect.height)) {\n    rect = {\n      top: rect.top,\n      right: rect.right,\n      bottom: rect.bottom,\n      left: rect.left,\n      width: rect.right - rect.left,\n      height: rect.bottom - rect.top\n    };\n  }\n  return rect;\n}\n\n\n/**\n * Returns an empty rect object. An empty rect is returned when an element\n * is not in the DOM.\n * @return {Object} The empty rect.\n */\nfunction getEmptyRect() {\n  return {\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    width: 0,\n    height: 0\n  };\n}\n\n/**\n * Checks to see if a parent element contains a child elemnt (including inside\n * shadow DOM).\n * @param {Node} parent The parent element.\n * @param {Node} child The child element.\n * @return {boolean} True if the parent node contains the child node.\n */\nfunction containsDeep(parent, child) {\n  var node = child;\n  while (node) {\n    if (node == parent) return true;\n\n    node = getParentNode(node);\n  }\n  return false;\n}\n\n\n/**\n * Gets the parent node of an element or its host element if the parent node\n * is a shadow root.\n * @param {Node} node The node whose parent to get.\n * @return {Node|null} The parent node or null if no parent exists.\n */\nfunction getParentNode(node) {\n  var parent = node.parentNode;\n\n  if (parent && parent.nodeType == 11 && parent.host) {\n    // If the parent is a shadow root, return the host element.\n    return parent.host;\n  }\n  return parent;\n}\n\n\n// Exposes the constructors globally.\nwindow.IntersectionObserver = IntersectionObserver;\nwindow.IntersectionObserverEntry = IntersectionObserverEntry;\n\n}(window, document));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/intersection-observer/intersection-observer.js\n// module id = 8\n// module chunks = 0 2 7","import { Browser, OS } from 'environment/environment';\r\nimport { DRAG, DRAG_START, DRAG_END, CLICK, DOUBLE_CLICK, MOVE, OUT, TAP, DOUBLE_TAP, OVER, ENTER } from 'events/events';\r\nimport Events from 'utils/backbone.events';\r\nimport { now } from 'utils/date';\r\n\r\nconst _supportsPointerEvents = ('PointerEvent' in window) && !OS.android;\r\nconst _supportsTouchEvents = ('ontouchstart' in window);\r\nconst _useMouseEvents = !_supportsPointerEvents && !(_supportsTouchEvents && OS.mobile);\r\nconst _isOSXFirefox = Browser.firefox && OS.mac;\r\n\r\nfunction getCoord(e, c) {\r\n    return /touch/.test(e.type) ? (e.originalEvent || e).changedTouches[0]['page' + c] : e['page' + c];\r\n}\r\n\r\nfunction isRightClick(evt) {\r\n    const e = evt || window.event;\r\n\r\n    if (!(evt instanceof MouseEvent)) {\r\n        return false;\r\n    }\r\n\r\n    if ('which' in e) {\r\n        // Gecko (Firefox), WebKit (Safari/Chrome) & Opera\r\n        return (e.which === 3);\r\n    } else if ('button' in e) {\r\n        // IE and Opera\r\n        return (e.button === 2);\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\nfunction isEnterKey(evt) {\r\n    const e = evt || window.event;\r\n\r\n    if ((e instanceof KeyboardEvent) && e.keyCode === 13) {\r\n        evt.stopPropagation();\r\n        return true;\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\nfunction normalizeUIEvent(type, srcEvent, target) {\r\n    let source;\r\n\r\n    if (srcEvent instanceof MouseEvent || (!srcEvent.touches && !srcEvent.changedTouches)) {\r\n        source = srcEvent;\r\n    } else if (srcEvent.touches && srcEvent.touches.length) {\r\n        source = srcEvent.touches[0];\r\n    } else {\r\n        source = srcEvent.changedTouches[0];\r\n    }\r\n\r\n    return {\r\n        type: type,\r\n        sourceEvent: srcEvent,\r\n        target: srcEvent.target,\r\n        currentTarget: target,\r\n        pageX: source.pageX,\r\n        pageY: source.pageY\r\n    };\r\n}\r\n\r\n// Preventdefault to prevent click events\r\nfunction preventDefault(evt) {\r\n    // Because sendEvent from utils.eventdispatcher clones evt objects instead of passing them\r\n    //  we cannot call evt.preventDefault() on them\r\n    if (!(evt instanceof MouseEvent) && !(evt instanceof window.TouchEvent)) {\r\n        return;\r\n    }\r\n    if (evt.preventManipulation) {\r\n        evt.preventManipulation();\r\n    }\r\n    // prevent scrolling\r\n    if (evt.preventDefault) {\r\n        evt.preventDefault();\r\n    }\r\n}\r\n\r\nconst UI = function (elem, options) {\r\n    const _elem = elem;\r\n    let _hasMoved = false;\r\n    let _startX = 0;\r\n    let _startY = 0;\r\n    let _lastClickTime = 0;\r\n    let _doubleClickDelay = 300;\r\n    let _touchListenerTarget;\r\n    let _pointerId;\r\n\r\n    options = options || {};\r\n\r\n    // If its not mobile, add mouse listener.  Add touch listeners so touch devices that aren't Android or iOS\r\n    // (windows phones) still get listeners just in case they want to use them.\r\n    if (_supportsPointerEvents) {\r\n        elem.addEventListener('pointerdown', interactStartHandler);\r\n        if (options.useHover) {\r\n            elem.addEventListener('pointerover', overHandler);\r\n            elem.addEventListener('pointerout', outHandler);\r\n        }\r\n        if (options.useMove) {\r\n            elem.addEventListener('pointermove', moveHandler);\r\n        }\r\n    } else {\r\n        if (_useMouseEvents) {\r\n            elem.addEventListener('mousedown', interactStartHandler);\r\n            if (options.useHover) {\r\n                elem.addEventListener('mouseover', overHandler);\r\n                elem.addEventListener('mouseout', outHandler);\r\n            }\r\n            if (options.useMove) {\r\n                elem.addEventListener('mousemove', moveHandler);\r\n            }\r\n        }\r\n\r\n        // Always add this, in case we don't properly identify the device as mobile\r\n        elem.addEventListener('touchstart', interactStartHandler);\r\n    }\r\n\r\n    elem.addEventListener('keydown', keyHandler);\r\n    if (options.useFocus) {\r\n        elem.addEventListener('focus', overHandler);\r\n        elem.addEventListener('blur', outHandler);\r\n    }\r\n\r\n    // overHandler and outHandler not assigned in touch situations\r\n    function overHandler(evt) {\r\n        if (evt.pointerType !== 'touch') {\r\n            triggerEvent(OVER, evt);\r\n        }\r\n    }\r\n\r\n    function moveHandler(evt) {\r\n        if (evt.pointerType !== 'touch') {\r\n            triggerEvent(MOVE, evt);\r\n        }\r\n    }\r\n\r\n    function outHandler(evt) {\r\n        // elementFromPoint to handle an issue where setPointerCapture is causing a pointerout event\r\n        if (_useMouseEvents || (_supportsPointerEvents && evt.pointerType !== 'touch' &&\r\n            !elem.contains(document.elementFromPoint(evt.x, evt.y)))) {\r\n            triggerEvent(OUT, evt);\r\n        }\r\n    }\r\n\r\n    function keyHandler(evt) {\r\n        if (isEnterKey(evt)) {\r\n            triggerEvent(ENTER, evt);\r\n        }\r\n    }\r\n\r\n    function setEventListener(element, eventName, callback) {\r\n        element.removeEventListener(eventName, callback);\r\n        element.addEventListener(eventName, callback);\r\n    }\r\n\r\n    function interactStartHandler(evt) {\r\n        _touchListenerTarget = evt.target;\r\n        _startX = getCoord(evt, 'X');\r\n        _startY = getCoord(evt, 'Y');\r\n\r\n        if (!isRightClick(evt)) {\r\n\r\n            if (evt.type === 'pointerdown' && evt.isPrimary) {\r\n                if (options.preventScrolling) {\r\n                    _pointerId = evt.pointerId;\r\n                    elem.setPointerCapture(_pointerId);\r\n                }\r\n                setEventListener(elem, 'pointermove', interactDragHandler);\r\n                setEventListener(elem, 'pointercancel', interactEndHandler);\r\n\r\n                // Listen for mouseup after mouse pointer down because pointerup doesn't fire on swf objects\r\n                if (evt.pointerType === 'mouse' && _touchListenerTarget.nodeName === 'OBJECT') {\r\n                    setEventListener(document, 'mouseup', interactEndHandler);\r\n                } else {\r\n                    setEventListener(elem, 'pointerup', interactEndHandler);\r\n                }\r\n            } else if (evt.type === 'mousedown') {\r\n                setEventListener(document, 'mousemove', interactDragHandler);\r\n\r\n                // Handle clicks in OSX Firefox over Flash 'object'\r\n                if (_isOSXFirefox && evt.target.nodeName.toLowerCase() === 'object') {\r\n                    setEventListener(elem, 'click', interactEndHandler);\r\n                } else {\r\n                    setEventListener(document, 'mouseup', interactEndHandler);\r\n                }\r\n            } else if (evt.type === 'touchstart') {\r\n                setEventListener(_touchListenerTarget, 'touchmove', interactDragHandler);\r\n                setEventListener(_touchListenerTarget, 'touchcancel', interactEndHandler);\r\n                setEventListener(_touchListenerTarget, 'touchend', interactEndHandler);\r\n            }\r\n\r\n            // Prevent scrolling the screen dragging while dragging on mobile.\r\n            if (options.preventScrolling) {\r\n                preventDefault(evt);\r\n            }\r\n        }\r\n    }\r\n\r\n    function interactDragHandler(evt) {\r\n        const movementThreshold = 6;\r\n\r\n        if (_hasMoved) {\r\n            triggerEvent(DRAG, evt);\r\n        } else {\r\n            const endX = getCoord(evt, 'X');\r\n            const endY = getCoord(evt, 'Y');\r\n            const moveX = endX - _startX;\r\n            const moveY = endY - _startY;\r\n            if (moveX * moveX + moveY * moveY > movementThreshold * movementThreshold) {\r\n                triggerEvent(DRAG_START, evt);\r\n                _hasMoved = true;\r\n                triggerEvent(DRAG, evt);\r\n            }\r\n        }\r\n\r\n        // Prevent scrolling the screen dragging while dragging on mobile.\r\n        if (options.preventScrolling) {\r\n            preventDefault(evt);\r\n        }\r\n    }\r\n\r\n    function interactEndHandler(evt) {\r\n        const isPointerEvent = (evt.type === 'pointerup' || evt.type === 'pointercancel');\r\n        if (isPointerEvent && options.preventScrolling) {\r\n            elem.releasePointerCapture(_pointerId);\r\n        }\r\n        elem.removeEventListener('pointermove', interactDragHandler);\r\n        elem.removeEventListener('pointercancel', interactEndHandler);\r\n        elem.removeEventListener('pointerup', interactEndHandler);\r\n        document.removeEventListener('mousemove', interactDragHandler);\r\n        document.removeEventListener('mouseup', interactEndHandler);\r\n        if (_touchListenerTarget) {\r\n            _touchListenerTarget.removeEventListener('touchmove', interactDragHandler);\r\n            _touchListenerTarget.removeEventListener('touchcancel', interactEndHandler);\r\n            _touchListenerTarget.removeEventListener('touchend', interactEndHandler);\r\n        }\r\n\r\n        if (_hasMoved) {\r\n            triggerEvent(DRAG_END, evt);\r\n        } else if ((!options.directSelect || evt.target === elem) && evt.type.indexOf('cancel') === -1) {\r\n            if (evt.type === 'mouseup' || evt.type === 'click' || isPointerEvent && evt.pointerType === 'mouse') {\r\n                triggerEvent(CLICK, evt);\r\n            } else {\r\n                triggerEvent(TAP, evt);\r\n                if (evt.type === 'touchend') {\r\n                    // preventDefault to not dispatch the 300ms delayed click after a tap\r\n                    preventDefault(evt);\r\n                }\r\n            }\r\n        }\r\n\r\n        _touchListenerTarget = null;\r\n        _hasMoved = false;\r\n    }\r\n\r\n    const self = this;\r\n    function triggerEvent(type, srcEvent) {\r\n        let evt;\r\n        if (options.enableDoubleTap && (type === CLICK || type === TAP)) {\r\n            if (now() - _lastClickTime < _doubleClickDelay) {\r\n                const doubleType = (type === CLICK) ?\r\n                    DOUBLE_CLICK : DOUBLE_TAP;\r\n                evt = normalizeUIEvent(doubleType, srcEvent, _elem);\r\n                self.trigger(doubleType, evt);\r\n                _lastClickTime = 0;\r\n            } else {\r\n                _lastClickTime = now();\r\n            }\r\n        }\r\n        evt = normalizeUIEvent(type, srcEvent, _elem);\r\n        self.trigger(type, evt);\r\n    }\r\n\r\n    this.triggerEvent = triggerEvent;\r\n\r\n    this.destroy = function() {\r\n        this.off();\r\n        elem.removeEventListener('touchstart', interactStartHandler);\r\n        elem.removeEventListener('mousedown', interactStartHandler);\r\n        elem.removeEventListener('keydown', keyHandler);\r\n\r\n        if (_touchListenerTarget) {\r\n            _touchListenerTarget.removeEventListener('touchmove', interactDragHandler);\r\n            _touchListenerTarget.removeEventListener('touchcancel', interactEndHandler);\r\n            _touchListenerTarget.removeEventListener('touchend', interactEndHandler);\r\n            _touchListenerTarget = null;\r\n        }\r\n\r\n        if (_supportsPointerEvents) {\r\n            if (options.preventScrolling) {\r\n                elem.releasePointerCapture(_pointerId);\r\n            }\r\n            elem.removeEventListener('pointerover', overHandler);\r\n            elem.removeEventListener('pointerdown', interactStartHandler);\r\n            elem.removeEventListener('pointermove', interactDragHandler);\r\n            elem.removeEventListener('pointermove', moveHandler);\r\n            elem.removeEventListener('pointercancel', interactEndHandler);\r\n            elem.removeEventListener('pointerout', outHandler);\r\n            elem.removeEventListener('pointerup', interactEndHandler);\r\n        }\r\n\r\n        elem.removeEventListener('click', interactEndHandler);\r\n        elem.removeEventListener('mouseover', overHandler);\r\n        elem.removeEventListener('mousemove', moveHandler);\r\n        elem.removeEventListener('mouseout', outHandler);\r\n        document.removeEventListener('mousemove', interactDragHandler);\r\n        document.removeEventListener('mouseup', interactEndHandler);\r\n\r\n        if (options.useFocus) {\r\n            elem.removeEventListener('focus', overHandler);\r\n            elem.removeEventListener('blur', outHandler);\r\n        }\r\n    };\r\n\r\n    return this;\r\n};\r\n\r\n// Expose what the source of the event is so that we can ensure it's handled correctly.\r\n// This returns only 'touch' or 'mouse'. 'pen' will be treated as a mouse.\r\nUI.getPointerType = function(evt) {\r\n    if (_supportsPointerEvents && evt instanceof window.PointerEvent) {\r\n        return (evt.pointerType === 'touch') ? 'touch' : 'mouse';\r\n    } else if (_supportsTouchEvents && evt instanceof window.TouchEvent) {\r\n        return 'touch';\r\n    }\r\n\r\n    return 'mouse';\r\n};\r\n\r\nObject.assign(UI.prototype, Events);\r\n\r\nexport const getPointerType = UI.getPointerType;\r\n\r\nexport default UI;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/ui.js","import BUFFER_ICON from 'assets/SVG/buffer.svg';\r\nimport REPLAY_ICON from 'assets/SVG/replay.svg';\r\nimport ERROR_ICON from 'assets/SVG/playback-error.svg';\r\nimport PLAY_ICON from 'assets/SVG/play.svg';\r\nimport PAUSE_ICON from 'assets/SVG/pause.svg';\r\nimport REWIND_ICON from 'assets/SVG/rewind-10.svg';\r\nimport NEXT_ICON from 'assets/SVG/next.svg';\r\n// import STOP_ICON from 'assets/SVG/stop.svg';\r\nimport VOLUME_ICON_0 from 'assets/SVG/volume-0.svg';\r\nimport VOLUME_ICON_50 from 'assets/SVG/volume-50.svg';\r\nimport VOLUME_ICON_100 from 'assets/SVG/volume-100.svg';\r\nimport CAPTIONS_ON_ICON from 'assets/SVG/captions-on.svg';\r\nimport CAPTIONS_OFF_ICON from 'assets/SVG/captions-off.svg';\r\nimport AIRPLAY_ON_ICON from 'assets/SVG/airplay-on.svg';\r\nimport AIRPLAY_OFF_ICON from 'assets/SVG/airplay-off.svg';\r\nimport DVR_ICON from 'assets/SVG/dvr.svg';\r\nimport LIVE_ICON from 'assets/SVG/live.svg';\r\nimport PLAYBACK_RATE_ICON from 'assets/SVG/playback-rate.svg';\r\nimport SETTINGS_ICON from 'assets/SVG/settings.svg';\r\nimport AUDIO_TRACKS_ICON from 'assets/SVG/audio-tracks.svg';\r\n// import QUALITY_ICON_25 from 'assets/SVG/quality-25.svg';\r\n// import QUALITY_ICON_50 from 'assets/SVG/quality-50.svg';\r\n// import QUALITY_ICON_75 from 'assets/SVG/quality-75.svg';\r\nimport QUALITY_ICON from 'assets/SVG/quality-100.svg';\r\nimport FULLSCREEN_EXIT_ICON from 'assets/SVG/fullscreen-not.svg';\r\nimport FULLSCREEN_ENTER_ICON from 'assets/SVG/fullscreen.svg';\r\nimport CLOSE_ICON from 'assets/SVG/close.svg';\r\n// import ARROW_ICON from 'assets/SVG/arror.svg';\r\nimport JW_LOGO from 'assets/SVG/jw-logo.svg';\r\nimport svgParse from 'utils/svgParser';\r\n\r\nlet collection = null;\r\n\r\nexport function cloneIcon(name) {\r\n    const icon = getCollection().querySelector(nameToClass(name));\r\n    if (icon) {\r\n        return clone(icon);\r\n    }\r\n    if (__DEBUG__) {\r\n        throw new Error('Icon not found ' + name);\r\n    }\r\n    return null;\r\n}\r\n\r\nexport function cloneIcons(names) {\r\n    const icons = getCollection().querySelectorAll(names.split(',').map(nameToClass).join(','));\r\n    if (__DEBUG__ && !icons.length) {\r\n        throw new Error('Icons not found ' + names);\r\n    }\r\n    return Array.prototype.map.call(icons, icon => clone(icon));\r\n}\r\n\r\nfunction nameToClass(name) {\r\n    return `.jw-svg-icon-${name}`;\r\n}\r\n\r\nfunction clone(icon) {\r\n    return icon.cloneNode(true);\r\n}\r\n\r\nfunction getCollection() {\r\n    if (!collection) {\r\n        collection = parseCollection();\r\n    }\r\n    return collection;\r\n}\r\n\r\nfunction parseCollection() {\r\n    return svgParse('<xml>' +\r\n        BUFFER_ICON +\r\n        REPLAY_ICON +\r\n        ERROR_ICON +\r\n        PLAY_ICON +\r\n        PAUSE_ICON +\r\n        REWIND_ICON +\r\n        NEXT_ICON +\r\n        VOLUME_ICON_0 +\r\n        VOLUME_ICON_50 +\r\n        VOLUME_ICON_100 +\r\n        CAPTIONS_ON_ICON +\r\n        CAPTIONS_OFF_ICON +\r\n        AIRPLAY_ON_ICON +\r\n        AIRPLAY_OFF_ICON +\r\n        DVR_ICON +\r\n        LIVE_ICON +\r\n        PLAYBACK_RATE_ICON +\r\n        SETTINGS_ICON +\r\n        AUDIO_TRACKS_ICON +\r\n        QUALITY_ICON +\r\n        FULLSCREEN_EXIT_ICON +\r\n        FULLSCREEN_ENTER_ICON +\r\n        CLOSE_ICON +\r\n        JW_LOGO +\r\n        '</xml>');\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/icons.js","import UI from 'utils/ui';\r\nimport svgParse from 'utils/svgParser';\r\n\r\nexport default function (icon, apiAction, ariaText, svgIcons) {\r\n    const element = document.createElement('div');\r\n    element.className = 'jw-icon jw-icon-inline jw-button-color jw-reset ' + icon;\r\n    element.setAttribute('role', 'button');\r\n    element.setAttribute('tabindex', '0');\r\n\r\n    if (ariaText) {\r\n        element.setAttribute('aria-label', ariaText);\r\n    }\r\n\r\n    element.style.display = 'none';\r\n\r\n    if (apiAction) {\r\n        new UI(element).on('click tap enter', function(event) {\r\n            apiAction(event);\r\n        });\r\n    }\r\n\r\n    // Prevent button from being focused on mousedown so that the tooltips don't remain visible until\r\n    // the user interacts with another element on the page\r\n    element.addEventListener('mousedown', (e) => {\r\n        e.preventDefault();\r\n    });\r\n\r\n    if (svgIcons) {\r\n        Array.prototype.forEach.call(svgIcons, svgIcon => {\r\n            if (typeof svgIcon === 'string') {\r\n                element.appendChild(svgParse(svgIcon));\r\n            } else {\r\n                element.appendChild(svgIcon);\r\n            }\r\n        });\r\n    }\r\n\r\n    return {\r\n        element: function() {\r\n            return element;\r\n        },\r\n        toggle: function(m) {\r\n            if (m) {\r\n                this.show();\r\n            } else {\r\n                this.hide();\r\n            }\r\n        },\r\n        show: function() {\r\n            element.style.display = '';\r\n        },\r\n        hide: function() {\r\n            element.style.display = 'none';\r\n        }\r\n    };\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/components/button.js","let parser;\r\n\r\nexport default function svgParse(svgXml) {\r\n    if (!parser) {\r\n        parser = new DOMParser();\r\n    }\r\n\r\n    return parser.parseFromString(svgXml, 'image/svg+xml').documentElement;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/svgParser.js","import { seconds, trim } from 'utils/strings';\r\n\r\n// Component that loads and parses an SRT file\r\n\r\nexport default function Srt(data) {\r\n    // Trim whitespace and split the list by returns.\r\n    var _captions = [];\r\n    data = trim(data);\r\n    var list = data.split('\\r\\n\\r\\n');\r\n    if (list.length === 1) {\r\n        list = data.split('\\n\\n');\r\n    }\r\n\r\n    for (var i = 0; i < list.length; i++) {\r\n        if (list[i] === 'WEBVTT') {\r\n            continue;\r\n        }\r\n        // Parse each entry\r\n        var entry = _entry(list[i]);\r\n        if (entry.text) {\r\n            _captions.push(entry);\r\n        }\r\n    }\r\n\r\n    return _captions;\r\n}\r\n\r\n\r\n/** Parse a single captions entry. **/\r\nfunction _entry(data) {\r\n    var entry = {};\r\n    var array = data.split('\\r\\n');\r\n    if (array.length === 1) {\r\n        array = data.split('\\n');\r\n    }\r\n    var idx = 1;\r\n    if (array[0].indexOf(' --> ') > 0) {\r\n        idx = 0;\r\n    }\r\n    if (array.length > idx + 1 && array[idx + 1]) {\r\n        // This line contains the start and end.\r\n        var line = array[idx];\r\n        var index = line.indexOf(' --> ');\r\n        if (index > 0) {\r\n            entry.begin = seconds(line.substr(0, index));\r\n            entry.end = seconds(line.substr(index + 5));\r\n            // Remaining lines contain the text\r\n            entry.text = array.slice(idx + 1).join('\\r\\n');\r\n        }\r\n    }\r\n    return entry;\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/parsers/captions/srt.js","\r\nexport const dvrSeekLimit = -25;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/constants.js","import { STATE_IDLE, STATE_COMPLETE, STATE_ERROR } from 'events/events';\r\n\r\n// The api should dispatch an idle event when the model's state changes to complete\r\n// This is to avoid conflicts with the complete event and to maintain legacy event flow\r\nfunction normalizeApiState(newstate) {\r\n    if (newstate === STATE_COMPLETE || newstate === STATE_ERROR) {\r\n        return STATE_IDLE;\r\n    }\r\n    return newstate;\r\n}\r\n\r\nexport default function ChangeStateEvent(model, newstate, oldstate) {\r\n    newstate = normalizeApiState(newstate);\r\n    oldstate = normalizeApiState(oldstate);\r\n    // do not dispatch idle a second time after complete\r\n    if (newstate !== oldstate) {\r\n        // buffering, playing and paused states become:\r\n        // buffer, play and pause events\r\n        var eventType = newstate.replace(/(?:ing|d)$/, '');\r\n        var evt = {\r\n            type: eventType,\r\n            newstate: newstate,\r\n            oldstate: oldstate,\r\n            reason: model.mediaModel.get('state')\r\n        };\r\n        // add reason for play/pause events\r\n        if (eventType === 'play') {\r\n            evt.playReason = model.get('playReason');\r\n        } else if (eventType === 'pause') {\r\n            evt.pauseReason = model.get('pauseReason');\r\n        }\r\n        this.trigger(eventType, evt);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/events/change-state-event.js","import { Browser, OS } from 'environment/environment';\r\nimport SimpleModel from 'model/simplemodel';\r\nimport { INITIAL_PLAYER_STATE } from 'model/player-model';\r\nimport Providers from 'providers/providers';\r\nimport { loadProvidersForPlaylist } from 'api/set-playlist';\r\nimport getMediaElement from 'api/get-media-element';\r\nimport initQoe from 'controller/qoe';\r\nimport { PLAYER_STATE, STATE_IDLE, STATE_BUFFERING, STATE_PAUSED, STATE_COMPLETE, MEDIA_VOLUME, MEDIA_MUTE,\r\n    MEDIA_TYPE, PROVIDER_CHANGED, AUDIO_TRACKS, AUDIO_TRACK_CHANGED,\r\n    MEDIA_PLAY_ATTEMPT, MEDIA_PLAY_ATTEMPT_FAILED, MEDIA_RATE_CHANGE,\r\n    MEDIA_BUFFER, MEDIA_TIME, MEDIA_LEVELS, MEDIA_LEVEL_CHANGED, MEDIA_ERROR, ERROR,\r\n    MEDIA_BEFORECOMPLETE, MEDIA_COMPLETE, MEDIA_META } from 'events/events';\r\nimport { seconds } from 'utils/strings';\r\nimport _ from 'utils/underscore';\r\nimport Events from 'utils/backbone.events';\r\nimport { resolved } from 'polyfills/promise';\r\nimport cancelable from 'utils/cancelable';\r\n\r\n// Represents the state of the player\r\nconst Model = function() {\r\n    const _this = this;\r\n    let _providers;\r\n    let _provider;\r\n    let _beforecompleted = false;\r\n    let _attached = true;\r\n    let thenPlayPromise = cancelable(function() {});\r\n    let providerPromise = resolved;\r\n\r\n    this.mediaController = Object.assign({}, Events);\r\n    this.mediaModel = new MediaModel();\r\n\r\n    initQoe(this);\r\n\r\n    this.set('mediaModel', this.mediaModel);\r\n\r\n    this.setup = function(config) {\r\n\r\n        Object.assign(this.attributes, config, INITIAL_PLAYER_STATE);\r\n\r\n        this.updateProviders();\r\n        this.setAutoStart();\r\n\r\n        return this;\r\n    };\r\n\r\n    this.getConfiguration = function() {\r\n        const config = this.clone();\r\n        delete config.mediaModel;\r\n        return config;\r\n    };\r\n\r\n    this.updateProviders = function() {\r\n        _providers = new Providers(this.getConfiguration());\r\n    };\r\n\r\n    function _videoEventHandler(type, data) {\r\n        const event = Object.assign({}, data, {\r\n            type: type\r\n        });\r\n        const mediaModel = this.mediaModel;\r\n        switch (type) {\r\n            case 'flashThrottle': {\r\n                const throttled = (data.state !== 'resume');\r\n                this.set('flashThrottle', throttled);\r\n                this.set('flashBlocked', throttled);\r\n            }\r\n                break;\r\n            case 'flashBlocked':\r\n                this.set('flashBlocked', true);\r\n                return;\r\n            case 'flashUnblocked':\r\n                this.set('flashBlocked', false);\r\n                return;\r\n            case MEDIA_VOLUME:\r\n                this.set(type, data[type]);\r\n                return;\r\n            case MEDIA_MUTE:\r\n                if (!this.get('autostartMuted')) {\r\n                    // Don't persist mute state with muted autostart\r\n                    this.set(type, data[type]);\r\n                }\r\n                return;\r\n            case MEDIA_RATE_CHANGE: {\r\n                const rate = data.playbackRate;\r\n                // Check if its a generally usable rate.  Shaka changes rate to 0 when pause or buffering.\r\n                if (rate > 0) {\r\n                    this.set('playbackRate', rate);\r\n                }\r\n            }\r\n                return;\r\n            case MEDIA_TYPE:\r\n                if (mediaModel.get('mediaType') !== data.mediaType) {\r\n                    mediaModel.set('mediaType', data.mediaType);\r\n                    this.mediaController.trigger(type, event);\r\n                }\r\n                return;\r\n            case PLAYER_STATE: {\r\n                if (data.newstate === STATE_IDLE) {\r\n                    thenPlayPromise.cancel();\r\n                    mediaModel.srcReset();\r\n                }\r\n                // Always fire change:state to keep player model in sync\r\n                const previousState = mediaModel.attributes[PLAYER_STATE];\r\n                mediaModel.attributes[PLAYER_STATE] = data.newstate;\r\n                mediaModel.trigger('change:' + PLAYER_STATE, mediaModel, data.newstate, previousState);\r\n\r\n            }\r\n                // This \"return\" is important because\r\n                //  we are choosing to not propagate this event.\r\n                //  Instead letting the master controller do so\r\n                return;\r\n            case MEDIA_ERROR:\r\n                thenPlayPromise.cancel();\r\n                mediaModel.srcReset();\r\n                break;\r\n            case MEDIA_BUFFER:\r\n                this.set('buffer', data.bufferPercent);\r\n            /* falls through */\r\n            case MEDIA_META: {\r\n                const duration = data.duration;\r\n                if (_.isNumber(duration) && !_.isNaN(duration)) {\r\n                    mediaModel.set('duration', duration);\r\n                    this.set('duration', duration);\r\n                }\r\n                Object.assign(this.get('itemMeta'), data.metadata);\r\n                break;\r\n            }\r\n            case MEDIA_TIME: {\r\n                mediaModel.set('position', data.position);\r\n                this.set('position', data.position);\r\n                const duration = data.duration;\r\n                if (_.isNumber(duration) && !_.isNaN(duration)) {\r\n                    mediaModel.set('duration', duration);\r\n                    this.set('duration', duration);\r\n                }\r\n                break;\r\n            }\r\n            case PROVIDER_CHANGED:\r\n                this.set('provider', _provider.getName());\r\n                break;\r\n            case MEDIA_LEVELS:\r\n                this.setQualityLevel(data.currentQuality, data.levels);\r\n                mediaModel.set('levels', data.levels);\r\n                break;\r\n            case MEDIA_LEVEL_CHANGED:\r\n                this.setQualityLevel(data.currentQuality, data.levels);\r\n                this.persistQualityLevel(data.currentQuality, data.levels);\r\n                break;\r\n            case MEDIA_COMPLETE:\r\n                _beforecompleted = true;\r\n                this.mediaController.trigger(MEDIA_BEFORECOMPLETE, event);\r\n                if (_attached) {\r\n                    this.playbackComplete();\r\n                }\r\n                return;\r\n            case AUDIO_TRACKS:\r\n                this.setCurrentAudioTrack(data.currentTrack, data.tracks);\r\n                mediaModel.set('audioTracks', data.tracks);\r\n                break;\r\n            case AUDIO_TRACK_CHANGED:\r\n                this.setCurrentAudioTrack(data.currentTrack, data.tracks);\r\n                break;\r\n            case 'subtitlesTrackChanged':\r\n                this.persistVideoSubtitleTrack(data.currentTrack, data.tracks);\r\n                break;\r\n            case 'visualQuality':\r\n                mediaModel.set('visualQuality', Object.assign({}, data));\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.mediaController.trigger(type, event);\r\n    }\r\n\r\n    this.setQualityLevel = function(quality, levels) {\r\n        if (quality > -1 && levels.length > 1) {\r\n            this.mediaModel.set('currentLevel', parseInt(quality));\r\n        }\r\n    };\r\n\r\n    this.persistQualityLevel = function(quality, levels) {\r\n        var currentLevel = levels[quality] || {};\r\n        var label = currentLevel.label;\r\n        this.set('qualityLabel', label);\r\n    };\r\n\r\n    this.setCurrentAudioTrack = function(currentTrack, tracks) {\r\n        if (currentTrack > -1 && tracks.length > 0 && currentTrack < tracks.length) {\r\n            this.mediaModel.set('currentAudioTrack', parseInt(currentTrack));\r\n        }\r\n    };\r\n\r\n    this.onMediaContainer = function() {\r\n        var container = this.get('mediaContainer');\r\n        _provider.setContainer(container);\r\n    };\r\n\r\n    this.changeVideoProvider = function(Provider) {\r\n        this.off('change:mediaContainer', this.onMediaContainer);\r\n\r\n        if (_provider) {\r\n            _provider.off(null, null, this);\r\n            if (_provider.getContainer()) {\r\n                _provider.remove();\r\n            }\r\n            delete _provider.instreamMode;\r\n        }\r\n\r\n        if (!Provider) {\r\n            this.resetProvider();\r\n            this.set('provider', undefined);\r\n            return;\r\n        }\r\n\r\n        _provider = new Provider(_this.get('id'), _this.getConfiguration());\r\n\r\n        var container = this.get('mediaContainer');\r\n        if (container) {\r\n            _provider.setContainer(container);\r\n        } else {\r\n            this.once('change:mediaContainer', this.onMediaContainer);\r\n        }\r\n\r\n        if (_provider.getName().name.indexOf('flash') === -1) {\r\n            this.set('flashThrottle', undefined);\r\n            this.set('flashBlocked', false);\r\n        }\r\n\r\n        _provider.volume(_this.get('volume'));\r\n\r\n        // Mute the video if autostarting on mobile, except for Android SDK. Otherwise, honor the model's mute value\r\n        const isAndroidSdk = _this.get('sdkplatform') === 1;\r\n        _provider.mute((this.autoStartOnMobile() && !isAndroidSdk) || _this.get('mute'));\r\n\r\n        _provider.on('all', _videoEventHandler, this);\r\n\r\n        // Attempt setting the playback rate to be the user selected value\r\n        this.setPlaybackRate(this.get('defaultPlaybackRate'));\r\n\r\n        // Set playbackRate because provider support for playbackRate may have changed and not sent an update\r\n        this.set('playbackRate', _provider.getPlaybackRate());\r\n\r\n        if (this.get('instreamMode') === true) {\r\n            _provider.instreamMode = true;\r\n        }\r\n\r\n        this.set('renderCaptionsNatively', _provider.renderNatively);\r\n    };\r\n\r\n    this.checkComplete = function() {\r\n        return _beforecompleted;\r\n    };\r\n\r\n    this.detachMedia = function() {\r\n        thenPlayPromise.cancel();\r\n        _attached = false;\r\n        if (_provider) {\r\n            _provider.off('all', _videoEventHandler, this);\r\n            _provider.detachMedia();\r\n        }\r\n    };\r\n\r\n    this.attachMedia = function() {\r\n        _attached = true;\r\n        if (_provider) {\r\n            _provider.off('all', _videoEventHandler, this);\r\n            _provider.on('all', _videoEventHandler, this);\r\n        }\r\n        if (_beforecompleted) {\r\n            this.playbackComplete();\r\n        }\r\n        if (_provider) {\r\n            _provider.attachMedia();\r\n        }\r\n\r\n        // Restore the playback rate to the provider in case it changed while detached and we reused a video tag.\r\n        this.setPlaybackRate(this.get('defaultPlaybackRate'));\r\n    };\r\n\r\n    this.playbackComplete = function() {\r\n        _beforecompleted = false;\r\n        _provider.setState(STATE_COMPLETE);\r\n        this.mediaController.trigger(MEDIA_COMPLETE, {});\r\n    };\r\n\r\n    this.destroy = function() {\r\n        this.attributes._destroyed = true;\r\n        this.off();\r\n        if (_provider) {\r\n            _provider.off(null, null, this);\r\n            _provider.destroy();\r\n        }\r\n    };\r\n\r\n    this.getVideo = function() {\r\n        return _provider;\r\n    };\r\n\r\n    this.setFullscreen = function(state) {\r\n        state = !!state;\r\n        if (state !== _this.get('fullscreen')) {\r\n            _this.set('fullscreen', state);\r\n        }\r\n    };\r\n\r\n    // Give the option for a provider to be forced\r\n    this.chooseProvider = function(source) {\r\n        // if _providers.choose is null, something went wrong in filtering\r\n        return _providers.choose(source).provider;\r\n    };\r\n\r\n    this.setItemIndex = function(index) {\r\n        const playlist = this.get('playlist');\r\n        const length = playlist.length;\r\n\r\n        // If looping past the end, or before the beginning\r\n        index = parseInt(index, 10) || 0;\r\n        index = (index + length) % length;\r\n\r\n        this.set('item', index);\r\n        return this.setActiveItem(playlist[index]);\r\n    };\r\n\r\n    this.setActiveItem = function(item) {\r\n        thenPlayPromise.cancel();\r\n        // Item is actually changing\r\n        this.mediaModel.off();\r\n        this.mediaModel = new MediaModel();\r\n        resetItem(this, item);\r\n        this.set('minDvrWindow', item.minDvrWindow);\r\n        this.set('mediaModel', this.mediaModel);\r\n        this.attributes.playlistItem = null;\r\n        this.set('playlistItem', item);\r\n        providerPromise = this.setProvider(item);\r\n        return providerPromise;\r\n    };\r\n\r\n    function resetItem(model, item) {\r\n        const position = item ? seconds(item.starttime) : 0;\r\n        const duration = item ? seconds(item.duration) : 0;\r\n        const mediaModelState = model.mediaModel.attributes;\r\n        model.mediaModel.srcReset();\r\n        mediaModelState.position = position;\r\n        mediaModelState.duration = duration;\r\n\r\n        model.set('playRejected', false);\r\n        model.set('itemMeta', {});\r\n        model.set('position', position);\r\n        model.set('duration', duration);\r\n    }\r\n\r\n    this.setProvider = function(item) {\r\n        const source = item && item.sources && item.sources[0];\r\n        if (source === undefined) {\r\n            // source is undefined when resetting index with empty playlist\r\n            throw new Error('No media');\r\n        }\r\n\r\n        const Provider = this.chooseProvider(source);\r\n        // If we are changing video providers\r\n        if (!Provider || !(_provider && _provider instanceof Provider)) {\r\n            // Replace the video tag for the next provider\r\n            if (_provider) {\r\n                replaceMediaElement(this);\r\n            }\r\n            this.changeVideoProvider(Provider);\r\n        }\r\n\r\n        if (!_provider) {\r\n            this.set(PLAYER_STATE, STATE_BUFFERING);\r\n            const mediaModelContext = this.mediaModel;\r\n            return loadProvidersForPlaylist(this).then(() => {\r\n                if (mediaModelContext === this.mediaModel) {\r\n                    syncPlayerWithMediaModel(mediaModelContext);\r\n                    // Verify that we have a provider class for this source\r\n                    if (this.chooseProvider(source)) {\r\n                        return this.setProvider(item);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        // this allows the providers to preload\r\n        if (_provider.init) {\r\n            _provider.init(item);\r\n        }\r\n\r\n        // Set the Provider after calling init because some Provider properties are only set afterwards\r\n        this.set('provider', _provider.getName());\r\n\r\n        // Listening for change:item won't suffice when loading the same index or file\r\n        // We also can't listen for change:mediaModel because it triggers whether or not\r\n        //  an item was actually loaded\r\n        this.trigger('itemReady', item);\r\n        return resolved;\r\n    };\r\n\r\n    function replaceMediaElement(model) {\r\n        // Replace click-to-play media element, and call .load() to unblock user-gesture to play requirement\r\n        const lastMediaElement = model.attributes.mediaElement;\r\n        const mediaElement =\r\n            model.attributes.mediaElement = getMediaElement();\r\n        mediaElement.volume = lastMediaElement.volume;\r\n        mediaElement.muted = lastMediaElement.muted;\r\n        mediaElement.load();\r\n    }\r\n\r\n    this.getProviders = function() {\r\n        return _providers;\r\n    };\r\n\r\n    this.resetProvider = function() {\r\n        _provider = null;\r\n    };\r\n\r\n    this.setVolume = function(volume) {\r\n        volume = Math.round(volume);\r\n        this.set('volume', volume);\r\n        if (_provider) {\r\n            _provider.volume(volume);\r\n        }\r\n        var mute = (volume === 0);\r\n        if (mute !== (this.getMute())) {\r\n            this.setMute(mute);\r\n        }\r\n    };\r\n\r\n    this.getMute = function() {\r\n        return this.get('autostartMuted') || this.get('mute');\r\n    };\r\n\r\n    this.setMute = function(mute) {\r\n        if (mute === undefined) {\r\n            mute = !(this.getMute());\r\n        }\r\n        this.set('mute', mute);\r\n        if (_provider) {\r\n            _provider.mute(mute);\r\n        }\r\n        if (!mute) {\r\n            var volume = Math.max(10, this.get('volume'));\r\n            this.set('autostartMuted', false);\r\n            this.setVolume(volume);\r\n        }\r\n    };\r\n\r\n    this.setStreamType = function(streamType) {\r\n        this.set('streamType', streamType);\r\n        if (streamType === 'LIVE') {\r\n            this.setPlaybackRate(1);\r\n        }\r\n    };\r\n\r\n    this.setPlaybackRate = function(playbackRate) {\r\n        if (!_attached || !_.isNumber(playbackRate)) {\r\n            return;\r\n        }\r\n\r\n        // Clamp the rate between 0.25x and 4x\r\n        playbackRate = Math.max(Math.min(playbackRate, 4), 0.25);\r\n\r\n        if (this.get('streamType') === 'LIVE') {\r\n            playbackRate = 1;\r\n        }\r\n\r\n        this.set('defaultPlaybackRate', playbackRate);\r\n\r\n        if (_provider && _provider.setPlaybackRate) {\r\n            _provider.setPlaybackRate(playbackRate);\r\n        }\r\n    };\r\n\r\n    function loadAndPlay(model, item) {\r\n        thenPlayPromise.cancel();\r\n\r\n        const mediaModelContext = model.mediaModel;\r\n\r\n        mediaModelContext.set('setup', true);\r\n        if (_provider) {\r\n            return playWithProvider(item);\r\n        }\r\n\r\n        thenPlayPromise = cancelable(() => {\r\n            if (mediaModelContext === model.mediaModel) {\r\n                return playWithProvider(item);\r\n            }\r\n            throw new Error('Playback cancelled.');\r\n        });\r\n        return providerPromise.catch(error => {\r\n            thenPlayPromise.cancel();\r\n            // Required provider was not loaded\r\n            model.trigger(ERROR, {\r\n                message: `Could not play video: ${error.message}`,\r\n                error: error\r\n            });\r\n            // Fail the playPromise to trigger \"playAttemptFailed\"\r\n            throw error;\r\n        }).then(thenPlayPromise.async);\r\n    }\r\n\r\n    function playWithProvider(item) {\r\n        // Calling load() on Shaka may return a player setup promise\r\n        const providerSetupPromise = _provider.load(item);\r\n        if (providerSetupPromise) {\r\n            thenPlayPromise = cancelable(() => {\r\n                return _provider.play() || resolved;\r\n            });\r\n            return providerSetupPromise.then(thenPlayPromise.async);\r\n        }\r\n        return _provider.play() || resolved;\r\n    }\r\n\r\n    function playAttempt(model, playPromise, playReason) {\r\n        const mediaModelContext = model.mediaModel;\r\n        const itemContext = model.get('playlistItem');\r\n\r\n        model.mediaController.trigger(MEDIA_PLAY_ATTEMPT, {\r\n            item: itemContext,\r\n            playReason: playReason\r\n        });\r\n\r\n        // Immediately set player state to buffering if these conditions are met\r\n        const videoTagUnpaused = _provider && _provider.video && !_provider.video.paused;\r\n        if (videoTagUnpaused) {\r\n            model.set(PLAYER_STATE, STATE_BUFFERING);\r\n        }\r\n\r\n        playPromise.then(() => {\r\n            if (!mediaModelContext.get('setup')) {\r\n                // Exit if model state was reset\r\n                return;\r\n            }\r\n            mediaModelContext.set('started', true);\r\n            if (mediaModelContext === model.mediaModel) {\r\n                syncPlayerWithMediaModel(mediaModelContext);\r\n            }\r\n        }).catch(error => {\r\n            model.set('playRejected', true);\r\n            const videoTagPaused = _provider && _provider.video && _provider.video.paused;\r\n            if (videoTagPaused) {\r\n                mediaModelContext.set(PLAYER_STATE, STATE_PAUSED);\r\n            }\r\n            model.mediaController.trigger(MEDIA_PLAY_ATTEMPT_FAILED, {\r\n                error: error,\r\n                item: itemContext,\r\n                playReason: playReason\r\n            });\r\n        });\r\n    }\r\n\r\n    function syncPlayerWithMediaModel(mediaModel) {\r\n        // Sync player state with mediaModel state\r\n        const mediaState = mediaModel.get('state');\r\n        mediaModel.trigger('change:state', mediaModel, mediaState, mediaState);\r\n    }\r\n\r\n    this.stopVideo = function() {\r\n        thenPlayPromise.cancel();\r\n        const item = this.get('playlist')[this.get('item')];\r\n        this.attributes.playlistItem = item;\r\n        resetItem(this, item);\r\n        if (_provider) {\r\n            _provider.stop();\r\n        }\r\n    };\r\n\r\n    this.preloadVideo = function() {\r\n        const item = this.get('playlistItem');\r\n        // Only attempt to preload if media is attached and hasn't been loaded\r\n        if (this.get('state') === 'idle' && _attached && _provider &&\r\n            item.preload !== 'none' &&\r\n            this.get('autostart') === false &&\r\n            !this.mediaModel.get('setup') &&\r\n            !this.mediaModel.get('preloaded')) {\r\n            this.mediaModel.set('preloaded', true);\r\n            _provider.preload(item);\r\n        }\r\n    };\r\n\r\n    this.playVideo = function(playReason) {\r\n        const item = this.get('playlistItem');\r\n        if (!item) {\r\n            return;\r\n        }\r\n\r\n        if (!playReason) {\r\n            playReason = this.get('playReason');\r\n        }\r\n\r\n        let playPromise;\r\n\r\n        this.set('playRejected', false);\r\n        if (!this.mediaModel.get('setup')) {\r\n            playPromise = loadAndPlay(this, item);\r\n            playAttempt(this, playPromise, playReason);\r\n        } else {\r\n            playPromise = _provider.play() || resolved;\r\n            if (!this.mediaModel.get('started')) {\r\n                playAttempt(this, playPromise, playReason);\r\n            }\r\n        }\r\n        return playPromise;\r\n    };\r\n\r\n    this.persistCaptionsTrack = function() {\r\n        var track = this.get('captionsTrack');\r\n\r\n        if (track) {\r\n            // update preference if an option was selected\r\n            this.set('captionLabel', track.name);\r\n        } else {\r\n            this.set('captionLabel', 'Off');\r\n        }\r\n    };\r\n\r\n\r\n    this.setVideoSubtitleTrack = function(trackIndex, tracks) {\r\n        this.set('captionsIndex', trackIndex);\r\n        /*\r\n         * Tracks could have changed even if the index hasn't.\r\n         * Need to ensure track has data for captionsrenderer.\r\n         */\r\n        if (trackIndex && tracks && trackIndex <= tracks.length && tracks[trackIndex - 1].data) {\r\n            this.set('captionsTrack', tracks[trackIndex - 1]);\r\n        }\r\n\r\n        if (_provider && _provider.setSubtitlesTrack) {\r\n            _provider.setSubtitlesTrack(trackIndex);\r\n        }\r\n    };\r\n\r\n    this.persistVideoSubtitleTrack = function(trackIndex, tracks) {\r\n        this.setVideoSubtitleTrack(trackIndex, tracks);\r\n        this.persistCaptionsTrack();\r\n    };\r\n\r\n    function _autoStartSupportedIOS() {\r\n        if (!OS.iOS) {\r\n            return false;\r\n        }\r\n        // Autostart only supported in iOS 10 or higher - check if the version is 9 or less\r\n        return OS.version.major >= 10;\r\n    }\r\n\r\n    function platformCanAutostart() {\r\n        var autostartAdsIsEnabled = (!_this.get('advertising') || _this.get('advertising').autoplayadsmuted);\r\n        var iosBrowserIsSupported = _autoStartSupportedIOS() && (Browser.safari || Browser.chrome || Browser.facebook);\r\n        var androidBrowserIsSupported = OS.android && Browser.chrome;\r\n        var mobileBrowserIsSupported = (iosBrowserIsSupported || androidBrowserIsSupported);\r\n        var isAndroidSdk = _this.get('sdkplatform') === 1;\r\n        return (!_this.get('sdkplatform') && autostartAdsIsEnabled && mobileBrowserIsSupported) || isAndroidSdk;\r\n    }\r\n\r\n    this.autoStartOnMobile = function() {\r\n        return this.get('autostart') && platformCanAutostart();\r\n    };\r\n\r\n    // Mobile players always wait to become viewable.\r\n    // Desktop players must have autostart set to viewable\r\n    this.setAutoStart = function(autoStart) {\r\n        if (autoStart !== undefined) {\r\n            this.set('autostart', autoStart);\r\n        }\r\n\r\n        const autoStartOnMobile = this.autoStartOnMobile();\r\n        const isAndroidSdk = _this.get('sdkplatform') === 1;\r\n        if (autoStartOnMobile && !isAndroidSdk) {\r\n            this.set('autostartMuted', true);\r\n        }\r\n        this.set('playOnViewable', autoStartOnMobile || this.get('autostart') === 'viewable');\r\n    };\r\n};\r\n\r\n// Represents the state of the provider/media element\r\nconst MediaModel = Model.MediaModel = function() {\r\n    this.attributes = {\r\n        state: STATE_IDLE\r\n    };\r\n};\r\n\r\nObject.assign(MediaModel.prototype, SimpleModel, {\r\n    srcReset() {\r\n        const attributes = this.attributes;\r\n        attributes.setup = false;\r\n        attributes.started = false;\r\n        attributes.preloaded = false;\r\n        attributes.visualQuality = null;\r\n    }\r\n});\r\n\r\nObject.assign(Model.prototype, SimpleModel);\r\n\r\nexport default Model;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/controller/model.js","export const requestAnimationFrame = window.requestAnimationFrame || function (callback) {\r\n    return setTimeout(callback, 17);\r\n};\r\n\r\nexport const cancelAnimationFrame = window.cancelAnimationFrame || clearTimeout;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/request-animation-frame.js","import { replaceClass } from 'utils/dom';\r\n\r\nexport function getBreakpoint(width) {\r\n    let breakpoint = 0;\r\n\r\n    if (width >= 1280) {\r\n        breakpoint = 7;\r\n    } else if (width >= 960) {\r\n        breakpoint = 6;\r\n    } else if (width >= 800) {\r\n        breakpoint = 5;\r\n    } else if (width >= 640) {\r\n        breakpoint = 4;\r\n    } else if (width >= 540) {\r\n        breakpoint = 3;\r\n    } else if (width >= 420) {\r\n        breakpoint = 2;\r\n    } else if (width >= 320) {\r\n        breakpoint = 1;\r\n    }\r\n\r\n    return breakpoint;\r\n}\r\n\r\nexport function setBreakpoint(playerElement, breakpointNumber) {\r\n    const breakpointClass = 'jw-breakpoint-' + breakpointNumber;\r\n    replaceClass(playerElement, /jw-breakpoint-\\d+/, breakpointClass);\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/utils/breakpoint.js","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader/lib/css-base.js\n// module id = 77\n// module chunks = 0 1 2 3 4 5","export default function(element, ariaLabel) {\r\n    if (!element || !ariaLabel) {\r\n        return;\r\n    }\r\n\r\n    element.setAttribute('aria-label', ariaLabel);\r\n    element.setAttribute('role', 'button');\r\n    element.setAttribute('tabindex', '0');\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/aria.js","import sliderTemplate from 'view/controls/templates/slider';\r\nimport { OS } from 'environment/environment';\r\nimport Events from 'utils/backbone.events';\r\nimport UI from 'utils/ui';\r\nimport utils from 'utils/helpers';\r\n\r\nconst getRailBounds = function(elementRail) {\r\n    const bounds = utils.bounds(elementRail);\r\n    // Partial workaround of Android 'inert-visual-viewport'\r\n    // https://bugs.chromium.org/p/chromium/issues/detail?id=489206\r\n    const pageXOffset = window.pageXOffset;\r\n    if (pageXOffset && OS.android && document.body.parentElement.getBoundingClientRect().left >= 0) {\r\n        bounds.left -= pageXOffset;\r\n        bounds.right -= pageXOffset;\r\n    }\r\n    return bounds;\r\n};\r\n\r\nexport default class Slider {\r\n    constructor(className, orientation) {\r\n        Object.assign(this, Events);\r\n\r\n        this.className = className + ' jw-background-color jw-reset';\r\n        this.orientation = orientation;\r\n\r\n        this.dragStartListener = this.dragStart.bind(this);\r\n        this.dragMoveListener = this.dragMove.bind(this);\r\n        this.dragEndListener = this.dragEnd.bind(this);\r\n\r\n        this.tapListener = this.tap.bind(this);\r\n    }\r\n\r\n    setup() {\r\n        this.el = utils.createElement(sliderTemplate(this.className, 'jw-slider-' + this.orientation));\r\n\r\n        this.elementRail = this.el.getElementsByClassName('jw-slider-container')[0];\r\n        this.elementBuffer = this.el.getElementsByClassName('jw-buffer')[0];\r\n        this.elementProgress = this.el.getElementsByClassName('jw-progress')[0];\r\n        this.elementThumb = this.el.getElementsByClassName('jw-knob')[0];\r\n\r\n        this.userInteract = new UI(this.element(), { preventScrolling: true });\r\n\r\n        this.userInteract.on('dragStart', this.dragStartListener);\r\n        this.userInteract.on('drag', this.dragMoveListener);\r\n        this.userInteract.on('dragEnd', this.dragEndListener);\r\n\r\n        this.userInteract.on('tap click', this.tapListener);\r\n    }\r\n\r\n    dragStart() {\r\n        this.trigger('dragStart');\r\n        this.railBounds = getRailBounds(this.elementRail);\r\n    }\r\n\r\n    dragEnd(evt) {\r\n        this.dragMove(evt);\r\n        this.trigger('dragEnd');\r\n    }\r\n\r\n    dragMove(evt) {\r\n        const bounds = this.railBounds = (this.railBounds) ? this.railBounds : getRailBounds(this.elementRail);\r\n        let dimension;\r\n        let percentage;\r\n\r\n        if (this.orientation === 'horizontal') {\r\n            dimension = evt.pageX;\r\n            if (dimension < bounds.left) {\r\n                percentage = 0;\r\n            } else if (dimension > bounds.right) {\r\n                percentage = 100;\r\n            } else {\r\n                percentage = utils.between((dimension - bounds.left) / bounds.width, 0, 1) * 100;\r\n            }\r\n        } else {\r\n            dimension = evt.pageY;\r\n            if (dimension >= bounds.bottom) {\r\n                percentage = 0;\r\n            } else if (dimension <= bounds.top) {\r\n                percentage = 100;\r\n            } else {\r\n                percentage = utils.between((bounds.height - (dimension - bounds.top)) / bounds.height, 0, 1) * 100;\r\n            }\r\n        }\r\n\r\n        const updatedPercent = this.limit(percentage);\r\n        this.render(updatedPercent);\r\n        this.update(updatedPercent);\r\n\r\n        return false;\r\n    }\r\n\r\n    tap(evt) {\r\n        this.railBounds = getRailBounds(this.elementRail);\r\n        this.dragMove(evt);\r\n    }\r\n\r\n    limit(percentage) {\r\n        // modules that extend Slider can set limits on the percentage (TimeSlider)\r\n        return percentage;\r\n    }\r\n\r\n    update(percentage) {\r\n        this.trigger('update', { percentage: percentage });\r\n    }\r\n\r\n    render(percentage) {\r\n        percentage = Math.max(0, Math.min(percentage, 100));\r\n\r\n        if (this.orientation === 'horizontal') {\r\n            this.elementThumb.style.left = percentage + '%';\r\n            this.elementProgress.style.width = percentage + '%';\r\n        } else {\r\n            this.elementThumb.style.bottom = percentage + '%';\r\n            this.elementProgress.style.height = percentage + '%';\r\n        }\r\n    }\r\n\r\n    updateBuffer(percentage) {\r\n        this.elementBuffer.style.width = percentage + '%';\r\n    }\r\n\r\n    element() {\r\n        return this.el;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/components/slider.js","import Events from 'utils/backbone.events';\r\nimport ariaLabel from 'utils/aria';\r\nimport { toggleClass } from 'utils/dom';\r\nimport svgParse from 'utils/svgParser';\r\n\r\nexport default class Tooltip {\r\n    constructor(name, ariaText, elementShown, svgIcons) {\r\n        Object.assign(this, Events);\r\n        this.el = document.createElement('div');\r\n        let className = 'jw-icon jw-icon-tooltip ' + name + ' jw-button-color jw-reset';\r\n        if (!elementShown) {\r\n            className += ' jw-hidden';\r\n        }\r\n\r\n        ariaLabel(this.el, ariaText);\r\n\r\n        this.el.className = className;\r\n        this.container = document.createElement('div');\r\n        this.container.className = 'jw-overlay jw-reset';\r\n        this.openClass = 'jw-open';\r\n        this.componentType = 'tooltip';\r\n\r\n        this.el.appendChild(this.container);\r\n        if (svgIcons && svgIcons.length > 0) {\r\n            Array.prototype.forEach.call(svgIcons, svgIcon => {\r\n                if (typeof svgIcon === 'string') {\r\n                    this.el.appendChild(svgParse(svgIcon));\r\n                } else {\r\n                    this.el.appendChild(svgIcon);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    addContent(elem) {\r\n        if (this.content) {\r\n            this.removeContent();\r\n        }\r\n\r\n        this.content = elem;\r\n        this.container.appendChild(elem);\r\n    }\r\n\r\n    removeContent() {\r\n        if (this.content) {\r\n            this.container.removeChild(this.content);\r\n            this.content = null;\r\n        }\r\n    }\r\n\r\n    hasContent() {\r\n        return !!this.content;\r\n    }\r\n\r\n    element() {\r\n        return this.el;\r\n    }\r\n\r\n    openTooltip(evt) {\r\n        this.trigger('open-' + this.componentType, evt, { isOpen: true });\r\n        this.isOpen = true;\r\n        toggleClass(this.el, this.openClass, this.isOpen);\r\n    }\r\n\r\n    closeTooltip(evt) {\r\n        this.trigger('close-' + this.componentType, evt, { isOpen: false });\r\n        this.isOpen = false;\r\n        toggleClass(this.el, this.openClass, this.isOpen);\r\n    }\r\n\r\n    toggleOpenState(evt) {\r\n        if (this.isOpen) {\r\n            this.closeTooltip(evt);\r\n        } else {\r\n            this.openTooltip(evt);\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/components/tooltip.js","import { addClass, removeClass } from 'utils/dom';\r\nimport { getPointerType } from 'utils/ui';\r\n\r\nexport function SimpleTooltip(attachToElement, name, text, openCallback) {\r\n    const tooltipElement = document.createElement('div');\r\n    tooltipElement.className = `jw-reset jw-tooltip jw-tooltip-${name}`;\r\n\r\n    const textElement = document.createElement('div');\r\n    textElement.className = 'jw-text';\r\n    textElement.textContent = text;\r\n\r\n    tooltipElement.appendChild(textElement);\r\n    attachToElement.appendChild(tooltipElement);\r\n\r\n    const instance = {\r\n        open() {\r\n            if (instance.touchEvent) {\r\n                delete instance.pointerType;\r\n                return;\r\n            }\r\n\r\n            tooltipElement.setAttribute('aria-expanded', 'true');\r\n            addClass(tooltipElement, 'jw-open');\r\n\r\n            if (openCallback) {\r\n                openCallback();\r\n            }\r\n        },\r\n        close() {\r\n            if (instance.touchEvent) {\r\n                delete instance.pointerType;\r\n                return;\r\n            }\r\n\r\n            tooltipElement.setAttribute('aria-expanded', 'false');\r\n            removeClass(tooltipElement, 'jw-open');\r\n        },\r\n        setText(newText) {\r\n            tooltipElement.querySelector('.jw-text').textContent = newText;\r\n        }\r\n    };\r\n\r\n    attachToElement.addEventListener('mouseover', instance.open);\r\n    attachToElement.addEventListener('mouseout', instance.close);\r\n    attachToElement.addEventListener('touchstart', (evt) => {\r\n        instance.touchEvent = getPointerType(evt) === 'touch';\r\n    });\r\n\r\n    return instance;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/components/simple-tooltip.js","import { resolved } from 'polyfills/promise';\r\n\r\nexport default function cancelable(callback) {\r\n    let cancelled = false;\r\n\r\n    return {\r\n        async: function() {\r\n            const args = arguments;\r\n            return resolved.then(() => {\r\n                if (cancelled) {\r\n                    return;\r\n                }\r\n                return callback.apply(this, args);\r\n            });\r\n        },\r\n        cancel: () => {\r\n            cancelled = true;\r\n        },\r\n        cancelled: () => cancelled\r\n    };\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/cancelable.js","export default (function() {\r\n    if ('hidden' in document) {\r\n        return function () {\r\n            return !document.hidden;\r\n        };\r\n    }\r\n    if ('webkitHidden' in document) {\r\n        return function () {\r\n            return !document.webkitHidden;\r\n        };\r\n    }\r\n    // document.hidden not supported\r\n    return function () {\r\n        return true;\r\n    };\r\n}());\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/active-tab.js","import VTTCue from 'parsers/captions/vttcue';\r\nimport { chunkLoadErrorHandler } from '../api/core-loader';\r\nimport utils from 'utils/helpers';\r\nimport { localName } from 'parsers/parsers';\r\nimport srt from 'parsers/captions/srt';\r\nimport dfxp from 'parsers/captions/dfxp';\r\n\r\nexport function loadFile(track, successHandler, errorHandler) {\r\n    track.xhr = utils.ajax(track.file, function(xhr) {\r\n        xhrSuccess(xhr, track, successHandler, errorHandler);\r\n    }, errorHandler);\r\n}\r\n\r\nexport function cancelXhr(tracks) {\r\n    if (tracks) {\r\n        tracks.forEach(track => {\r\n            var xhr = track.xhr;\r\n            if (xhr) {\r\n                xhr.onload = null;\r\n                xhr.onreadystatechange = null;\r\n                xhr.onerror = null;\r\n                if ('abort' in xhr) {\r\n                    xhr.abort();\r\n                }\r\n            }\r\n            delete track.xhr;\r\n        });\r\n    }\r\n}\r\n\r\nexport function convertToVTTCues(cues) {\r\n    // VTTCue is available natively or polyfilled where necessary\r\n    return cues.map(cue => new VTTCue(cue.begin, cue.end, cue.text));\r\n}\r\n\r\nfunction xhrSuccess(xhr, track, successHandler, errorHandler) {\r\n    var xmlRoot = xhr.responseXML ? xhr.responseXML.firstChild : null;\r\n    var cues;\r\n    var vttCues;\r\n\r\n    // IE9 sets the firstChild element to the root <xml> tag\r\n    if (xmlRoot) {\r\n        if (localName(xmlRoot) === 'xml') {\r\n            xmlRoot = xmlRoot.nextSibling;\r\n        }\r\n        // Ignore all comments\r\n        while (xmlRoot.nodeType === xmlRoot.COMMENT_NODE) {\r\n            xmlRoot = xmlRoot.nextSibling;\r\n        }\r\n    }\r\n\r\n    try {\r\n        if (xmlRoot && localName(xmlRoot) === 'tt') {\r\n            // parse dfxp track\r\n            cues = dfxp(xhr.responseXML);\r\n            vttCues = convertToVTTCues(cues);\r\n            delete track.xhr;\r\n            successHandler(vttCues);\r\n        } else {\r\n            // parse VTT/SRT track\r\n            var responseText = xhr.responseText;\r\n            if (responseText.indexOf('WEBVTT') >= 0) {\r\n                // make VTTCues from VTT track\r\n                loadVttParser().then(VTTParser => {\r\n                    var parser = new VTTParser(window);\r\n                    vttCues = [];\r\n                    parser.oncue = function(cue) {\r\n                        vttCues.push(cue);\r\n                    };\r\n\r\n                    parser.onflush = function() {\r\n                        delete track.xhr;\r\n                        successHandler(vttCues);\r\n                    };\r\n\r\n                    // Parse calls onflush internally\r\n                    parser.parse(responseText);\r\n                }).catch(error => {\r\n                    delete track.xhr;\r\n                    errorHandler(error);\r\n                });\r\n            } else {\r\n                // make VTTCues from SRT track\r\n                cues = srt(responseText);\r\n                vttCues = convertToVTTCues(cues);\r\n                delete track.xhr;\r\n                successHandler(vttCues);\r\n            }\r\n        }\r\n    } catch (error) {\r\n        delete track.xhr;\r\n        errorHandler(error);\r\n    }\r\n}\r\n\r\nfunction loadVttParser() {\r\n    return require.ensure(['parsers/captions/vttparser'], function (require) {\r\n        return require('parsers/captions/vttparser').default;\r\n    }, chunkLoadErrorHandler, 'vttparser');\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/controller/tracks-loader.js","export function createId(track, tracksCount) {\r\n    var trackId;\r\n    var prefix = track.kind || 'cc';\r\n    if (track.default || track.defaulttrack) {\r\n        trackId = 'default';\r\n    } else {\r\n        trackId = track._id || track.file || (prefix + tracksCount);\r\n    }\r\n    return trackId;\r\n}\r\n\r\nexport function createLabel(track, unknownCount) {\r\n    var label = track.label || track.name || track.language;\r\n    if (!label) {\r\n        label = 'Unknown CC';\r\n        unknownCount += 1;\r\n        if (unknownCount > 1) {\r\n            label += ' [' + unknownCount + ']';\r\n        }\r\n    }\r\n    return { label: label, unknownCount: unknownCount };\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/controller/tracks-helper.js","/**\r\n * Copyright 2013 vtt.js Contributors\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n*/\r\n\r\nlet VTTCue = window.VTTCue;\r\n\r\nfunction findDirectionSetting(value) {\r\n    if (typeof value !== 'string') {\r\n        return false;\r\n    }\r\n    const directionSetting = {\r\n        '': true,\r\n        lr: true,\r\n        rl: true\r\n    };\r\n    const dir = directionSetting[value.toLowerCase()];\r\n    return dir ? value.toLowerCase() : false;\r\n}\r\n\r\nfunction findAlignSetting(value) {\r\n    if (typeof value !== 'string') {\r\n        return false;\r\n    }\r\n    const alignSetting = {\r\n        start: true,\r\n        middle: true,\r\n        end: true,\r\n        left: true,\r\n        right: true\r\n    };\r\n    const align = alignSetting[value.toLowerCase()];\r\n    return align ? value.toLowerCase() : false;\r\n}\r\n\r\nif (!VTTCue) {\r\n    const autoKeyword = 'auto';\r\n\r\n    VTTCue = function(startTime, endTime, text) {\r\n        const cue = this;\r\n\r\n        /**\r\n         * Shim implementation specific properties. These properties are not in\r\n         * the spec.\r\n         */\r\n\r\n        // Lets us know when the VTTCue's data has changed in such a way that we need\r\n        // to recompute its display state. This lets us compute its display state\r\n        // lazily.\r\n        cue.hasBeenReset = false;\r\n\r\n        /**\r\n         * VTTCue and TextTrackCue properties\r\n         * http://dev.w3.org/html5/webvtt/#vttcue-interface\r\n         */\r\n\r\n        let _id = '';\r\n        let _pauseOnExit = false;\r\n        let _startTime = startTime;\r\n        let _endTime = endTime;\r\n        let _text = text;\r\n        let _region = null;\r\n        let _vertical = '';\r\n        let _snapToLines = true;\r\n        let _line = autoKeyword;\r\n        let _lineAlign = 'start';\r\n        let _position = autoKeyword;\r\n        let _size = 100;\r\n        let _align = 'middle';\r\n\r\n        Object.defineProperty(cue, 'id', {\r\n            enumerable: true,\r\n            get: function () {\r\n                return _id;\r\n            },\r\n            set: function (value) {\r\n                _id = '' + value;\r\n            }\r\n        });\r\n\r\n        Object.defineProperty(cue, 'pauseOnExit', {\r\n            enumerable: true,\r\n            get: function () {\r\n                return _pauseOnExit;\r\n            },\r\n            set: function (value) {\r\n                _pauseOnExit = !!value;\r\n            }\r\n        });\r\n\r\n        Object.defineProperty(cue, 'startTime', {\r\n            enumerable: true,\r\n            get: function () {\r\n                return _startTime;\r\n            },\r\n            set: function (value) {\r\n                if (typeof value !== 'number') {\r\n                    throw new TypeError('Start time must be set to a number.');\r\n                }\r\n                _startTime = value;\r\n                this.hasBeenReset = true;\r\n            }\r\n        });\r\n\r\n        Object.defineProperty(cue, 'endTime', {\r\n            enumerable: true,\r\n            get: function () {\r\n                return _endTime;\r\n            },\r\n            set: function (value) {\r\n                if (typeof value !== 'number') {\r\n                    throw new TypeError('End time must be set to a number.');\r\n                }\r\n                _endTime = value;\r\n                this.hasBeenReset = true;\r\n            }\r\n        });\r\n\r\n        Object.defineProperty(cue, 'text', {\r\n            enumerable: true,\r\n            get: function () {\r\n                return _text;\r\n            },\r\n            set: function (value) {\r\n                _text = '' + value;\r\n                this.hasBeenReset = true;\r\n            }\r\n        });\r\n\r\n        Object.defineProperty(cue, 'region', {\r\n            enumerable: true,\r\n            get: function () {\r\n                return _region;\r\n            },\r\n            set: function (value) {\r\n                _region = value;\r\n                this.hasBeenReset = true;\r\n            }\r\n        });\r\n\r\n        Object.defineProperty(cue, 'vertical', {\r\n            enumerable: true,\r\n            get: function () {\r\n                return _vertical;\r\n            },\r\n            set: function (value) {\r\n                const setting = findDirectionSetting(value);\r\n                // Have to check for false because the setting an be an empty string.\r\n                if (setting === false) {\r\n                    throw new SyntaxError('An invalid or illegal string was specified.');\r\n                }\r\n                _vertical = setting;\r\n                this.hasBeenReset = true;\r\n            }\r\n        });\r\n\r\n        Object.defineProperty(cue, 'snapToLines', {\r\n            enumerable: true,\r\n            get: function () {\r\n                return _snapToLines;\r\n            },\r\n            set: function (value) {\r\n                _snapToLines = !!value;\r\n                this.hasBeenReset = true;\r\n            }\r\n        });\r\n\r\n        Object.defineProperty(cue, 'line', {\r\n            enumerable: true,\r\n            get: function () {\r\n                return _line;\r\n            },\r\n            set: function (value) {\r\n                if (typeof value !== 'number' && value !== autoKeyword) {\r\n                    throw new SyntaxError('An invalid number or illegal string was specified.');\r\n                }\r\n                _line = value;\r\n                this.hasBeenReset = true;\r\n            }\r\n        });\r\n\r\n        Object.defineProperty(cue, 'lineAlign', {\r\n            enumerable: true,\r\n            get: function () {\r\n                return _lineAlign;\r\n            },\r\n            set: function (value) {\r\n                const setting = findAlignSetting(value);\r\n                if (!setting) {\r\n                    throw new SyntaxError('An invalid or illegal string was specified.');\r\n                }\r\n                _lineAlign = setting;\r\n                this.hasBeenReset = true;\r\n            }\r\n        });\r\n\r\n        Object.defineProperty(cue, 'position', {\r\n            enumerable: true,\r\n            get: function () {\r\n                return _position;\r\n            },\r\n            set: function (value) {\r\n                if (value < 0 || value > 100) {\r\n                    throw new Error('Position must be between 0 and 100.');\r\n                }\r\n                _position = value;\r\n                this.hasBeenReset = true;\r\n            }\r\n        });\r\n\r\n        Object.defineProperty(cue, 'size', {\r\n            enumerable: true,\r\n            get: function () {\r\n                return _size;\r\n            },\r\n            set: function (value) {\r\n                if (value < 0 || value > 100) {\r\n                    throw new Error('Size must be between 0 and 100.');\r\n                }\r\n                _size = value;\r\n                this.hasBeenReset = true;\r\n            }\r\n        });\r\n\r\n        Object.defineProperty(cue, 'align', {\r\n            enumerable: true,\r\n            get: function () {\r\n                return _align;\r\n            },\r\n            set: function (value) {\r\n                const setting = findAlignSetting(value);\r\n                if (!setting) {\r\n                    throw new SyntaxError('An invalid or illegal string was specified.');\r\n                }\r\n                _align = setting;\r\n                this.hasBeenReset = true;\r\n            }\r\n        });\r\n\r\n        /**\r\n         * Other <track> spec defined properties\r\n         */\r\n\r\n        // http://www.whatwg.org/specs/web-apps/current-work/multipage/the-video-element.html#text-track-cue-display-state\r\n        cue.displayState = undefined;\r\n    };\r\n\r\n    /**\r\n     * VTTCue methods\r\n     */\r\n\r\n    VTTCue.prototype.getCueAsHTML = function () {\r\n        // Assume WebVTT.convertCueToDOMTree is on the global.\r\n        const WebVTT = window.WebVTT;\r\n        return WebVTT.convertCueToDOMTree(window, this.text);\r\n    };\r\n}\r\n\r\nexport default VTTCue;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/parsers/captions/vttcue.js","import { seconds, trim } from 'utils/strings';\r\n\r\n// Component that loads and parses an DFXP file\r\n\r\nexport default function Dfxp(xmlDoc) {\r\n    validate(xmlDoc);\r\n    var _captions = [];\r\n    var paragraphs = xmlDoc.getElementsByTagName('p');\r\n    // Default frameRate is 30\r\n    var frameRate = 30;\r\n    var tt = xmlDoc.getElementsByTagName('tt');\r\n    if (tt && tt[0]) {\r\n        var parsedFrameRate = parseFloat(tt[0].getAttribute('ttp:frameRate'));\r\n        if (!isNaN(parsedFrameRate)) {\r\n            frameRate = parsedFrameRate;\r\n        }\r\n    }\r\n    validate(paragraphs);\r\n    if (!paragraphs.length) {\r\n        paragraphs = xmlDoc.getElementsByTagName('tt:p');\r\n        if (!paragraphs.length) {\r\n            paragraphs = xmlDoc.getElementsByTagName('tts:p');\r\n        }\r\n    }\r\n\r\n    for (var i = 0; i < paragraphs.length; i++) {\r\n        var p = paragraphs[i];\r\n\r\n        var breaks = p.getElementsByTagName('br');\r\n        for (var j = 0; j < breaks.length; j++) {\r\n            var b = breaks[j];\r\n            b.parentNode.replaceChild(xmlDoc.createTextNode('\\r\\n'), b);\r\n        }\r\n\r\n        var rawText = (p.innerHTML || p.textContent || p.text || '');\r\n        var text = trim(rawText).replace(/>\\s+</g, '><').replace(/(<\\/?)tts?:/g, '$1').replace(/<br.*?\\/>/g, '\\r\\n');\r\n        if (text) {\r\n            var begin = p.getAttribute('begin');\r\n            var dur = p.getAttribute('dur');\r\n            var end = p.getAttribute('end');\r\n\r\n            var entry = {\r\n                begin: seconds(begin, frameRate),\r\n                text: text\r\n            };\r\n            if (end) {\r\n                entry.end = seconds(end, frameRate);\r\n            } else if (dur) {\r\n                entry.end = entry.begin + seconds(dur, frameRate);\r\n            }\r\n            _captions.push(entry);\r\n        }\r\n    }\r\n    if (!_captions.length) {\r\n        parseError();\r\n    }\r\n    return _captions;\r\n}\r\n\r\nfunction validate(object) {\r\n    if (!object) {\r\n        parseError();\r\n    }\r\n}\r\n\r\nfunction parseError() {\r\n    throw new Error('Invalid DFXP file');\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/parsers/captions/dfxp.js","import { cloneIcons } from 'view/controls/icons';\r\nimport { Browser, OS } from 'environment/environment';\r\nimport { dvrSeekLimit } from 'view/constants';\r\nimport CustomButton from 'view/controls/components/custom-button';\r\nimport utils from 'utils/helpers';\r\nimport _ from 'utils/underscore';\r\nimport Events from 'utils/backbone.events';\r\nimport UI from 'utils/ui';\r\nimport ariaLabel from 'utils/aria';\r\nimport TimeSlider from 'view/controls/components/timeslider';\r\nimport VolumeTooltip from 'view/controls/components/volumetooltip';\r\nimport button from 'view/controls/components/button';\r\nimport { SimpleTooltip } from 'view/controls/components/simple-tooltip';\r\nimport { prependChild } from 'utils/dom';\r\n\r\nfunction text(name, role) {\r\n    const element = document.createElement('span');\r\n    element.className = 'jw-text jw-reset ' + name;\r\n    if (role) {\r\n        element.setAttribute('role', role);\r\n    }\r\n    return element;\r\n}\r\n\r\nfunction textIcon(name, role) {\r\n    const element = document.createElement('div');\r\n    element.className = 'jw-icon jw-icon-inline jw-text jw-reset ' + name;\r\n    if (role) {\r\n        element.setAttribute('role', role);\r\n    }\r\n    return element;\r\n}\r\n\r\nfunction div(classes) {\r\n    const element = document.createElement('div');\r\n    element.className = `jw-reset ${classes}`;\r\n    return element;\r\n}\r\n\r\nfunction createCastButton(castToggle, localization) {\r\n\r\n    if (Browser.safari) {\r\n        const airplayButton = button(\r\n            'jw-icon-airplay jw-off',\r\n            castToggle,\r\n            localization.airplay,\r\n            cloneIcons('airplay-off,airplay-on'));\r\n\r\n        SimpleTooltip(airplayButton.element(), 'airplay', localization.airplay);\r\n\r\n        return airplayButton;\r\n    }\r\n\r\n    if (!Browser.chrome || OS.iOS) {\r\n        return;\r\n    }\r\n\r\n\r\n    const castButton = document.createElement('button', 'google-cast-button');\r\n    castButton.setAttribute('type', 'button');\r\n    castButton.setAttribute('tabindex', '-1');\r\n\r\n    const element = document.createElement('div');\r\n    element.className = 'jw-reset jw-icon jw-icon-inline jw-icon-cast jw-button-color';\r\n    element.style.display = 'none';\r\n    element.style.cursor = 'pointer';\r\n    element.appendChild(castButton);\r\n    ariaLabel(element, localization.cast);\r\n\r\n    SimpleTooltip(element, 'chromecast', localization.cast);\r\n\r\n    return {\r\n        element: function() {\r\n            return element;\r\n        },\r\n        toggle: function(m) {\r\n            if (m) {\r\n                this.show();\r\n            } else {\r\n                this.hide();\r\n            }\r\n        },\r\n        show: function() {\r\n            element.style.display = '';\r\n        },\r\n        hide: function() {\r\n            element.style.display = 'none';\r\n        },\r\n        button: castButton\r\n    };\r\n}\r\n\r\nfunction reasonInteraction() {\r\n    return { reason: 'interaction' };\r\n}\r\n\r\nfunction buttonsInFirstNotInSecond(buttonsA, buttonsB) {\r\n    return buttonsA.filter(a =>\r\n        !buttonsB.some(b => (b.id + b.btnClass === a.id + a.btnClass) && a.callback === b.callback));\r\n}\r\n\r\nconst appendChildren = (container, elements) => {\r\n    elements.forEach(e => {\r\n        if (e.element) {\r\n            e = e.element();\r\n        }\r\n        container.appendChild(e);\r\n    });\r\n};\r\n\r\nexport default class Controlbar {\r\n    constructor(_api, _model) {\r\n        Object.assign(this, Events);\r\n        this._api = _api;\r\n        this._model = _model;\r\n        this._isMobile = OS.mobile;\r\n        const localization = _model.get('localization');\r\n        const timeSlider = new TimeSlider(_model, _api);\r\n        let volumeTooltip;\r\n        let muteButton;\r\n\r\n        const play = localization.play;\r\n        const next = localization.next;\r\n        const vol = localization.volume;\r\n        const rewind = localization.rewind;\r\n\r\n        // Do not show the volume toggle in the mobile SDKs or <iOS10\r\n        if (!_model.get('sdkplatform') && !(OS.iOS && OS.version.major < 10)) {\r\n            // Clone icons so that can be used in VolumeTooltip\r\n            const svgIcons = cloneIcons('volume-0,volume-100');\r\n            muteButton = button('jw-icon-volume', () => {\r\n                _api.setMute();\r\n            }, vol, svgIcons);\r\n        }\r\n\r\n        // Do not initialize volume slider or tooltip on mobile\r\n        if (!this._isMobile) {\r\n            volumeTooltip = new VolumeTooltip(_model, 'jw-icon-volume', vol,\r\n                cloneIcons('volume-0,volume-50,volume-100'));\r\n        }\r\n\r\n        const nextButton = button('jw-icon-next', () => {\r\n            _api.next();\r\n        }, next, cloneIcons('next'));\r\n\r\n        const settingsButton = button('jw-icon-settings jw-settings-submenu-button', (event) => {\r\n            this.trigger('settingsInteraction', 'quality', true, event);\r\n        }, localization.settings, cloneIcons('settings'));\r\n        settingsButton.element().setAttribute('aria-haspopup', 'true');\r\n\r\n        const captionsButton = button('jw-icon-cc jw-settings-submenu-button', (event) => {\r\n            this.trigger('settingsInteraction', 'captions', false, event);\r\n        }, localization.cc, cloneIcons('cc-off,cc-on'));\r\n        captionsButton.element().setAttribute('aria-haspopup', 'true');\r\n\r\n        const elements = this.elements = {\r\n            alt: text('jw-text-alt', 'status'),\r\n            play: button('jw-icon-playback', () => {\r\n                _api.playToggle(reasonInteraction());\r\n            }, play, cloneIcons('play,pause')),\r\n            rewind: button('jw-icon-rewind', () => {\r\n                this.rewind();\r\n            }, rewind, cloneIcons('rewind')),\r\n            live: button('jw-icon-live', () => {\r\n                this.goToLiveEdge();\r\n            }, localization.liveBroadcast, cloneIcons('live,dvr')),\r\n            next: nextButton,\r\n            elapsed: textIcon('jw-text-elapsed', 'timer'),\r\n            countdown: textIcon('jw-text-countdown', 'timer'),\r\n            time: timeSlider,\r\n            duration: textIcon('jw-text-duration', 'timer'),\r\n            mute: muteButton,\r\n            volumetooltip: volumeTooltip,\r\n            cast: createCastButton(() => {\r\n                _api.castToggle();\r\n            }, localization),\r\n            fullscreen: button('jw-icon-fullscreen', () => {\r\n                _api.setFullscreen();\r\n            }, localization.fullscreen, cloneIcons('fullscreen-off,fullscreen-on')),\r\n            spacer: div('jw-spacer'),\r\n            buttonContainer: div('jw-button-container'),\r\n            settingsButton,\r\n            captionsButton\r\n        };\r\n\r\n        // Add text tooltips\r\n        const captionsTip = SimpleTooltip(captionsButton.element(), 'captions', localization.cc);\r\n        const onCaptionsChanged = (model) => {\r\n            const currentCaptions = model.get('captionsList')[model.get('captionsIndex')];\r\n            let newText = localization.cc;\r\n            if (currentCaptions && currentCaptions.label !== 'Off') {\r\n                newText = currentCaptions.label;\r\n            }\r\n            captionsTip.setText(newText);\r\n        };\r\n\r\n        const nextUpTip = SimpleTooltip(elements.next.element(), 'next', localization.nextUp, () => {\r\n            const nextUp = _model.get('nextUp');\r\n\r\n            this.trigger('nextShown', {\r\n                mode: nextUp.mode,\r\n                ui: 'nextup',\r\n                itemsShown: [nextUp],\r\n                feedData: nextUp.feedData,\r\n                reason: 'hover'\r\n            });\r\n        });\r\n        SimpleTooltip(elements.rewind.element(), 'rewind', localization.rewind);\r\n        SimpleTooltip(elements.settingsButton.element(), 'settings', localization.settings);\r\n        SimpleTooltip(elements.fullscreen.element(), 'fullscreen', localization.fullscreen);\r\n\r\n        // Filter out undefined elements\r\n        const buttonLayout = [\r\n            elements.play,\r\n            elements.rewind,\r\n            elements.next,\r\n            elements.volumetooltip,\r\n            elements.mute,\r\n            elements.alt,\r\n            elements.live,\r\n            elements.elapsed,\r\n            elements.countdown,\r\n            elements.duration,\r\n            elements.spacer,\r\n            elements.cast,\r\n            elements.captionsButton,\r\n            elements.settingsButton,\r\n            elements.fullscreen\r\n        ].filter(e => e);\r\n\r\n        const layout = [\r\n            elements.time,\r\n            elements.buttonContainer\r\n        ].filter(e => e);\r\n\r\n        const menus = this.menus = [\r\n            elements.volumetooltip\r\n        ].filter(e => e);\r\n\r\n        this.el = document.createElement('div');\r\n        this.el.className = 'jw-controlbar jw-reset';\r\n\r\n        appendChildren(elements.buttonContainer, buttonLayout);\r\n        appendChildren(this.el, layout);\r\n\r\n        const logo = _model.get('logo');\r\n        if (logo && logo.position === 'control-bar') {\r\n            this.addLogo(logo);\r\n        }\r\n\r\n        // Initial State\r\n        elements.play.show();\r\n        elements.fullscreen.show();\r\n        if (elements.mute) {\r\n            elements.mute.show();\r\n        }\r\n\r\n        // Listen for model changes\r\n        _model.change('volume', this.onVolume, this);\r\n        _model.change('mute', this.onMute, this);\r\n        _model.change('duration', this.onDuration, this);\r\n        _model.change('position', this.onElapsed, this);\r\n        _model.change('fullscreen', this.onFullscreen, this);\r\n        _model.change('streamType', this.onStreamTypeChange, this);\r\n        _model.change('cues', this.addCues, this);\r\n        _model.change('altText', this.setAltText, this);\r\n        _model.change('customButtons', this.updateButtons, this);\r\n        _model.change('state', () => {\r\n            // Check for change of position to counter race condition where state is updated before the current position\r\n            _model.once('change:position', this.checkDvrLiveEdge, this);\r\n        }, this);\r\n        _model.on('change:captionsIndex', onCaptionsChanged, this);\r\n        _model.on('change:captionsList', onCaptionsChanged, this);\r\n        _model.change('nextUp', (model, nextUp) => {\r\n            let tipText = localization.nextUp;\r\n            if (nextUp && nextUp.title) {\r\n                tipText += (`: ${nextUp.title}`);\r\n            }\r\n            nextUpTip.setText(tipText);\r\n            elements.next.toggle(!!nextUp);\r\n        });\r\n        _model.on('change:audioMode', this.onAudioMode, this);\r\n        if (elements.cast) {\r\n            _model.change('castAvailable', this.onCastAvailable, this);\r\n            _model.change('castActive', this.onCastActive, this);\r\n        }\r\n\r\n        // Event listeners\r\n        // Volume sliders do not exist on mobile so don't assign listeners to them.\r\n        if (elements.volume) {\r\n            elements.volume.on('update', function (pct) {\r\n                var val = pct.percentage;\r\n                this._api.setVolume(val);\r\n            }, this);\r\n        }\r\n        if (elements.volumetooltip) {\r\n            elements.volumetooltip.on('update', function (pct) {\r\n                const val = pct.percentage;\r\n                this._api.setVolume(val);\r\n            }, this);\r\n            elements.volumetooltip.on('toggleValue', function () {\r\n                this._api.setMute();\r\n            }, this);\r\n        }\r\n\r\n        if (elements.cast && elements.cast.button) {\r\n            new UI(elements.cast.element()).on('click tap enter', function(evt) {\r\n                // controlbar cast button needs to manually trigger a click\r\n                // on the native cast button for taps and enter key\r\n                if (evt.type !== 'click') {\r\n                    elements.cast.button.click();\r\n                }\r\n                this._model.set('castClicked', true);\r\n            }, this);\r\n        }\r\n\r\n        this._model.mediaController.on('seeked', function () {\r\n            _model.once('change:position', this.checkDvrLiveEdge, this);\r\n        }, this);\r\n\r\n        new UI(elements.duration).on('click tap enter', function () {\r\n            if (this._model.get('streamType') === 'DVR') {\r\n                // Seek to \"Live\" position within live buffer, but not before current position\r\n                const currentPosition = this._model.get('position');\r\n                this._api.seek(Math.max(dvrSeekLimit, currentPosition), reasonInteraction());\r\n            }\r\n        }, this);\r\n\r\n        // When the control bar is interacted with, trigger a user action event\r\n        new UI(this.el).on('click tap drag', function () {\r\n            this.trigger('userAction');\r\n        }, this);\r\n\r\n        _.each(menus, function (ele) {\r\n            ele.on('open-tooltip', this.closeMenus, this);\r\n        }, this);\r\n\r\n        if (_model.get('audioMode')) {\r\n            this.onAudioMode(_model, true);\r\n        }\r\n    }\r\n\r\n    onVolume(model, pct) {\r\n        this.renderVolume(model.get('mute'), pct);\r\n    }\r\n\r\n    onMute(model, muted) {\r\n        this.renderVolume(muted, model.get('volume'));\r\n    }\r\n\r\n    renderVolume(muted, vol) {\r\n        // mute, volume, and volumetooltip do not exist on mobile devices.\r\n        if (this.elements.mute) {\r\n            utils.toggleClass(this.elements.mute.element(), 'jw-off', muted);\r\n            utils.toggleClass(this.elements.mute.element(), 'jw-full', !muted);\r\n        }\r\n        if (this.elements.volume) {\r\n            this.elements.volume.render(muted ? 0 : vol);\r\n        }\r\n        if (this.elements.volumetooltip) {\r\n            this.elements.volumetooltip.volumeSlider.render(muted ? 0 : vol);\r\n            utils.toggleClass(this.elements.volumetooltip.element(), 'jw-off', muted);\r\n            utils.toggleClass(this.elements.volumetooltip.element(), 'jw-full', vol >= 75 && !muted);\r\n        }\r\n    }\r\n\r\n    onCastAvailable(model, val) {\r\n        this.elements.cast.toggle(val);\r\n    }\r\n\r\n    onCastActive(model, val) {\r\n        this.elements.fullscreen.toggle(!val);\r\n        if (this.elements.cast.button) {\r\n            utils.toggleClass(this.elements.cast.button, 'jw-off', !val);\r\n        }\r\n    }\r\n\r\n    onElapsed(model, val) {\r\n        let elapsedTime;\r\n        let countdownTime;\r\n        const duration = model.get('duration');\r\n        if (model.get('streamType') === 'DVR') {\r\n            elapsedTime = countdownTime = Math.ceil(val) >= dvrSeekLimit ? '' : '-' + utils.timeFormat(-val);\r\n        } else {\r\n            elapsedTime = utils.timeFormat(val);\r\n            countdownTime = utils.timeFormat(duration - val);\r\n        }\r\n        this.elements.elapsed.textContent = elapsedTime;\r\n        this.elements.countdown.textContent = countdownTime;\r\n    }\r\n\r\n    onDuration(model, val) {\r\n        this.elements.duration.textContent = utils.timeFormat(Math.abs(val));\r\n    }\r\n\r\n    onFullscreen(model, val) {\r\n        utils.toggleClass(this.elements.fullscreen.element(), 'jw-off', val);\r\n        this.elements.play.element().focus();\r\n    }\r\n\r\n    onAudioMode(model, val) {\r\n        const timeSlider = this.elements.time.element();\r\n        if (val) {\r\n            this.elements.buttonContainer.insertBefore(\r\n                timeSlider,\r\n                this.elements.elapsed\r\n            );\r\n        } else {\r\n            prependChild(this.el, timeSlider);\r\n        }\r\n    }\r\n\r\n    checkDvrLiveEdge() {\r\n        if (this._model.get('streamType') === 'DVR') {\r\n            const currentPosition = Math.ceil(this._model.get('position'));\r\n            // update live icon and displayed time when DVR stream enters or exits live edge\r\n            utils.toggleClass(this.elements.live.element(), 'jw-dvr-live', currentPosition >= dvrSeekLimit);\r\n            this.onElapsed(this._model, currentPosition);\r\n        }\r\n    }\r\n\r\n    element() {\r\n        return this.el;\r\n    }\r\n\r\n    setAltText(model, altText) {\r\n        this.elements.alt.textContent = altText;\r\n    }\r\n\r\n    addCues(model, cues) {\r\n        if (this.elements.time) {\r\n            _.each(cues, function (ele) {\r\n                this.elements.time.addCue(ele);\r\n            }, this);\r\n            this.elements.time.drawCues();\r\n        }\r\n    }\r\n\r\n    // Close menus if it has no event.  Otherwise close all but the event's target.\r\n    closeMenus(evt) {\r\n        _.each(this.menus, function (ele) {\r\n            if (!evt || evt.target !== ele.el) {\r\n                ele.closeTooltip(evt);\r\n            }\r\n        });\r\n    }\r\n\r\n    rewind() {\r\n        const currentPosition = this._model.get('position');\r\n        const duration = this._model.get('duration');\r\n        const rewindPosition = currentPosition - 10;\r\n        let startPosition = 0;\r\n\r\n        // duration is negative in DVR mode\r\n        if (this._model.get('streamType') === 'DVR') {\r\n            startPosition = duration;\r\n        }\r\n        // Seek 10s back. Seek value should be >= 0 in VOD mode and >= (negative) duration in DVR mode\r\n        this._api.seek(Math.max(rewindPosition, startPosition), reasonInteraction());\r\n    }\r\n\r\n    onStreamTypeChange(model) {\r\n        // Hide rewind button when in LIVE mode\r\n        const streamType = model.get('streamType');\r\n        this.elements.rewind.toggle(streamType !== 'LIVE');\r\n        this.elements.live.toggle(streamType === 'LIVE' || streamType === 'DVR');\r\n        this.elements.duration.style.display = streamType === 'DVR' ? 'none' : '';\r\n        const duration = model.get('duration');\r\n        this.onDuration(model, duration);\r\n    }\r\n\r\n    addLogo(logo) {\r\n        const buttonContainer = this.elements.buttonContainer;\r\n\r\n        const logoButton = new CustomButton(\r\n            logo.file,\r\n            'Logo',\r\n            () => {\r\n                if (logo.link) {\r\n                    window.open(logo.link, '_blank');\r\n                }\r\n            },\r\n            'logo',\r\n            'jw-logo-button'\r\n        );\r\n\r\n        if (!logo.link) {\r\n            logoButton.element().setAttribute('tabindex', '-1');\r\n        }\r\n        buttonContainer.insertBefore(\r\n            logoButton.element(),\r\n            buttonContainer.querySelector('.jw-spacer').nextSibling\r\n        );\r\n    }\r\n\r\n    goToLiveEdge() {\r\n        if (this._model.get('streamType') === 'DVR') {\r\n            // Seek to \"Live\" position within live buffer, but not before current position\r\n            const currentPosition = this._model.get('position');\r\n            this._api.seek(Math.max(dvrSeekLimit, currentPosition), reasonInteraction());\r\n        }\r\n    }\r\n\r\n    updateButtons(model, newButtons, oldButtons) {\r\n        // If buttons are undefined exit, buttons are only removed if newButtons is an array\r\n        if (!newButtons) {\r\n            return;\r\n        }\r\n\r\n        const buttonContainer = this.elements.buttonContainer;\r\n\r\n        let addedButtons;\r\n        let removedButtons;\r\n\r\n        // On model.change these obects are the same and all buttons need to be added\r\n        if (newButtons === oldButtons || !oldButtons) {\r\n            addedButtons = newButtons;\r\n\r\n        } else {\r\n            addedButtons = buttonsInFirstNotInSecond(newButtons, oldButtons);\r\n            removedButtons = buttonsInFirstNotInSecond(oldButtons, newButtons);\r\n\r\n            this.removeButtons(buttonContainer, removedButtons);\r\n        }\r\n\r\n        for (let i = addedButtons.length - 1; i >= 0; i--) {\r\n            let buttonProps = addedButtons[i];\r\n            const newButton = new CustomButton(\r\n                buttonProps.img,\r\n                buttonProps.tooltip,\r\n                buttonProps.callback,\r\n                buttonProps.id,\r\n                buttonProps.btnClass\r\n            );\r\n\r\n            if (buttonProps.tooltip) {\r\n                SimpleTooltip(newButton.element(), buttonProps.id, buttonProps.tooltip);\r\n            }\r\n\r\n            let firstButton;\r\n            if (newButton.id === 'related') {\r\n                firstButton = this.elements.settingsButton.element();\r\n            } else if (newButton.id === 'share') {\r\n                firstButton = buttonContainer.querySelector('[button=\"related\"]') ||\r\n                    this.elements.settingsButton.element();\r\n            } else {\r\n                firstButton = this.elements.spacer.nextSibling;\r\n                if (firstButton && firstButton.getAttribute('button') === 'logo') {\r\n                    firstButton = firstButton.nextSibling;\r\n                }\r\n            }\r\n            buttonContainer.insertBefore(newButton.element(), firstButton);\r\n        }\r\n    }\r\n\r\n    removeButtons(buttonContainer, buttonsToRemove) {\r\n        for (let i = buttonsToRemove.length; i--;) {\r\n            const buttonElement = buttonContainer.querySelector(`[button=\"${buttonsToRemove[i].id}\"]`);\r\n            if (buttonElement) {\r\n                buttonContainer.removeChild(buttonElement);\r\n            }\r\n        }\r\n    }\r\n\r\n    useInstreamTime(instreamModel) {\r\n        // While in instream mode, the time slider needs to move according to instream time\r\n        const timeSlider = this.elements.time;\r\n        if (!timeSlider) {\r\n            return;\r\n        }\r\n\r\n        instreamModel\r\n            .change('position', timeSlider.onPosition, timeSlider)\r\n            .change('duration', timeSlider.onDuration, timeSlider)\r\n            .change('duration', () => {\r\n                timeSlider.streamType = 'VOD';\r\n            }, timeSlider);\r\n    }\r\n\r\n    syncPlaybackTime(model) {\r\n        // When resuming playback mode, trigger a change so that the slider immediately resumes it's original position\r\n        const timeSlider = this.elements.time;\r\n        if (!timeSlider) {\r\n            return;\r\n        }\r\n\r\n        timeSlider.onPosition(model, model.get('position'));\r\n        timeSlider.onDuration(model, model.get('duration'));\r\n        timeSlider.onStreamType(model, model.get('streamType'));\r\n    }\r\n\r\n    toggleCaptionsButtonState(active) {\r\n        const captionsButton = this.elements.captionsButton;\r\n        if (!captionsButton) {\r\n            return;\r\n        }\r\n\r\n        utils.toggleClass(captionsButton.element(), 'jw-off', !active);\r\n    }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/controlbar.js","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"jw-svg-icon jw-svg-icon-buffer\\\" viewBox=\\\"0 0 240 240\\\"><path d=\\\"M120,186.667a66.667,66.667,0,0,1,0-133.333V40a80,80,0,1,0,80,80H186.667A66.846,66.846,0,0,1,120,186.667Z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/buffer.svg\n// module id = 91\n// module chunks = 0 1 2 3 4","module.exports = \"<svg class=\\\"jw-svg-icon jw-svg-icon-replay\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 240 240\\\"><path d=\\\"M120,41.9v-20c0-5-4-8-8-4l-44,28a5.865,5.865,0,0,0-3.3,7.6A5.943,5.943,0,0,0,68,56.8l43,29c5,4,9,1,9-4v-20a60,60,0,1,1-60,60H40a80,80,0,1,0,80-79.9Z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/replay.svg\n// module id = 92\n// module chunks = 0 1 2 3 4","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"jw-svg-icon jw-svg-icon-error\\\" viewBox=\\\"0 0 36 36\\\" style=\\\"width:100%;height:100%;\\\"><path fill=\\\"#FFF\\\" d=\\\"M34.6 20.2L10 33.2 27.6 16l7 3.7a.4.4 0 0 1 .2.5.4.4 0 0 1-.2.2zM33.3 0L21 12.2 9 6c-.2-.3-.6 0-.6.5V25L0 33.6 2.5 36 36 2.7z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/playback-error.svg\n// module id = 93\n// module chunks = 0 1 2 3 4","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"jw-svg-icon jw-svg-icon-play\\\" viewBox=\\\"0 0 240 240\\\"><path d=\\\"M62.8,199.5c-1,0.8-2.4,0.6-3.3-0.4c-0.4-0.5-0.6-1.1-0.5-1.8V42.6c-0.2-1.3,0.7-2.4,1.9-2.6c0.7-0.1,1.3,0.1,1.9,0.4l154.7,77.7c2.1,1.1,2.1,2.8,0,3.8L62.8,199.5z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/play.svg\n// module id = 94\n// module chunks = 0 1 2 3 4","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"jw-svg-icon jw-svg-icon-pause\\\" viewBox=\\\"0 0 240 240\\\"><path d=\\\"M100,194.9c0.2,2.6-1.8,4.8-4.4,5c-0.2,0-0.4,0-0.6,0H65c-2.6,0.2-4.8-1.8-5-4.4c0-0.2,0-0.4,0-0.6V45c-0.2-2.6,1.8-4.8,4.4-5c0.2,0,0.4,0,0.6,0h30c2.6-0.2,4.8,1.8,5,4.4c0,0.2,0,0.4,0,0.6V194.9z M180,45.1c0.2-2.6-1.8-4.8-4.4-5c-0.2,0-0.4,0-0.6,0h-30c-2.6-0.2-4.8,1.8-5,4.4c0,0.2,0,0.4,0,0.6V195c-0.2,2.6,1.8,4.8,4.4,5c0.2,0,0.4,0,0.6,0h30c2.6,0.2,4.8-1.8,5-4.4c0-0.2,0-0.4,0-0.6V45.1z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/pause.svg\n// module id = 95\n// module chunks = 0 1 2 3 4","module.exports = \"<svg class=\\\"jw-svg-icon jw-svg-icon-rewind\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 240 240\\\"><path d=\\\"M113.2,131.078a21.589,21.589,0,0,0-17.7-10.6,21.589,21.589,0,0,0-17.7,10.6,44.769,44.769,0,0,0,0,46.3,21.589,21.589,0,0,0,17.7,10.6,21.589,21.589,0,0,0,17.7-10.6,44.769,44.769,0,0,0,0-46.3Zm-17.7,47.2c-7.8,0-14.4-11-14.4-24.1s6.6-24.1,14.4-24.1,14.4,11,14.4,24.1S103.4,178.278,95.5,178.278Zm-43.4,9.7v-51l-4.8,4.8-6.8-6.8,13-13a4.8,4.8,0,0,1,8.2,3.4v62.7l-9.6-.1Zm162-130.2v125.3a4.867,4.867,0,0,1-4.8,4.8H146.6v-19.3h48.2v-96.4H79.1v19.3c0,5.3-3.6,7.2-8,4.3l-41.8-27.9a6.013,6.013,0,0,1-2.7-8,5.887,5.887,0,0,1,2.7-2.7l41.8-27.9c4.4-2.9,8-1,8,4.3v19.3H209.2A4.974,4.974,0,0,1,214.1,57.778Z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/rewind-10.svg\n// module id = 96\n// module chunks = 0 1 2 3 4","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"jw-svg-icon jw-svg-icon-next\\\" viewBox=\\\"0 0 240 240\\\"><path d=\\\"M165,60v53.3L59.2,42.8C56.9,41.3,55,42.3,55,45v150c0,2.7,1.9,3.8,4.2,2.2L165,126.6v53.3h20v-120L165,60L165,60z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/next.svg\n// module id = 97\n// module chunks = 0 1 2 3 4","module.exports = \"<svg class=\\\"jw-svg-icon jw-svg-icon-volume-0\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 240 240\\\"><path d=\\\"M116.4,42.8v154.5c0,2.8-1.7,3.6-3.8,1.7l-54.1-48.1H28.9c-2.8,0-5.2-2.3-5.2-5.2V94.2c0-2.8,2.3-5.2,5.2-5.2h29.6l54.1-48.1C114.6,39.1,116.4,39.9,116.4,42.8z M212.3,96.4l-14.6-14.6l-23.6,23.6l-23.6-23.6l-14.6,14.6l23.6,23.6l-23.6,23.6l14.6,14.6l23.6-23.6l23.6,23.6l14.6-14.6L188.7,120L212.3,96.4z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/volume-0.svg\n// module id = 98\n// module chunks = 0 1 2 3 4","module.exports = \"<svg class=\\\"jw-svg-icon jw-svg-icon-volume-50\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 240 240\\\"><path d=\\\"M116.4,42.8v154.5c0,2.8-1.7,3.6-3.8,1.7l-54.1-48.1H28.9c-2.8,0-5.2-2.3-5.2-5.2V94.2c0-2.8,2.3-5.2,5.2-5.2h29.6l54.1-48.1C114.7,39.1,116.4,39.9,116.4,42.8z M178.2,120c0-22.7-18.5-41.2-41.2-41.2v20.6c11.4,0,20.6,9.2,20.6,20.6c0,11.4-9.2,20.6-20.6,20.6v20.6C159.8,161.2,178.2,142.7,178.2,120z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/volume-50.svg\n// module id = 99\n// module chunks = 0 1 2 3 4","module.exports = \"<svg class=\\\"jw-svg-icon jw-svg-icon-volume-100\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 240 240\\\"><path d=\\\"M116.5,42.8v154.4c0,2.8-1.7,3.6-3.8,1.7l-54.1-48H29c-2.8,0-5.2-2.3-5.2-5.2V94.3c0-2.8,2.3-5.2,5.2-5.2h29.6l54.1-48C114.8,39.2,116.5,39.9,116.5,42.8z\\\"></path><path d=\\\"M136.2,160v-20c11.1,0,20-8.9,20-20s-8.9-20-20-20V80c22.1,0,40,17.9,40,40S158.3,160,136.2,160z\\\"></path><path d=\\\"M216.2,120c0-44.2-35.8-80-80-80v20c33.1,0,60,26.9,60,60s-26.9,60-60,60v20C180.4,199.9,216.1,164.1,216.2,120z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/volume-100.svg\n// module id = 100\n// module chunks = 0 1 2 3 4","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"jw-svg-icon jw-svg-icon-cc-on\\\" viewBox=\\\"0 0 240 240\\\"><path d=\\\"M215,40H25c-2.7,0-5,2.2-5,5v150c0,2.7,2.2,5,5,5h190c2.7,0,5-2.2,5-5V45C220,42.2,217.8,40,215,40z M108.1,137.7c0.7-0.7,1.5-1.5,2.4-2.3l6.6,7.8c-2.2,2.4-5,4.4-8,5.8c-8,3.5-17.3,2.4-24.3-2.9c-3.9-3.6-5.9-8.7-5.5-14v-25.6c0-2.7,0.5-5.3,1.5-7.8c0.9-2.2,2.4-4.3,4.2-5.9c5.7-4.5,13.2-6.2,20.3-4.6c3.3,0.5,6.3,2,8.7,4.3c1.3,1.3,2.5,2.6,3.5,4.2l-7.1,6.9c-2.4-3.7-6.5-5.9-10.9-5.9c-2.4-0.2-4.8,0.7-6.6,2.3c-1.7,1.7-2.5,4.1-2.4,6.5v25.6C90.4,141.7,102,143.5,108.1,137.7z M152.9,137.7c0.7-0.7,1.5-1.5,2.4-2.3l6.6,7.8c-2.2,2.4-5,4.4-8,5.8c-8,3.5-17.3,2.4-24.3-2.9c-3.9-3.6-5.9-8.7-5.5-14v-25.6c0-2.7,0.5-5.3,1.5-7.8c0.9-2.2,2.4-4.3,4.2-5.9c5.7-4.5,13.2-6.2,20.3-4.6c3.3,0.5,6.3,2,8.7,4.3c1.3,1.3,2.5,2.6,3.5,4.2l-7.1,6.9c-2.4-3.7-6.5-5.9-10.9-5.9c-2.4-0.2-4.8,0.7-6.6,2.3c-1.7,1.7-2.5,4.1-2.4,6.5v25.6C135.2,141.7,146.8,143.5,152.9,137.7z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/captions-on.svg\n// module id = 101\n// module chunks = 0 1 2 3 4","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"jw-svg-icon jw-svg-icon-cc-off\\\" viewBox=\\\"0 0 240 240\\\"><path d=\\\"M99.4,97.8c-2.4-0.2-4.8,0.7-6.6,2.3c-1.7,1.7-2.5,4.1-2.4,6.5v25.6c0,9.6,11.6,11.4,17.7,5.5c0.7-0.7,1.5-1.5,2.4-2.3l6.6,7.8c-2.2,2.4-5,4.4-8,5.8c-8,3.5-17.3,2.4-24.3-2.9c-3.9-3.6-5.9-8.7-5.5-14v-25.6c0-2.7,0.5-5.3,1.5-7.8c0.9-2.2,2.4-4.3,4.2-5.9c5.7-4.5,13.2-6.2,20.3-4.6c3.3,0.5,6.3,2,8.7,4.3c1.3,1.3,2.5,2.6,3.5,4.2l-7.1,6.9C107.9,100,103.8,97.8,99.4,97.8z M144.1,97.8c-2.4-0.2-4.8,0.7-6.6,2.3c-1.7,1.7-2.5,4.1-2.4,6.5v25.6c0,9.6,11.6,11.4,17.7,5.5c0.7-0.7,1.5-1.5,2.4-2.3l6.6,7.8c-2.2,2.4-5,4.4-8,5.8c-8,3.5-17.3,2.4-24.3-2.9c-3.9-3.6-5.9-8.7-5.5-14v-25.6c0-2.7,0.5-5.3,1.5-7.8c0.9-2.2,2.4-4.3,4.2-5.9c5.7-4.5,13.2-6.2,20.3-4.6c3.3,0.5,6.3,2,8.7,4.3c1.3,1.3,2.5,2.6,3.5,4.2l-7.1,6.9C152.6,100,148.5,97.8,144.1,97.8L144.1,97.8z M200,60v120H40V60H200 M215,40H25c-2.7,0-5,2.2-5,5v150c0,2.7,2.2,5,5,5h190c2.7,0,5-2.2,5-5V45C220,42.2,217.8,40,215,40z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/captions-off.svg\n// module id = 102\n// module chunks = 0 1 2 3 4","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"jw-svg-icon jw-svg-icon-airplay-on\\\" viewBox=\\\"0 0 240 240\\\"><path d=\\\"M229.9,40v130c0.2,2.6-1.8,4.8-4.4,5c-0.2,0-0.4,0-0.6,0h-44l-17-20h46V55H30v100h47l-17,20h-45c-2.6,0.2-4.8-1.8-5-4.4c0-0.2,0-0.4,0-0.6V40c-0.2-2.6,1.8-4.8,4.4-5c0.2,0,0.4,0,0.6,0h209.8c2.6-0.2,4.8,1.8,5,4.4C229.9,39.7,229.9,39.9,229.9,40z M104.9,122l15-18l15,18l11,13h44V75H50v60h44L104.9,122z M179.9,205l-60-70l-60,70H179.9z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/airplay-on.svg\n// module id = 103\n// module chunks = 0 1 2 3 4","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"jw-svg-icon jw-svg-icon-airplay-off\\\" viewBox=\\\"0 0 240 240\\\"><path d=\\\"M210,55v100h-50l20,20h45c2.6,0.2,4.8-1.8,5-4.4c0-0.2,0-0.4,0-0.6V40c0.2-2.6-1.8-4.8-4.4-5c-0.2,0-0.4,0-0.6,0H15c-2.6-0.2-4.8,1.8-5,4.4c0,0.2,0,0.4,0,0.6v130c-0.2,2.6,1.8,4.8,4.4,5c0.2,0,0.4,0,0.6,0h45l20-20H30V55H210 M60,205l60-70l60,70H60L60,205z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/airplay-off.svg\n// module id = 104\n// module chunks = 0 1 2 3 4","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"jw-svg-icon jw-svg-icon-dvr\\\" viewBox=\\\"60 0 359.9 240\\\"><path d=\\\"M399.9,60v120H80V60H399.9 M414.9,40H65c-2.7,0-5,2.2-5,5v149.9c0,2.7,2.2,5,5,5h349.9c2.7,0,5-2.2,5-5V45C419.9,42.2,417.7,40,414.9,40z M216.6,88.8v51.3h22.7v9.9h-33.5V88.8L216.6,88.8L216.6,88.8z M249.2,88.8h11.2V150h-11.2V88.8z M282.1,88.8l12,45.2l12.2-45.2h11.4L300.6,150h-13L271,88.8H282.1z M335.7,123.7v16.4h20.9v9.9H325V88.8h30.1v9.9h-19.4v15.6H352v9.4L335.7,123.7L335.7,123.7z M140,90c-16.6,0-30,13.4-30,30s13.4,30,30,30s30-13.4,30-30S156.6,90,140,90z M160,119.9c0,3.5-1,7.1-2.9,10.1l-27.2-27.2c9.4-5.6,21.6-2.6,27.2,6.8C159.1,112.7,160,116.3,160,119.9z M120,119.9c0-3.5,1-7.1,2.9-10.1l27.2,27.2c-9.4,5.6-21.6,2.6-27.2-6.8C121,127.1,120,123.6,120,119.9z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/dvr.svg\n// module id = 105\n// module chunks = 0 1 2 3 4","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"jw-svg-icon jw-svg-icon-live\\\" viewBox=\\\"0 0 360 240\\\"><path d=\\\"M354.777,40H5.048a5.013,5.013,0,0,0-5,5V194.9a5.013,5.013,0,0,0,5,5h349.73a5.013,5.013,0,0,0,5-5V45A4.95,4.95,0,0,0,354.777,40ZM80.011,139.9a20,20,0,1,1,19.99-20A19.99,19.99,0,0,1,80.011,139.9Zm99.352,10H145.879V88.7h10.795V140h22.689Zm20.99,0H189.158V88.7h11.195Zm40.081,0H227.439L210.847,88.7h11.195l11.994,45.2L246.23,88.7h11.394Zm56.073,0H264.821V88.7h30.085v9.9H275.516v15.6h16.292v9.4H275.516V140h20.89ZM355,40H5.051a5.016,5.016,0,0,0-5,5V195a5.016,5.016,0,0,0,5,5H355a5.016,5.016,0,0,0,5-5V45A4.953,4.953,0,0,0,355,40ZM80.061,139.962a20.013,20.013,0,1,1,20-20.013A20,20,0,0,1,80.061,139.962Zm99.414,10.006h-33.5V88.73h10.8v51.332h22.7Zm21,0h-11.2V88.73h11.2Zm40.106,0h-13l-16.6-61.238h11.2l12,45.228,12.2-45.228h11.4Zm56.108,0h-31.7V88.73h30.1v9.906h-19.4v15.61h16.3v9.406h-16.3v16.41h20.9ZM354.826,40H5a5.016,5.016,0,0,0-5,5V195a5.016,5.016,0,0,0,5,5H354.826a5.016,5.016,0,0,0,5-5V45A4.952,4.952,0,0,0,354.826,40ZM79.983,139.962a20.013,20.013,0,1,1,20-20.013A20,20,0,0,1,79.983,139.962Zm99.379,10.006H145.87V88.73h10.8v51.332h22.7Zm21,0h-11.2V88.73h11.2Zm40.092,0h-13l-16.6-61.238h11.2l12,45.228,12.2-45.228h11.4Zm56.088,0H264.845V88.73h30.094v9.906h-19.4v15.61h16.3v9.406h-16.3v16.41h20.9Z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/live.svg\n// module id = 106\n// module chunks = 0 1 2 3 4","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"jw-svg-icon jw-svg-icon-playback-rate\\\" viewBox=\\\"0 0 240 240\\\"><path d=\\\"M158.83,48.83A71.17,71.17,0,1,0,230,120,71.163,71.163,0,0,0,158.83,48.83Zm45.293,77.632H152.34V74.708h12.952v38.83h38.83ZM35.878,74.708h38.83V87.66H35.878ZM10,113.538H61.755V126.49H10Zm25.878,38.83h38.83V165.32H35.878Z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/playback-rate.svg\n// module id = 107\n// module chunks = 0 1 2 3 4","module.exports = \"<svg class=\\\"jw-svg-icon jw-svg-icon-settings\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 240 240\\\"><path d=\\\"M204,145l-25-14c0.8-3.6,1.2-7.3,1-11c0.2-3.7-0.2-7.4-1-11l25-14c2.2-1.6,3.1-4.5,2-7l-16-26c-1.2-2.1-3.8-2.9-6-2l-25,14c-6-4.2-12.3-7.9-19-11V35c0.2-2.6-1.8-4.8-4.4-5c-0.2,0-0.4,0-0.6,0h-30c-2.6-0.2-4.8,1.8-5,4.4c0,0.2,0,0.4,0,0.6v28c-6.7,3.1-13,6.7-19,11L56,60c-2.2-0.9-4.8-0.1-6,2L35,88c-1.6,2.2-1.3,5.3,0.9,6.9c0,0,0.1,0,0.1,0.1l25,14c-0.8,3.6-1.2,7.3-1,11c-0.2,3.7,0.2,7.4,1,11l-25,14c-2.2,1.6-3.1,4.5-2,7l16,26c1.2,2.1,3.8,2.9,6,2l25-14c5.7,4.6,12.2,8.3,19,11v28c-0.2,2.6,1.8,4.8,4.4,5c0.2,0,0.4,0,0.6,0h30c2.6,0.2,4.8-1.8,5-4.4c0-0.2,0-0.4,0-0.6v-28c7-2.3,13.5-6,19-11l25,14c2.5,1.3,5.6,0.4,7-2l15-26C206.7,149.4,206,146.7,204,145z M120,149.9c-16.5,0-30-13.4-30-30s13.4-30,30-30s30,13.4,30,30c0.3,16.3-12.6,29.7-28.9,30C120.7,149.9,120.4,149.9,120,149.9z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/settings.svg\n// module id = 108\n// module chunks = 0 1 2 3 4","module.exports = \"<svg class=\\\"jw-svg-icon jw-svg-icon-audio-tracks\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 240 240\\\"><path d=\\\"M35,34h160v20H35V34z M35,94h160V74H35V94z M35,134h60v-20H35V134z M160,114c-23.4-1.3-43.6,16.5-45,40v50h20c5.2,0.3,9.7-3.6,10-8.9c0-0.4,0-0.7,0-1.1v-20c0.3-5.2-3.6-9.7-8.9-10c-0.4,0-0.7,0-1.1,0h-10v-10c1.5-17.9,17.1-31.3,35-30c17.9-1.3,33.6,12.1,35,30v10H185c-5.2-0.3-9.7,3.6-10,8.9c0,0.4,0,0.7,0,1.1v20c-0.3,5.2,3.6,9.7,8.9,10c0.4,0,0.7,0,1.1,0h20v-50C203.5,130.6,183.4,112.7,160,114z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/audio-tracks.svg\n// module id = 109\n// module chunks = 0 1 2 3 4","module.exports = \"<svg class=\\\"jw-svg-icon jw-svg-icon-quality-100\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 240 240\\\"><path d=\\\"M55,200H35c-3,0-5-2-5-4c0,0,0,0,0-1v-30c0-3,2-5,4-5c0,0,0,0,1,0h20c3,0,5,2,5,4c0,0,0,0,0,1v30C60,198,58,200,55,200L55,200z M110,195v-70c0-3-2-5-4-5c0,0,0,0-1,0H85c-3,0-5,2-5,4c0,0,0,0,0,1v70c0,3,2,5,4,5c0,0,0,0,1,0h20C108,200,110,198,110,195L110,195z M160,195V85c0-3-2-5-4-5c0,0,0,0-1,0h-20c-3,0-5,2-5,4c0,0,0,0,0,1v110c0,3,2,5,4,5c0,0,0,0,1,0h20C158,200,160,198,160,195L160,195z M210,195V45c0-3-2-5-4-5c0,0,0,0-1,0h-20c-3,0-5,2-5,4c0,0,0,0,0,1v150c0,3,2,5,4,5c0,0,0,0,1,0h20C208,200,210,198,210,195L210,195z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/quality-100.svg\n// module id = 110\n// module chunks = 0 1 2 3 4","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"jw-svg-icon jw-svg-icon-fullscreen-off\\\" viewBox=\\\"0 0 240 240\\\"><path d=\\\"M109.2,134.9l-8.4,50.1c-0.4,2.7-2.4,3.3-4.4,1.4L82,172l-27.9,27.9l-14.2-14.2l27.9-27.9l-14.4-14.4c-1.9-1.9-1.3-3.9,1.4-4.4l50.1-8.4c1.8-0.5,3.6,0.6,4.1,2.4C109.4,133.7,109.4,134.3,109.2,134.9L109.2,134.9z M172.1,82.1L200,54.2L185.8,40l-27.9,27.9l-14.4-14.4c-1.9-1.9-3.9-1.3-4.4,1.4l-8.4,50.1c-0.5,1.8,0.6,3.6,2.4,4.1c0.5,0.2,1.2,0.2,1.7,0l50.1-8.4c2.7-0.4,3.3-2.4,1.4-4.4L172.1,82.1z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/fullscreen-not.svg\n// module id = 111\n// module chunks = 0 1 2 3 4","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"jw-svg-icon jw-svg-icon-fullscreen-on\\\" viewBox=\\\"0 0 240 240\\\"><path d=\\\"M96.3,186.1c1.9,1.9,1.3,4-1.4,4.4l-50.6,8.4c-1.8,0.5-3.7-0.6-4.2-2.4c-0.2-0.6-0.2-1.2,0-1.7l8.4-50.6c0.4-2.7,2.4-3.4,4.4-1.4l14.5,14.5l28.2-28.2l14.3,14.3l-28.2,28.2L96.3,186.1z M195.8,39.1l-50.6,8.4c-2.7,0.4-3.4,2.4-1.4,4.4l14.5,14.5l-28.2,28.2l14.3,14.3l28.2-28.2l14.5,14.5c1.9,1.9,4,1.3,4.4-1.4l8.4-50.6c0.5-1.8-0.6-3.6-2.4-4.2C197,39,196.4,39,195.8,39.1L195.8,39.1z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/fullscreen.svg\n// module id = 112\n// module chunks = 0 1 2 3 4","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"jw-svg-icon jw-svg-icon-close\\\" viewBox=\\\"0 0 240 240\\\"><path d=\\\"M134.8,120l48.6-48.6c2-1.9,2.1-5.2,0.2-7.2c0,0-0.1-0.1-0.2-0.2l-7.4-7.4c-1.9-2-5.2-2.1-7.2-0.2c0,0-0.1,0.1-0.2,0.2L120,105.2L71.4,56.6c-1.9-2-5.2-2.1-7.2-0.2c0,0-0.1,0.1-0.2,0.2L56.6,64c-2,1.9-2.1,5.2-0.2,7.2c0,0,0.1,0.1,0.2,0.2l48.6,48.7l-48.6,48.6c-2,1.9-2.1,5.2-0.2,7.2c0,0,0.1,0.1,0.2,0.2l7.4,7.4c1.9,2,5.2,2.1,7.2,0.2c0,0,0.1-0.1,0.2-0.2l48.7-48.6l48.6,48.6c1.9,2,5.2,2.1,7.2,0.2c0,0,0.1-0.1,0.2-0.2l7.4-7.4c2-1.9,2.1-5.2,0.2-7.2c0,0-0.1-0.1-0.2-0.2L134.8,120z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/close.svg\n// module id = 113\n// module chunks = 0 1 2 3 4","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" class=\\\"jw-svg-icon jw-svg-icon-jwplayer-logo\\\" viewBox=\\\"0 0 992 1024\\\"><path d=\\\"M144 518.4c0 6.4-6.4 6.4-6.4 0l-3.2-12.8c0 0-6.4-19.2-12.8-38.4 0-6.4-6.4-12.8-9.6-22.4-6.4-6.4-16-9.6-28.8-6.4-9.6 3.2-16 12.8-16 22.4s0 16 0 25.6c3.2 25.6 22.4 121.6 32 140.8 9.6 22.4 35.2 32 54.4 22.4 22.4-9.6 28.8-35.2 38.4-54.4 9.6-25.6 60.8-166.4 60.8-166.4 6.4-12.8 9.6-12.8 9.6 0 0 0 0 140.8-3.2 204.8 0 25.6 0 67.2 9.6 89.6 6.4 16 12.8 28.8 25.6 38.4s28.8 12.8 44.8 12.8c6.4 0 16-3.2 22.4-6.4 9.6-6.4 16-12.8 25.6-22.4 16-19.2 28.8-44.8 38.4-64 25.6-51.2 89.6-201.6 89.6-201.6 6.4-12.8 9.6-12.8 9.6 0 0 0-9.6 256-9.6 355.2 0 25.6 6.4 48 12.8 70.4 9.6 22.4 22.4 38.4 44.8 48s48 9.6 70.4-3.2c16-9.6 28.8-25.6 38.4-38.4 12.8-22.4 25.6-48 32-70.4 19.2-51.2 35.2-102.4 51.2-153.6s153.6-540.8 163.2-582.4c0-6.4 0-9.6 0-12.8 0-9.6-6.4-19.2-16-22.4-16-6.4-32 0-38.4 12.8-6.4 16-195.2 470.4-195.2 470.4-6.4 12.8-9.6 12.8-9.6 0 0 0 0-156.8 0-288 0-70.4-35.2-108.8-83.2-118.4-22.4-3.2-44.8 0-67.2 12.8s-35.2 32-48 54.4c-16 28.8-105.6 297.6-105.6 297.6-6.4 12.8-9.6 12.8-9.6 0 0 0-3.2-115.2-6.4-144-3.2-41.6-12.8-108.8-67.2-115.2-51.2-3.2-73.6 57.6-86.4 99.2-9.6 25.6-51.2 163.2-51.2 163.2v3.2z\\\"></path></svg>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/SVG/jw-logo.svg\n// module id = 114\n// module chunks = 0 1 2 3 4","import { style } from 'utils/css';\r\nimport UI from 'utils/ui';\r\nimport svgParse from 'utils/svgParser';\r\n\r\nexport default class CustomButton {\r\n\r\n    constructor(img, ariaText, callback, id, btnClass) {\r\n        const buttonElement = document.createElement('div');\r\n        buttonElement.className = `jw-icon jw-icon-inline jw-button-color jw-reset ${btnClass}`;\r\n        buttonElement.setAttribute('button', id);\r\n        buttonElement.setAttribute('role', 'button');\r\n        buttonElement.setAttribute('tabindex', '0');\r\n        if (ariaText) {\r\n            buttonElement.setAttribute('aria-label', ariaText);\r\n        }\r\n\r\n        let iconElement;\r\n        if (img && img.substring(0, 4) === '<svg') {\r\n            iconElement = svgParse(img);\r\n        } else {\r\n            iconElement = document.createElement('div');\r\n            iconElement.className = 'jw-icon jw-button-image jw-button-color jw-reset';\r\n            if (img) {\r\n                style(iconElement, {\r\n                    backgroundImage: `url(${img})`\r\n                });\r\n            }\r\n        }\r\n\r\n        buttonElement.appendChild(iconElement);\r\n\r\n        new UI(buttonElement).on('click tap enter', callback, this);\r\n\r\n        // Prevent button from being focused on mousedown so that the tooltips don't remain visible until\r\n        // the user interacts with another element on the page\r\n        buttonElement.addEventListener('mousedown', (e) => {\r\n            e.preventDefault();\r\n        });\r\n\r\n        this.id = id;\r\n        this.buttonElement = buttonElement;\r\n    }\r\n\r\n    element() {\r\n        return this.buttonElement;\r\n    }\r\n\r\n    toggle(show) {\r\n        if (show) {\r\n            this.show();\r\n        } else {\r\n            this.hide();\r\n        }\r\n    }\r\n\r\n    show() {\r\n        this.buttonElement.style.display = '';\r\n    }\r\n    hide() {\r\n        this.buttonElement.style.display = 'none';\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/components/custom-button.js","import { dvrSeekLimit } from 'view/constants';\r\nimport _ from 'utils/underscore';\r\nimport utils from 'utils/helpers';\r\nimport UI from 'utils/ui';\r\nimport Slider from 'view/controls/components/slider';\r\nimport Tooltip from 'view/controls/components/tooltip';\r\nimport ChaptersMixin from 'view/controls/components/chapters.mixin';\r\nimport ThumbnailsMixin from 'view/controls/components/thumbnails.mixin';\r\n\r\nclass TimeTip extends Tooltip {\r\n\r\n    setup() {\r\n        this.text = document.createElement('span');\r\n        this.text.className = 'jw-text jw-reset';\r\n        this.img = document.createElement('div');\r\n        this.img.className = 'jw-time-thumb jw-reset';\r\n        this.containerWidth = 0;\r\n        this.textLength = 0;\r\n        this.dragJustReleased = false;\r\n\r\n        var wrapper = document.createElement('div');\r\n        wrapper.className = 'jw-time-tip jw-reset';\r\n        wrapper.appendChild(this.img);\r\n        wrapper.appendChild(this.text);\r\n\r\n        this.addContent(wrapper);\r\n    }\r\n\r\n    image(style) {\r\n        utils.style(this.img, style);\r\n    }\r\n\r\n    update(txt) {\r\n        this.text.textContent = txt;\r\n    }\r\n\r\n    getWidth () {\r\n        if (!this.containerWidth) {\r\n            this.setWidth();\r\n        }\r\n\r\n        return this.containerWidth;\r\n    }\r\n\r\n    setWidth (width) {\r\n        const tolerance = 16; // add a little padding so the tooltip isn't flush against the edge\r\n\r\n        if (width) {\r\n            this.containerWidth = width + tolerance;\r\n            return;\r\n        }\r\n\r\n        if (!this.container) {\r\n            return;\r\n        }\r\n\r\n        this.containerWidth = utils.bounds(this.container).width + tolerance;\r\n    }\r\n\r\n    resetWidth () {\r\n        this.containerWidth = 0;\r\n    }\r\n}\r\n\r\nfunction reasonInteraction() {\r\n    return { reason: 'interaction' };\r\n}\r\n\r\nclass TimeSlider extends Slider {\r\n    constructor(_model, _api) {\r\n        super('jw-slider-time', 'horizontal');\r\n\r\n        this._model = _model;\r\n        this._api = _api;\r\n\r\n        this.timeTip = new TimeTip('jw-tooltip-time', null, true);\r\n        this.timeTip.setup();\r\n\r\n        this.cues = [];\r\n\r\n        // Store the attempted seek, until the previous one completes\r\n        this.seekThrottled = _.throttle(this.performSeek, 400);\r\n        this.mobileHoverDistance = 5;\r\n\r\n        this.setup();\r\n    }\r\n\r\n    // These overwrite Slider methods\r\n    setup() {\r\n        super.setup.apply(this, arguments);\r\n\r\n        this._model\r\n            .on('duration', this.onDuration, this)\r\n            .change('playlistItem', this.onPlaylistItem, this)\r\n            .change('position', this.onPosition, this)\r\n            .change('buffer', this.onBuffer, this)\r\n            .change('streamType', this.onStreamType, this);\r\n\r\n        this.elementRail.appendChild(this.timeTip.element());\r\n\r\n        // Show the tooltip on while dragging (touch) moving(mouse), or moving over(mouse)\r\n        this.elementUI = new UI(this.el, { useHover: true, useMove: true })\r\n            .on('drag move over', this.showTimeTooltip.bind(this), this)\r\n            .on('dragEnd out', this.hideTimeTooltip.bind(this), this);\r\n    }\r\n\r\n    limit(percent) {\r\n        if (this.activeCue && _.isNumber(this.activeCue.pct)) {\r\n            return this.activeCue.pct;\r\n        }\r\n        var duration = this._model.get('duration');\r\n        if (this.streamType === 'DVR') {\r\n            var position = (1 - (percent / 100)) * duration;\r\n            var currentPosition = this._model.get('position');\r\n            var updatedPosition = Math.min(position, Math.max(dvrSeekLimit, currentPosition));\r\n            var updatedPercent = updatedPosition * 100 / duration;\r\n            return 100 - updatedPercent;\r\n        }\r\n        return percent;\r\n    }\r\n\r\n    update(percent) {\r\n        this.seekTo = percent;\r\n        this.seekThrottled();\r\n        super.update.apply(this, arguments);\r\n    }\r\n\r\n    dragStart() {\r\n        this._model.set('scrubbing', true);\r\n        super.dragStart.apply(this, arguments);\r\n    }\r\n\r\n    dragEnd() {\r\n        super.dragEnd.apply(this, arguments);\r\n        this._model.set('scrubbing', false);\r\n        this.dragJustReleased = true;\r\n    }\r\n\r\n    // Event Listeners\r\n    onSeeked () {\r\n        // When we are done scrubbing there will be a final seeked event\r\n        if (this._model.get('scrubbing')) {\r\n            this.performSeek();\r\n        }\r\n    }\r\n\r\n    onBuffer(model, pct) {\r\n        this.updateBuffer(pct);\r\n    }\r\n\r\n    onPosition(model, position) {\r\n        if (this.dragJustReleased) {\r\n            // prevents firing an outdated position and causing the timeslider to jump back and forth\r\n            this.dragJustReleased = false;\r\n            return;\r\n        }\r\n        this.updateTime(position, model.get('duration'));\r\n    }\r\n\r\n    onDuration(model, duration) {\r\n        this.updateTime(model.get('position'), duration);\r\n    }\r\n\r\n    onStreamType(model, streamType) {\r\n        this.streamType = streamType;\r\n    }\r\n\r\n    updateTime(position, duration) {\r\n        var pct = 0;\r\n        if (duration) {\r\n            if (this.streamType === 'DVR') {\r\n                pct = (duration - position) / duration * 100;\r\n            } else if (this.streamType === 'VOD' || !this.streamType) {\r\n                // Default to VOD behavior if streamType isn't set\r\n                pct = position / duration * 100;\r\n            }\r\n        }\r\n        this.render(pct);\r\n    }\r\n\r\n    onPlaylistItem(model, playlistItem) {\r\n        if (!playlistItem) {\r\n            return;\r\n        }\r\n        this.reset();\r\n\r\n        model.mediaModel.on('seeked', this.onSeeked, this);\r\n\r\n        var tracks = playlistItem.tracks;\r\n        _.each(tracks, function (track) {\r\n            if (track && track.kind && track.kind.toLowerCase() === 'thumbnails') {\r\n                this.loadThumbnails(track.file);\r\n            } else if (track && track.kind && track.kind.toLowerCase() === 'chapters') {\r\n                this.loadChapters(track.file);\r\n            }\r\n        }, this);\r\n    }\r\n\r\n    performSeek() {\r\n        var percent = this.seekTo;\r\n        var duration = this._model.get('duration');\r\n        var position;\r\n        if (duration === 0) {\r\n            this._api.play(reasonInteraction());\r\n        } else if (this.streamType === 'DVR') {\r\n            position = (100 - percent) / 100 * duration;\r\n            this._api.seek(position, reasonInteraction());\r\n        } else {\r\n            position = percent / 100 * duration;\r\n            this._api.seek(Math.min(position, duration - 0.25), reasonInteraction());\r\n        }\r\n    }\r\n\r\n    showTimeTooltip(evt) {\r\n        var duration = this._model.get('duration');\r\n        if (duration === 0) {\r\n            return;\r\n        }\r\n\r\n        var playerWidth = this._model.get('containerWidth');\r\n        var railBounds = utils.bounds(this.elementRail);\r\n        var position = (evt.pageX ? (evt.pageX - railBounds.left) : evt.x);\r\n        position = utils.between(position, 0, railBounds.width);\r\n        var pct = position / railBounds.width;\r\n        var time = duration * pct;\r\n\r\n        // For DVR we need to swap it around\r\n        if (duration < 0) {\r\n            time = duration - time;\r\n        }\r\n\r\n        var timetipText;\r\n\r\n        // With touch events, we never will get the hover events on the cues that cause cues to be active.\r\n        // Therefore use the info we about the scroll position to detect if there is a nearby cue to be active.\r\n        if (UI.getPointerType(evt.sourceEvent) === 'touch') {\r\n            this.activeCue = _.reduce(this.cues, function(closeCue, cue) {\r\n                if (Math.abs(position - (parseInt(cue.pct) / 100 * railBounds.width)) < this.mobileHoverDistance) {\r\n                    return cue;\r\n                }\r\n                return closeCue;\r\n            }.bind(this), undefined);\r\n        }\r\n\r\n        if (this.activeCue) {\r\n            timetipText = this.activeCue.text;\r\n        } else {\r\n            var allowNegativeTime = true;\r\n            timetipText = utils.timeFormat(time, allowNegativeTime);\r\n\r\n            // If DVR and within live buffer\r\n            if (duration < 0 && time > dvrSeekLimit) {\r\n                timetipText = 'Live';\r\n            }\r\n        }\r\n        var timeTip = this.timeTip;\r\n\r\n        timeTip.update(timetipText);\r\n        if (this.textLength !== timetipText.length) {\r\n            // An activeCue may cause the width of the timeTip container to change\r\n            this.textLength = timetipText.length;\r\n            timeTip.resetWidth();\r\n        }\r\n        this.showThumbnail(time);\r\n\r\n        utils.addClass(timeTip.el, 'jw-open');\r\n\r\n        var timeTipWidth = timeTip.getWidth();\r\n        var widthPct = railBounds.width / 100;\r\n        var tolerance = playerWidth - railBounds.width;\r\n        var timeTipPct = 0;\r\n        if (timeTipWidth > tolerance) {\r\n            // timeTip may go outside the bounds of the player. Determine the % of tolerance needed\r\n            timeTipPct = (timeTipWidth - tolerance) / (2 * 100 * widthPct);\r\n        }\r\n        var safePct = Math.min(1 - timeTipPct, Math.max(timeTipPct, pct)).toFixed(3) * 100;\r\n        utils.style(timeTip.el, { left: safePct + '%' });\r\n    }\r\n\r\n    hideTimeTooltip() {\r\n        utils.removeClass(this.timeTip.el, 'jw-open');\r\n    }\r\n\r\n    reset() {\r\n        this.resetChapters();\r\n        this.resetThumbnails();\r\n        this.timeTip.resetWidth();\r\n        this.textLength = 0;\r\n    }\r\n}\r\n\r\nObject.assign(TimeSlider.prototype, ChaptersMixin, ThumbnailsMixin);\r\n\r\nexport default TimeSlider;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/components/timeslider.js","export default (className = '', orientation = '') => {\r\n    return (\r\n        `<div class=\"${className} ${orientation} jw-reset\" aria-hidden=\"true\">` +\r\n            `<div class=\"jw-slider-container jw-reset\">` +\r\n                `<div class=\"jw-rail jw-reset\"></div>` +\r\n                `<div class=\"jw-buffer jw-reset\"></div>` +\r\n                `<div class=\"jw-progress jw-reset\"></div>` +\r\n                `<div class=\"jw-knob jw-reset\"></div>` +\r\n            `</div>` +\r\n        `</div>`\r\n    );\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/templates/slider.js","import _ from 'utils/underscore';\r\nimport utils from 'utils/helpers';\r\nimport srt from 'parsers/captions/srt';\r\n\r\nclass Cue {\r\n    constructor (time, text) {\r\n        this.time = time;\r\n        this.text = text;\r\n        this.el = document.createElement('div');\r\n        this.el.className = 'jw-cue jw-reset';\r\n    }\r\n\r\n    align(duration) {\r\n        // If a percentage, use it, else calculate the percentage\r\n        if (this.time.toString().slice(-1) === '%') {\r\n            this.pct = this.time;\r\n        } else {\r\n            const percentage = (this.time / duration) * 100;\r\n            this.pct = percentage + '%';\r\n        }\r\n\r\n        this.el.style.left = this.pct;\r\n    }\r\n}\r\n\r\nconst ChaptersMixin = {\r\n\r\n    loadChapters: function (file) {\r\n        utils.ajax(file, this.chaptersLoaded.bind(this), this.chaptersFailed, {\r\n            plainText: true\r\n        });\r\n    },\r\n\r\n    chaptersLoaded: function (evt) {\r\n        const data = srt(evt.responseText);\r\n        if (_.isArray(data)) {\r\n            _.each(data, this.addCue, this);\r\n            this.drawCues();\r\n        }\r\n    },\r\n\r\n    chaptersFailed: function () {},\r\n\r\n    addCue: function (obj) {\r\n        this.cues.push(new Cue(obj.begin, obj.text));\r\n    },\r\n\r\n    drawCues: function () {\r\n        // We won't want to draw them until we have a duration\r\n        const duration = this._model.get('duration');\r\n        if (!duration || duration <= 0) {\r\n            this._model.once('change:duration', this.drawCues, this);\r\n            return;\r\n        }\r\n\r\n        _.each(this.cues, (cue) => {\r\n            cue.align(duration);\r\n            cue.el.addEventListener('mouseover', () => {\r\n                this.activeCue = cue;\r\n            });\r\n            cue.el.addEventListener('mouseout', () => {\r\n                this.activeCue = null;\r\n            });\r\n            this.elementRail.appendChild(cue.el);\r\n        });\r\n    },\r\n\r\n    resetChapters: function() {\r\n        _.each(this.cues, (cue) => {\r\n            if (cue.el.parentNode) {\r\n                cue.el.parentNode.removeChild(cue.el);\r\n            }\r\n        });\r\n        this.cues = [];\r\n    }\r\n};\r\n\r\nexport default ChaptersMixin;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/components/chapters.mixin.js","import _ from 'utils/underscore';\r\nimport utils from 'utils/helpers';\r\nimport srt from 'parsers/captions/srt';\r\n\r\nfunction Thumbnail(obj) {\r\n    this.begin = obj.begin;\r\n    this.end = obj.end;\r\n    this.img = obj.text;\r\n}\r\n\r\nconst ThumbnailsMixin = {\r\n    loadThumbnails: function (file) {\r\n        if (!file) {\r\n            return;\r\n        }\r\n        this.vttPath = file.split('?')[0].split('/').slice(0, -1).join('/');\r\n        // Only load the first individual image file so we can get its dimensions. All others are loaded when\r\n        // they're set as background-images.\r\n        this.individualImage = null;\r\n        utils.ajax(file, this.thumbnailsLoaded.bind(this), this.thumbnailsFailed.bind(this), {\r\n            plainText: true\r\n        });\r\n    },\r\n\r\n    thumbnailsLoaded: function (evt) {\r\n        var data = srt(evt.responseText);\r\n        if (_.isArray(data)) {\r\n            _.each(data, function(obj) {\r\n                this.thumbnails.push(new Thumbnail(obj));\r\n            }, this);\r\n            this.drawCues();\r\n        }\r\n    },\r\n\r\n    thumbnailsFailed: function () { },\r\n\r\n    chooseThumbnail: function(seconds) {\r\n        var idx = _.sortedIndex(this.thumbnails, { end: seconds }, _.property('end'));\r\n        if (idx >= this.thumbnails.length) {\r\n            idx = this.thumbnails.length - 1;\r\n        }\r\n        var url = this.thumbnails[idx].img;\r\n        if (url.indexOf('://') < 0) {\r\n            url = this.vttPath ? this.vttPath + '/' + url : url;\r\n        }\r\n\r\n        return url;\r\n    },\r\n\r\n    loadThumbnail: function(seconds) {\r\n        var url = this.chooseThumbnail(seconds);\r\n        var style = {\r\n            margin: '0 auto',\r\n            backgroundPosition: '0 0'\r\n        };\r\n\r\n        var hashIndex = url.indexOf('#xywh');\r\n        if (hashIndex > 0) {\r\n            try {\r\n                var matched = (/(.+)#xywh=(\\d+),(\\d+),(\\d+),(\\d+)/).exec(url);\r\n                url = matched[1];\r\n                style.backgroundPosition = (matched[2] * -1) + 'px ' + (matched[3] * -1) + 'px';\r\n                style.width = matched[4];\r\n                this.timeTip.setWidth(+style.width);\r\n                style.height = matched[5];\r\n            } catch (e) {\r\n                // this.vttFailed('Could not parse thumbnail');\r\n                return;\r\n            }\r\n        } else if (!this.individualImage) {\r\n            this.individualImage = new Image();\r\n            this.individualImage.onload = _.bind(function () {\r\n                this.individualImage.onload = null;\r\n                this.timeTip.image({ width: this.individualImage.width, height: this.individualImage.height });\r\n                this.timeTip.setWidth(this.individualImage.width);\r\n            }, this);\r\n            this.individualImage.src = url;\r\n        }\r\n\r\n        style.backgroundImage = 'url(\"' + url + '\")';\r\n\r\n        return style;\r\n    },\r\n\r\n    showThumbnail: function(seconds) {\r\n        // Don't attempt to set thumbnail for small players or when a thumbnail doesn't exist\r\n        if (this._model.get('containerWidth') <= 420 || this.thumbnails.length < 1) {\r\n            return;\r\n        }\r\n        this.timeTip.image(this.loadThumbnail(seconds));\r\n    },\r\n\r\n    resetThumbnails: function() {\r\n        this.timeTip.image({\r\n            backgroundImage: '',\r\n            width: 0,\r\n            height: 0\r\n        });\r\n        this.thumbnails = [];\r\n    }\r\n};\r\n\r\nexport default ThumbnailsMixin;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/components/thumbnails.mixin.js","import Tooltip from 'view/controls/components/tooltip';\r\nimport Slider from 'view/controls/components/slider';\r\nimport UI from 'utils/ui';\r\n\r\nexport default class VolumeTooltip extends Tooltip {\r\n    constructor(_model, name, ariaText, svgIcons) {\r\n        super(name, ariaText, true, svgIcons);\r\n\r\n        this._model = _model;\r\n        this.volumeSlider = new Slider('jw-slider-volume jw-volume-tip', 'vertical');\r\n        this.volumeSlider.setup();\r\n        this.volumeSlider.element().classList.remove('jw-background-color');\r\n\r\n        this.addContent(this.volumeSlider.element());\r\n\r\n        this.volumeSlider.on('update', function (evt) {\r\n            this.trigger('update', evt);\r\n        }, this);\r\n\r\n        new UI(this.el, { useHover: true, directSelect: true, useFocus: true })\r\n            .on('click enter', this.toggleValue, this)\r\n            .on('tap', this.toggleOpenState, this)\r\n            .on('over', this.openTooltip, this)\r\n            .on('out', this.closeTooltip, this);\r\n\r\n        this._model.on('change:volume', this.onVolume, this);\r\n    }\r\n\r\n    toggleValue() {\r\n        this.trigger('toggleValue');\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/components/volumetooltip.js","import displayContainerTemplate from 'view/controls/templates/display-container';\r\nimport RewindDisplayIcon from 'view/controls/rewind-display-icon';\r\nimport PlayDisplayIcon from 'view/controls/play-display-icon';\r\nimport NextDisplayIcon from 'view/controls/next-display-icon';\r\nimport { cloneIcons } from 'view/controls/icons';\r\nimport utils from 'utils/helpers';\r\n\r\nexport default class DisplayContainer {\r\n    constructor(model, api) {\r\n        this.el = utils.createElement(displayContainerTemplate(model.get('localization')));\r\n\r\n        const container = this.el.querySelector('.jw-display-controls');\r\n        const buttons = {};\r\n\r\n        addButton('rewind', cloneIcons('rewind'), RewindDisplayIcon, container, buttons, model, api);\r\n        addButton('display', cloneIcons('play,pause,buffer,replay'), PlayDisplayIcon, container, buttons, model, api);\r\n        addButton('next', cloneIcons('next'), NextDisplayIcon, container, buttons, model, api);\r\n\r\n        this.container = container;\r\n        this.buttons = buttons;\r\n    }\r\n\r\n    element() {\r\n        return this.el;\r\n    }\r\n}\r\n\r\nfunction addButton(name, iconElements, ButtonClass, container, buttons, model, api) {\r\n    const buttonElement = container.querySelector(`.jw-display-icon-${name}`);\r\n    const iconContainer = container.querySelector(`.jw-icon-${name}`);\r\n    iconElements.forEach(icon => {\r\n        iconContainer.appendChild(icon); \r\n    });\r\n    buttons[name] = new ButtonClass(model, api, buttonElement);\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/display-container.js","import displayIconTemplate from 'view/controls/templates/display-icon';\r\n\r\nexport default (localization) => {\r\n    return (\r\n        `<div class=\"jw-display jw-reset\">` +\r\n            `<div class=\"jw-display-container jw-reset\">` +\r\n                `<div class=\"jw-display-controls jw-reset\">` +\r\n                    displayIconTemplate('rewind', localization.rewind) +\r\n                    displayIconTemplate('display', localization.playback) +\r\n                    displayIconTemplate('next', localization.next) +\r\n                `</div>` +\r\n            `</div>` +\r\n        `</div>`\r\n    );\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/templates/display-container.js","export default (iconName = '', ariaLabel = '') => {\r\n    return (\r\n        `<div class=\"jw-display-icon-container jw-display-icon-${iconName} jw-reset\">` +\r\n            `<div class=\"jw-icon jw-icon-${iconName} jw-button-color jw-reset\" role=\"button\" tabindex=\"0\" aria-label=\"${ariaLabel}\"></div>` +\r\n        `</div>`\r\n    );\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/templates/display-icon.js","import UI from 'utils/ui';\r\n\r\nexport default class RewindDisplayIcon {\r\n    constructor(model, api, element) {\r\n        this.el = element;\r\n\r\n        new UI(this.el).on('click tap enter', function() {\r\n            const currentPosition = model.get('position');\r\n            const duration = model.get('duration');\r\n            const rewindPosition = currentPosition - 10;\r\n            let startPosition = 0;\r\n\r\n            // duration is negative in DVR mode\r\n            if (model.get('streamType') === 'DVR') {\r\n                startPosition = duration;\r\n            }\r\n            // Seek 10s back. Seek value should be >= 0 in VOD mode and >= (negative) duration in DVR mode\r\n            api.seek(Math.max(rewindPosition, startPosition));\r\n        });\r\n    }\r\n\r\n    element() {\r\n        return this.el;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/rewind-display-icon.js","import Events from 'utils/backbone.events';\r\nimport UI from 'utils/ui';\r\n\r\nexport default class PlayDisplayIcon {\r\n    constructor(_model, api, element) {\r\n        Object.assign(this, Events);\r\n\r\n        const localization = _model.get('localization');\r\n        const iconDisplay = element.getElementsByClassName('jw-icon-display')[0];\r\n        element.style.cursor = 'pointer';\r\n        this.icon = iconDisplay;\r\n        this.el = element;\r\n\r\n        new UI(this.el).on('click tap enter', (evt) => {\r\n            this.trigger(evt.type);\r\n        });\r\n\r\n        _model.on('change:state', (model, newstate) => {\r\n            let newstateLabel;\r\n            switch (newstate) {\r\n                case 'buffering':\r\n                    newstateLabel = localization.buffer;\r\n                    break;\r\n                case 'playing':\r\n                    newstateLabel = localization.pause;\r\n                    break;\r\n                case 'paused':\r\n                    newstateLabel = localization.playback;\r\n                    break;\r\n                case 'complete':\r\n                    newstateLabel = localization.replay;\r\n                    break;\r\n                default:\r\n                    newstateLabel = '';\r\n                    break;\r\n            }\r\n            if (newstateLabel === '') {\r\n                iconDisplay.removeAttribute('aria-label');\r\n            } else {\r\n                iconDisplay.setAttribute('aria-label', newstateLabel);\r\n            }\r\n        });\r\n    }\r\n\r\n    element() {\r\n        return this.el;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/play-display-icon.js","import UI from 'utils/ui';\r\n\r\nexport default class NextDisplayIcon {\r\n    constructor(model, api, element) {\r\n\r\n        new UI(element).on('click tap enter', function() {\r\n            api.next();\r\n        });\r\n\r\n        model.change('nextUp', function(nextUpChangeModel, nextUp) {\r\n            element.style.visibility = nextUp ? '' : 'hidden';\r\n        });\r\n\r\n        this.el = element;\r\n    }\r\n\r\n    element() {\r\n        return this.el;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/next-display-icon.js","import nextUpTemplate from 'view/controls/templates/nextup';\r\nimport { toggleClass } from 'utils/dom';\r\nimport UI from 'utils/ui';\r\nimport Events from 'utils/backbone.events';\r\nimport utils from 'utils/helpers';\r\nimport { cloneIcon } from 'view/controls/icons';\r\n\r\nexport default class NextUpTooltip {\r\n    constructor(_model, _api, playerElement) {\r\n        Object.assign(this, Events);\r\n        this._model = _model;\r\n        this._api = _api;\r\n        this._playerElement = playerElement;\r\n        this.nextUpText = _model.get('localization').nextUp;\r\n        this.nextUpClose = _model.get('localization').nextUpClose;\r\n        this.state = 'tooltip';\r\n        this.enabled = false;\r\n        this.shown = false;\r\n        this.reset();\r\n    }\r\n\r\n    setup(context) {\r\n        this.container = context.createElement('div');\r\n        this.container.className = 'jw-nextup-container jw-reset';\r\n        const element = utils.createElement(nextUpTemplate());\r\n        element.querySelector('.jw-nextup-close').appendChild(cloneIcon('close'));\r\n        this.addContent(element);\r\n\r\n        this.closeButton = this.content.querySelector('.jw-nextup-close');\r\n        this.closeButton.setAttribute('aria-label', this.nextUpClose);\r\n        this.tooltip = this.content.querySelector('.jw-nextup-tooltip');\r\n\r\n        const model = this._model;\r\n        // Next Up is hidden until we get a valid NextUp item from the nextUp event\r\n        this.enabled = false;\r\n\r\n        // Events\r\n        model.on('change:nextUp', this.onNextUp, this);\r\n\r\n        // Listen for duration changes to determine the offset from the end for when next up should be shown\r\n        model.change('duration', this.onDuration, this);\r\n        // Listen for position changes so we can show the tooltip when the offset has been crossed\r\n        model.change('position', this.onElapsed, this);\r\n\r\n        model.change('streamType', this.onStreamType, this);\r\n        model.change('mediaModel', this.onMediaModel, this);\r\n\r\n        // Close button\r\n        new UI(this.closeButton, { directSelect: true })\r\n            .on('click tap enter', function() {\r\n                this.nextUpSticky = false;\r\n                this.toggle(false);\r\n            }, this);\r\n        // Tooltip\r\n        new UI(this.tooltip)\r\n            .on('click tap', this.click, this);\r\n    }\r\n\r\n    loadThumbnail(url) {\r\n        this.nextUpImage = new Image();\r\n        this.nextUpImage.onload = (function() {\r\n            this.nextUpImage.onload = null;\r\n        }).bind(this);\r\n        this.nextUpImage.src = url;\r\n\r\n        return {\r\n            backgroundImage: 'url(\"' + url + '\")'\r\n        };\r\n    }\r\n\r\n    click() {\r\n        this.reset();\r\n        this._api.next();\r\n    }\r\n\r\n    toggle(show, reason) {\r\n        if (!this.enabled) {\r\n            return;\r\n        }\r\n        toggleClass(this.container, 'jw-nextup-sticky', !!this.nextUpSticky);\r\n        if (this.shown !== show) {\r\n            this.shown = show;\r\n            toggleClass(this.container, 'jw-nextup-container-visible', show);\r\n            toggleClass(this._playerElement, 'jw-flag-nextup', show);\r\n            const nextUp = this._model.get('nextUp');\r\n            if (show && nextUp) {\r\n                this.trigger('nextShown', {\r\n                    mode: nextUp.mode,\r\n                    ui: 'nextup',\r\n                    itemsShown: [ nextUp ],\r\n                    feedData: nextUp.feedData,\r\n                    reason: reason,\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    setNextUpItem(nextUpItem) {\r\n        // Give the previous item time to complete its animation\r\n        setTimeout(() => {\r\n            // Set thumbnail\r\n            this.thumbnail = this.content.querySelector('.jw-nextup-thumbnail');\r\n            toggleClass(this.content, 'jw-nextup-thumbnail-visible', !!nextUpItem.image);\r\n            if (nextUpItem.image) {\r\n                const thumbnailStyle = this.loadThumbnail(nextUpItem.image);\r\n                utils.style(this.thumbnail, thumbnailStyle);\r\n            }\r\n\r\n            // Set header\r\n            this.header = this.content.querySelector('.jw-nextup-header');\r\n            this.header.innerText = this.nextUpText;\r\n\r\n            // Set title\r\n            this.title = this.content.querySelector('.jw-nextup-title');\r\n            const title = nextUpItem.title;\r\n            this.title.innerText = title ? utils.createElement(title).textContent : '';\r\n\r\n            // Set duration\r\n            if (nextUpItem.duration) {\r\n                this.duration = this.content.querySelector('.jw-nextup-duration');\r\n                const duration = nextUpItem.duration;\r\n                this.duration.innerText = duration ? utils.createElement(duration).textContent : '';\r\n            }\r\n\r\n        }, 500);\r\n    }\r\n\r\n    onNextUp(model, nextUp) {\r\n        this.reset();\r\n        if (!nextUp) {\r\n            return;\r\n        }\r\n\r\n        this.enabled = !!(nextUp.title || nextUp.image);\r\n\r\n        if (this.enabled) {\r\n            if (!nextUp.showNextUp) {\r\n                // The related plugin will countdown the nextUp item\r\n                this.nextUpSticky = false;\r\n                this.toggle(false);\r\n            }\r\n            this.setNextUpItem(nextUp);\r\n        }\r\n    }\r\n\r\n    onDuration(model, duration) {\r\n        if (!duration) {\r\n            return;\r\n        }\r\n\r\n        // Use nextupoffset if set or default to 10 seconds from the end of playback\r\n        let offset = utils.seconds(model.get('nextupoffset') || -10);\r\n        if (offset < 0) {\r\n            // Determine offset from the end. Duration may change.\r\n            offset += duration;\r\n        }\r\n\r\n        this.offset = offset;\r\n    }\r\n\r\n    onMediaModel(model, mediaModel) {\r\n        mediaModel.change('state', function(stateChangeMediaModel, state) {\r\n            if (state === 'complete') {\r\n                this.toggle(false);\r\n            }\r\n        }, this);\r\n    }\r\n\r\n    onElapsed(model, val) {\r\n        const nextUpSticky = this.nextUpSticky;\r\n        if (!this.enabled || nextUpSticky === false) {\r\n            return;\r\n        }\r\n        // Show nextup during VOD streams if:\r\n        // - in playlist mode but not playing an ad\r\n        // - autoplaying in related mode and autoplaytimer is set to 0\r\n        const showUntilEnd = val >= this.offset;\r\n        if (showUntilEnd && nextUpSticky === undefined) { // show if nextUpSticky is unset\r\n            this.nextUpSticky = showUntilEnd;\r\n            this.toggle(showUntilEnd, 'time');\r\n        } else if (!showUntilEnd && nextUpSticky) { // reset if there was a backward seek\r\n            this.reset();\r\n        }\r\n    }\r\n\r\n    onStreamType(model, streamType) {\r\n        if (streamType !== 'VOD') {\r\n            this.nextUpSticky = false;\r\n            this.toggle(false);\r\n        }\r\n    }\r\n\r\n    element() {\r\n        return this.container;\r\n    }\r\n\r\n    addContent(elem) {\r\n        if (this.content) {\r\n            this.removeContent();\r\n        }\r\n        this.content = elem;\r\n        this.container.appendChild(elem);\r\n    }\r\n\r\n    removeContent() {\r\n        if (this.content) {\r\n            this.container.removeChild(this.content);\r\n            this.content = null;\r\n        }\r\n    }\r\n\r\n    reset() {\r\n        this.nextUpSticky = undefined;\r\n        this.toggle(false);\r\n    }\r\n\r\n    destroy() {\r\n        this.off();\r\n        this._model.off(null, null, this);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/nextuptooltip.js","export default (header = '', title = '', duration = '', closeAriaLabel = '') => {\r\n    return (\r\n        `<div class=\"jw-nextup jw-background-color jw-reset\">` +\r\n             `<div class=\"jw-nextup-tooltip jw-reset\">` +\r\n                `<div class=\"jw-nextup-thumbnail jw-reset\"></div>` +\r\n                `<div class=\"jw-nextup-body jw-reset\">` +\r\n                    `<div class=\"jw-nextup-header jw-reset\">${header}</div>` +\r\n                    `<div class=\"jw-nextup-title jw-reset\">${title}</div>` +\r\n                    `<div class=\"jw-nextup-duration jw-reset\">${duration}</div>` +\r\n                `</div>` +\r\n            `</div>` +\r\n            `<button type=\"button\" class=\"jw-icon jw-nextup-close jw-reset\" aria-label=\"${closeAriaLabel}\"></button>` +\r\n        `</div>`\r\n    );\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/templates/nextup.js","import rightclickTemplate from 'view/controls/templates/rightclick';\r\nimport { cloneIcon } from 'view/controls/icons';\r\nimport { version } from 'version';\r\nimport { flashVersion } from 'utils/browser';\r\nimport { createElement, emptyElement, addClass, removeClass, bounds } from 'utils/dom';\r\nimport UI from 'utils/ui';\r\n\r\nfunction createDomElement(html) {\r\n    const element = createElement(html);\r\n    const logoContainer = element.querySelector('.jw-rightclick-logo');\r\n    if (logoContainer) {\r\n        logoContainer.appendChild(cloneIcon('jwplayer-logo'));\r\n    }\r\n    return element;\r\n}\r\n\r\nexport default class RightClick {\r\n\r\n    buildArray() {\r\n        var semverParts = version.split('+');\r\n        var majorMinorPatchPre = semverParts[0];\r\n\r\n        var menu = {\r\n            items: [{\r\n                title: 'Powered by <span class=\"jw-reset\">JW Player ' + majorMinorPatchPre + '</span>',\r\n                featured: true,\r\n                showLogo: true,\r\n                link: 'https://jwplayer.com/learn-more'\r\n            }]\r\n        };\r\n\r\n        var provider = this.model.get('provider');\r\n        if (provider && provider.name.indexOf('flash') >= 0) {\r\n            var text = 'Flash Version ' + flashVersion();\r\n            menu.items.push({\r\n                title: text,\r\n                link: 'http://www.adobe.com/software/flash/about/'\r\n            });\r\n        }\r\n\r\n        return menu;\r\n    }\r\n\r\n    rightClick(evt) {\r\n        this.lazySetup();\r\n\r\n        if (this.mouseOverContext) {\r\n            // right click on menu item should execute it\r\n            return false;\r\n        }\r\n\r\n        this.hideMenu();\r\n        this.showMenu(evt);\r\n\r\n        return false;\r\n    }\r\n\r\n    getOffset(evt) {\r\n        var playerBounds = bounds(this.playerElement);\r\n        var x = evt.pageX - playerBounds.left;\r\n        var y = evt.pageY - playerBounds.top;\r\n\r\n        return { x: x, y: y };\r\n    }\r\n\r\n    showMenu(evt) {\r\n        // Offset relative to player element\r\n        var off = this.getOffset(evt);\r\n\r\n        this.el.style.left = off.x + 'px';\r\n        this.el.style.top = off.y + 'px';\r\n\r\n        addClass(this.playerElement, 'jw-flag-rightclick-open');\r\n        addClass(this.el, 'jw-open');\r\n        clearTimeout(this._menuTimeout);\r\n        this._menuTimeout = setTimeout(() => this.hideMenu(), 3000);\r\n        return false;\r\n    }\r\n\r\n    hideMenu() {\r\n        this.elementUI.off('out', this.hideMenu, this);\r\n        if (this.mouseOverContext) {\r\n            // If mouse is over the menu, hide the menu when mouse moves out\r\n            this.elementUI.on('out', this.hideMenu, this);\r\n            return;\r\n        }\r\n        removeClass(this.playerElement, 'jw-flag-rightclick-open');\r\n        removeClass(this.el, 'jw-open');\r\n    }\r\n\r\n    lazySetup() {\r\n        const html = rightclickTemplate(this.buildArray());\r\n        if (this.el) {\r\n            if (this.html !== html) {\r\n                this.html = html;\r\n                const newEl = createDomElement(html);\r\n                emptyElement(this.el);\r\n                for (let i = newEl.childNodes.length; i--;) {\r\n                    this.el.appendChild(newEl.firstChild);\r\n                }\r\n            }\r\n            return;\r\n        }\r\n\r\n        this.html = html;\r\n        this.el = createDomElement(this.html);\r\n\r\n        this.layer.appendChild(this.el);\r\n\r\n        this.hideMenuHandler = this.hideMenu.bind(this);\r\n        this.addOffListener(this.playerElement);\r\n        this.addOffListener(document);\r\n\r\n        // Track if the mouse is above the menu or not\r\n        this.elementUI = new UI(this.el, { useHover: true })\r\n            .on('over', function() {\r\n                this.mouseOverContext = true;\r\n            }, this)\r\n            .on('out', function() {\r\n                this.mouseOverContext = false;\r\n            }, this);\r\n    }\r\n\r\n    setup(_model, _playerElement, layer) {\r\n        this.playerElement = _playerElement;\r\n        this.model = _model;\r\n        this.mouseOverContext = false;\r\n        this.layer = layer;\r\n\r\n        // Defer the rest of setup until the first click\r\n        _playerElement.oncontextmenu = this.rightClick.bind(this);\r\n    }\r\n\r\n    addOffListener(element) {\r\n        element.addEventListener('mousedown', this.hideMenuHandler);\r\n        element.addEventListener('touchstart', this.hideMenuHandler);\r\n        element.addEventListener('pointerdown', this.hideMenuHandler);\r\n    }\r\n\r\n    removeOffListener(element) {\r\n        element.removeEventListener('mousedown', this.hideMenuHandler);\r\n        element.removeEventListener('touchstart', this.hideMenuHandler);\r\n        element.removeEventListener('pointerdown', this.hideMenuHandler);\r\n    }\r\n\r\n    destroy() {\r\n        clearTimeout(this._menuTimeout);\r\n        if (this.el) {\r\n            this.hideMenu();\r\n            this.elementUI.off();\r\n            this.removeOffListener(this.playerElement);\r\n            this.removeOffListener(document);\r\n            this.hideMenuHandler = null;\r\n            this.el = null;\r\n        }\r\n\r\n        if (this.playerElement) {\r\n            this.playerElement.oncontextmenu = null;\r\n            this.playerElement = null;\r\n        }\r\n\r\n        if (this.model) {\r\n            this.model = null;\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/rightclick.js","export default (menu) => {\r\n    const { items = [] } = menu;\r\n    const itemsHtml = items\r\n        .map(item => {\r\n            return rightClickItem(item.link, item.title, item.featured, item.showLogo);\r\n        })\r\n        .join('');\r\n\r\n    return (\r\n        `<div class=\"jw-rightclick jw-reset\">` +\r\n            `<ul class=\"jw-rightclick-list jw-reset\">${itemsHtml}</ul>` +\r\n        `</div>`\r\n    );\r\n};\r\n\r\nconst rightClickItem = (link = '', title = '', featured, showLogo) => {\r\n    const logo = showLogo ? `<span class=\"jw-rightclick-logo jw-reset\"></span>` : '';\r\n    return (\r\n        `<li class=\"jw-reset jw-rightclick-item ${featured ? 'jw-featured' : ''}\">` +\r\n            `<a href=\"${link}\" class=\"jw-rightclick-link jw-reset\" target=\"_blank\">${logo}${title}</a>` +\r\n        `</li>`\r\n    );\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/templates/rightclick.js","import { SettingsMenu } from 'view/controls/components/settings/menu';\r\nimport {\r\n    addCaptionsSubmenu,\r\n    removeCaptionsSubmenu,\r\n    addQualitiesSubmenu,\r\n    removeQualitiesSubmenu,\r\n    addAudioTracksSubmenu,\r\n    removeAudioTracksSubmenu,\r\n    addPlaybackRatesSubmenu,\r\n    removePlaybackRatesSubmenu\r\n} from 'view/utils/submenu-factory';\r\n\r\nexport function createSettingsMenu(controlbar, onVisibility) {\r\n    const settingsButton = controlbar.elements.settingsButton;\r\n    const onSubmenuAdded = () => {\r\n        settingsButton.show();\r\n    };\r\n    const onMenuEmpty = () => {\r\n        settingsButton.hide();\r\n    };\r\n\r\n    const settingsMenu = SettingsMenu(onVisibility, onSubmenuAdded, onMenuEmpty);\r\n\r\n    controlbar.on('settingsInteraction', (submenuName, isDefault, event) => {\r\n        const submenu = settingsMenu.getSubmenu(submenuName);\r\n        if (!submenu && !isDefault) {\r\n            // Do nothing if activating an invalid submenu\r\n            // An invalid submenu is one which does not exist\r\n            // The default submenu may not exist, but this case has defined behavior\r\n            return;\r\n        }\r\n\r\n        if (settingsMenu.visible) {\r\n            if (isDefault || submenu.active) {\r\n                // Close the submenu if clicking the default button (the gear) or if we're already at that submenu\r\n                settingsMenu.close();\r\n            } else {\r\n                // Tab to the newly activated submenu\r\n                settingsMenu.activateSubmenu(submenuName);\r\n            }\r\n        } else {\r\n            if (submenu) {\r\n                // Activate the selected submenu\r\n                settingsMenu.activateSubmenu(submenuName);\r\n            } else {\r\n                // Activate the first submenu if clicking the default button\r\n                settingsMenu.activateFirstSubmenu();\r\n            }\r\n            settingsMenu.open(isDefault, event);\r\n        }\r\n    });\r\n\r\n    return settingsMenu;\r\n}\r\n\r\n\r\nexport function setupSubmenuListeners(settingsMenu, controlbar, model, api) {\r\n    const activateSubmenuItem = (submenuName, itemIndex) => {\r\n        const submenu = settingsMenu.getSubmenu(submenuName);\r\n        if (submenu) {\r\n            submenu.activateItem(itemIndex);\r\n        }\r\n    };\r\n\r\n    const onAudiotracksChanged = (mediaModel, changedModel, audioTracks) => {\r\n        if (!audioTracks || audioTracks.length <= 1) {\r\n            removeAudioTracksSubmenu(settingsMenu);\r\n            return;\r\n        }\r\n\r\n        addAudioTracksSubmenu(\r\n            settingsMenu,\r\n            audioTracks,\r\n            model.getVideo().setCurrentAudioTrack.bind(model.getVideo()),\r\n            mediaModel.get('currentAudioTrack'),\r\n            model.get('localization').audioTracks\r\n        );\r\n    };\r\n\r\n    const onQualitiesChanged = (changedModel, levels) => {\r\n        if (!levels || levels.length <= 1) {\r\n            removeQualitiesSubmenu(settingsMenu);\r\n            return;\r\n        }\r\n\r\n        addQualitiesSubmenu(\r\n            settingsMenu,\r\n            levels,\r\n            model.getVideo().setCurrentQuality.bind(model.getVideo()),\r\n            changedModel.get('currentLevel'),\r\n            model.get('localization').hd\r\n        );\r\n    };\r\n\r\n    const onCaptionsChanged = (changedModel, captionsList) => {\r\n        const controlbarButton = controlbar.elements.captionsButton;\r\n        if (!captionsList || captionsList.length <= 1) {\r\n            removeCaptionsSubmenu(settingsMenu);\r\n            controlbarButton.hide();\r\n            return;\r\n        }\r\n\r\n        addCaptionsSubmenu(settingsMenu,\r\n            captionsList,\r\n            api.setCurrentCaptions.bind(this),\r\n            model.get('captionsIndex'),\r\n            model.get('localization').cc\r\n        );\r\n        controlbar.toggleCaptionsButtonState(!!model.get('captionsIndex'));\r\n        controlbarButton.show();\r\n    };\r\n\r\n    const setupPlaybackRatesMenu = (changedModel, playbackRates) => {\r\n        const provider = model.getVideo();\r\n        const showPlaybackRateControls = \r\n            provider &&\r\n            provider.supportsPlaybackRate && \r\n            model.get('streamType') !== 'LIVE' &&\r\n            model.get('playbackRateControls') &&\r\n            playbackRates.length > 1;\r\n\r\n        if (!showPlaybackRateControls) {\r\n            removePlaybackRatesSubmenu(settingsMenu);\r\n            return;\r\n        }\r\n\r\n        addPlaybackRatesSubmenu(\r\n            settingsMenu,\r\n            playbackRates,\r\n            model.setPlaybackRate.bind(model),\r\n            model.get('playbackRate'),\r\n            model.get('localization').playbackRates\r\n        );\r\n    };\r\n\r\n    model.change('mediaModel', (newModel, mediaModel) => {\r\n        // Quality Levels\r\n        mediaModel.change('levels', onQualitiesChanged, this);\r\n        mediaModel.on('change:currentLevel', (changedModel, currentQuality) => {\r\n            activateSubmenuItem('quality', currentQuality);\r\n        }, this);\r\n\r\n        // Audio Tracks\r\n        mediaModel.change('audioTracks', onAudiotracksChanged.bind(this, mediaModel), this);\r\n        mediaModel.on('change:currentAudioTrack', (changedModel, currentAudioTrack) => {\r\n            activateSubmenuItem('audioTracks', currentAudioTrack);\r\n        }, this);\r\n    }, this);\r\n\r\n    // Captions\r\n    model.change('captionsList', onCaptionsChanged, this);\r\n    model.change('captionsIndex', (changedModel, index) => {\r\n        const captionsSubmenu = settingsMenu.getSubmenu('captions');\r\n        if (captionsSubmenu) {\r\n            captionsSubmenu.activateItem(index);\r\n            controlbar.toggleCaptionsButtonState(!!index);\r\n        }\r\n    }, this);\r\n\r\n    // Playback Rates\r\n    model.change('playbackRates', setupPlaybackRatesMenu, this);\r\n    model.change('playbackRate', (changedModel, playbackRate) => {\r\n        const rates = model.get('playbackRates');\r\n        if (rates) {\r\n            activateSubmenuItem('playbackRates', rates.indexOf(playbackRate));\r\n        }\r\n    }, this);\r\n\r\n    // Remove the audio tracks, qualities, and playback rates submenus when casting\r\n    model.on('change:castActive', (changedModel, active, previousState) => {\r\n        if (active === previousState) {\r\n            return;\r\n        }\r\n\r\n        if (active) {\r\n            removeAudioTracksSubmenu(settingsMenu);\r\n            removeQualitiesSubmenu(settingsMenu);\r\n            removePlaybackRatesSubmenu(settingsMenu);\r\n        } else {\r\n            const mediaModel = model.get('mediaModel');\r\n            onAudiotracksChanged(mediaModel, mediaModel, mediaModel.get('audioTracks'));\r\n            onQualitiesChanged(model, mediaModel.get('levels'));\r\n            setupPlaybackRatesMenu(model, model.get('playbackRates'));\r\n        }\r\n    });\r\n\r\n    model.on('change:streamType', () => {  \r\n        setupPlaybackRatesMenu(model, model.get('playbackRates'));\r\n    });\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/settings-menu.js","import { cloneIcon } from 'view/controls/icons';\r\nimport button from 'view/controls/components/button';\r\nimport SettingsMenuTemplate from 'view/controls/templates/settings/menu';\r\nimport { createElement, emptyElement, prependChild } from 'utils/dom';\r\n\r\nexport function SettingsMenu(onVisibility, onSubmenuAdded, onMenuEmpty) {\r\n    const documentClickHandler = (e) => {\r\n        // Close if anything other than the settings menu has been clicked\r\n        // Let the display (jw-video) handles closing itself (display clicks do not pause if the menu is open)\r\n        // Don't close if the user has dismissed the nextup tooltip via it's close button (the tooltip overlays the menu)\r\n        const targetClass = e.target.className;\r\n        if (!targetClass.match(/jw-(settings|video|nextup-close|sharing-link)/)) {\r\n            instance.close();\r\n        }\r\n    };\r\n\r\n    let visible;\r\n    let active = null;\r\n    const submenus = {};\r\n\r\n    const settingsMenuElement = createElement(SettingsMenuTemplate());\r\n\r\n    const closeOnEnter = function(evt) {\r\n        if (evt && evt.keyCode === 27) {\r\n            instance.close(evt);\r\n            evt.stopPropagation();\r\n        }\r\n    };\r\n    settingsMenuElement.addEventListener('keydown', closeOnEnter);\r\n\r\n    const closeButton = button('jw-settings-close', () => {\r\n        instance.close();\r\n    }, 'Close Settings', [cloneIcon('close')]);\r\n\r\n    const closeOnButton = function(evt) {\r\n        // Close settings menu when enter is pressed on the close button\r\n        // or when tab key is pressed since it is the last element in topbar\r\n        if (evt.keyCode === 13 || (evt.keyCode === 9 && !evt.shiftKey)) {\r\n            instance.close(evt);\r\n        }\r\n    };\r\n    closeButton.show();\r\n    closeButton.element().addEventListener('keydown', closeOnButton);\r\n\r\n    const topbarElement = settingsMenuElement.querySelector('.jw-settings-topbar');\r\n    topbarElement.appendChild(closeButton.element());\r\n\r\n    const instance = {\r\n        open(isDefault, event) {\r\n            visible = true;\r\n            onVisibility(visible, event);\r\n            settingsMenuElement.setAttribute('aria-expanded', 'true');\r\n            addDocumentListeners(documentClickHandler);\r\n\r\n            if (isDefault) {\r\n                if (event && event.type === 'enter') {\r\n                    active.categoryButtonElement.focus();\r\n                }\r\n            } else {\r\n                active.element().firstChild.focus();\r\n            }\r\n\r\n        },\r\n        close(event) {\r\n            visible = false;\r\n            onVisibility(visible, event);\r\n\r\n            active = null;\r\n            deactivateAllSubmenus(submenus);\r\n\r\n            settingsMenuElement.setAttribute('aria-expanded', 'false');\r\n            removeDocumentListeners(documentClickHandler);\r\n        },\r\n        toggle() {\r\n            if (visible) {\r\n                this.close();\r\n            } else {\r\n                this.open();\r\n            }\r\n        },\r\n        addSubmenu(submenu) {\r\n            if (!submenu) {\r\n                return;\r\n            }\r\n            const name = submenu.name;\r\n            submenus[name] = submenu;\r\n\r\n            if (submenu.isDefault) {\r\n                prependChild(topbarElement, submenu.categoryButtonElement);\r\n                submenu.categoryButtonElement.addEventListener('keydown', function(evt) {\r\n                    // close settings menu if you shift-tab on the first category button element\r\n                    if (evt.keyCode === 9 && evt.shiftKey) {\r\n                        instance.close(evt);\r\n                    }\r\n                });\r\n            } else {\r\n                // sharing should always be the last submenu\r\n                const sharingButton = topbarElement.querySelector('.jw-submenu-sharing');\r\n                topbarElement.insertBefore(\r\n                    submenu.categoryButtonElement,\r\n                    sharingButton || closeButton.element()\r\n                );\r\n            }\r\n\r\n            settingsMenuElement.appendChild(submenu.element());\r\n\r\n            onSubmenuAdded();\r\n        },\r\n        getSubmenu(name) {\r\n            return submenus[name];\r\n        },\r\n        removeSubmenu(name) {\r\n            const submenu = submenus[name];\r\n            if (!submenu || submenu.element().parentNode !== settingsMenuElement) {\r\n                return;\r\n            }\r\n            settingsMenuElement.removeChild(submenu.element());\r\n            topbarElement.removeChild(submenu.categoryButtonElement);\r\n            submenu.destroy();\r\n            delete submenus[name];\r\n\r\n            if (!Object.keys(submenus).length) {\r\n                this.close();\r\n                onMenuEmpty();\r\n            }\r\n        },\r\n        activateSubmenu(name) {\r\n            const submenu = submenus[name];\r\n            if (!submenu || submenu.active) {\r\n                return;\r\n            }\r\n\r\n            deactivateAllSubmenus(submenus);\r\n            submenu.activate();\r\n            active = submenu;\r\n\r\n            if (!submenu.isDefault) {\r\n                active.element().firstChild.focus();\r\n            }\r\n        },\r\n        activateFirstSubmenu() {\r\n            const firstSubmenuName = Object.keys(submenus)[0];\r\n            this.activateSubmenu(firstSubmenuName);\r\n        },\r\n        element() {\r\n            return settingsMenuElement;\r\n        },\r\n        destroy() {\r\n            this.close();\r\n            settingsMenuElement.removeEventListener('keydown', closeOnEnter);\r\n            closeButton.element().removeEventListener('keydown', closeOnButton);\r\n            emptyElement(settingsMenuElement);\r\n        }\r\n    };\r\n\r\n    Object.defineProperties(instance, {\r\n        visible: {\r\n            enumerable: true,\r\n            get: () => visible\r\n        },\r\n    });\r\n\r\n    return instance;\r\n}\r\n\r\nconst addDocumentListeners = (handler) => {\r\n    document.addEventListener('mouseup', handler);\r\n    document.addEventListener('pointerup', handler);\r\n    document.addEventListener('touchstart', handler);\r\n};\r\n\r\nconst removeDocumentListeners = (handler) => {\r\n    document.removeEventListener('mouseup', handler);\r\n    document.removeEventListener('pointerup', handler);\r\n    document.removeEventListener('touchstart', handler);\r\n};\r\n\r\nconst deactivateAllSubmenus = (submenus) => {\r\n    Object.keys(submenus).forEach(name => {\r\n        submenus[name].deactivate();\r\n    });\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/components/settings/menu.js","export default () => {\r\n    return (\r\n        `<div class=\"jw-reset jw-settings-menu\" role=\"menu\" aria-expanded=\"false\">` +\r\n            `<div class=\"jw-reset jw-settings-topbar\" role=\"menubar\">` +\r\n            `</div>` +\r\n        `</div>`\r\n    );\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/templates/settings/menu.js","import { cloneIcon } from 'view/controls/icons';\r\nimport SettingsSubmenu from 'view/controls/components/settings/submenu';\r\nimport SettingsContentItem from 'view/controls/components/settings/content-item';\r\nimport button from 'view/controls/components/button';\r\nimport { SimpleTooltip } from 'view/controls/components/simple-tooltip';\r\n\r\nconst AUDIO_TRACKS_SUBMENU = 'audioTracks';\r\nconst CAPTIONS_SUBMENU = 'captions';\r\nconst QUALITIES_SUBMENU = 'quality';\r\nconst PLAYBACK_RATE_SUBMENU = 'playbackRates';\r\nconst DEFAULT_SUBMENU = QUALITIES_SUBMENU;\r\n\r\nexport const makeSubmenu = (settingsMenu, name, contentItems, icon, tooltipText) => {\r\n    let submenu = settingsMenu.getSubmenu(name);\r\n    if (submenu) {\r\n        submenu.replaceContent(contentItems);\r\n    } else {\r\n        const categoryButton = button(`jw-settings-${name}`, () => {\r\n            settingsMenu.activateSubmenu(name);\r\n            submenu.element().children[0].focus();\r\n        }, name, [icon]);\r\n        const categoryButtonElement = categoryButton.element();\r\n        categoryButtonElement.setAttribute('role', 'menuitemradio');\r\n        categoryButtonElement.setAttribute('aria-checked', 'false');\r\n\r\n        // Qualities submenu is the default submenu\r\n        submenu = SettingsSubmenu(name, categoryButton, name === DEFAULT_SUBMENU);\r\n        submenu.addContent(contentItems);\r\n        if (!('ontouchstart' in window)) {\r\n            SimpleTooltip(categoryButtonElement, name, tooltipText);\r\n        }\r\n        settingsMenu.addSubmenu(submenu);\r\n    }\r\n\r\n    return submenu;\r\n};\r\n\r\nexport function addCaptionsSubmenu(settingsMenu, captionsList, action, initialSelectionIndex, tooltipText) {\r\n    const captionsContentItems = captionsList.map((track, index) => {\r\n        const contentItemElement = SettingsContentItem(track.id, track.label, (evt) => {\r\n            action(index);\r\n            settingsMenu.close(evt);\r\n        });\r\n\r\n        return contentItemElement;\r\n    });\r\n\r\n    const captionsSubmenu = makeSubmenu(settingsMenu, CAPTIONS_SUBMENU, captionsContentItems, cloneIcon('cc-off'), tooltipText);\r\n    captionsSubmenu.activateItem(initialSelectionIndex);\r\n}\r\n\r\nexport function removeCaptionsSubmenu(settingsMenu) {\r\n    settingsMenu.removeSubmenu(CAPTIONS_SUBMENU);\r\n}\r\n\r\nexport function addAudioTracksSubmenu(settingsMenu, audioTracksList, action, initialSelectionIndex, tooltipText) {\r\n    const audioTracksItems = audioTracksList.map((track, index) => {\r\n        return SettingsContentItem(track.name, track.name, (evt) => {\r\n            action(index);\r\n            settingsMenu.close(evt);\r\n        });\r\n    });\r\n\r\n    const audioTracksSubmenu = makeSubmenu(settingsMenu, AUDIO_TRACKS_SUBMENU, audioTracksItems,\r\n        cloneIcon('audio-tracks'), tooltipText);\r\n    audioTracksSubmenu.activateItem(initialSelectionIndex);\r\n}\r\n\r\nexport function removeAudioTracksSubmenu(settingsMenu) {\r\n    settingsMenu.removeSubmenu(AUDIO_TRACKS_SUBMENU);\r\n}\r\n\r\nexport function addQualitiesSubmenu(settingsMenu, qualitiesList, action, initialSelectionIndex, tooltipText) {\r\n    const qualitiesItems = qualitiesList.map((track, index) => {\r\n        return SettingsContentItem(track.label, track.label, (evt) => {\r\n            action(index);\r\n            settingsMenu.close(evt);\r\n        });\r\n    });\r\n\r\n    const qualitiesSubmenu = makeSubmenu(settingsMenu, QUALITIES_SUBMENU, qualitiesItems, cloneIcon('quality-100'), tooltipText);\r\n    qualitiesSubmenu.activateItem(initialSelectionIndex);\r\n}\r\n\r\nexport function removeQualitiesSubmenu(settingsMenu) {\r\n    settingsMenu.removeSubmenu(QUALITIES_SUBMENU);\r\n}\r\n\r\nexport function addPlaybackRatesSubmenu(settingsMenu, rateList, action, initialSelectionIndex, tooltipText) {\r\n    const rateItems = rateList.map((playbackRate) => {\r\n        return SettingsContentItem(playbackRate, playbackRate + 'x', (evt) => {\r\n            action(playbackRate);\r\n            settingsMenu.close(evt);\r\n        });\r\n    });\r\n\r\n    const playbackRatesSubmenu = makeSubmenu(settingsMenu, PLAYBACK_RATE_SUBMENU, rateItems, cloneIcon('playback-rate'), tooltipText);\r\n    playbackRatesSubmenu.activateItem(initialSelectionIndex);\r\n}\r\n\r\nexport function removePlaybackRatesSubmenu(settingsMenu) {\r\n    settingsMenu.removeSubmenu(PLAYBACK_RATE_SUBMENU);\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/utils/submenu-factory.js","import SubmenuTemplate from 'view/controls/templates/settings/submenu';\r\nimport { createElement, emptyElement, toggleClass } from 'utils/dom';\r\n\r\nexport default function SettingsSubmenu(name, categoryButton, isDefault) {\r\n\r\n    let active;\r\n    let contentItems = [];\r\n    const submenuElement = createElement(SubmenuTemplate(name));\r\n    const categoryButtonElement = categoryButton.element();\r\n\r\n    categoryButtonElement.setAttribute('name', name);\r\n    categoryButtonElement.className += ' jw-submenu-' + name;\r\n    categoryButton.show();\r\n\r\n    // return focus to topbar element when tabbing after the first or last item\r\n    const onFocus = function(evt) {\r\n        const focus =\r\n            categoryButtonElement &&\r\n            evt.keyCode === 9 && (\r\n                evt.srcElement === contentItems[0].element() && evt.shiftKey ||\r\n                evt.srcElement === contentItems[contentItems.length - 1].element() && !evt.shiftKey\r\n            );\r\n\r\n        if (focus) {\r\n            categoryButtonElement.focus();\r\n        }\r\n    };\r\n\r\n    const instance = {\r\n        addContent(items) {\r\n            if (!items) {\r\n                return;\r\n            }\r\n            items.forEach(item => {\r\n                submenuElement.appendChild(item.element());\r\n            });\r\n\r\n            contentItems = items;\r\n\r\n            contentItems[0].element().addEventListener('keydown', onFocus);\r\n            contentItems[contentItems.length - 1].element().addEventListener('keydown', onFocus);\r\n        },\r\n        replaceContent(items) {\r\n            instance.removeContent();\r\n            this.addContent(items);\r\n        },\r\n        removeContent() {\r\n            contentItems[0].element().removeEventListener('keydown', onFocus);\r\n            contentItems[contentItems.length - 1].element().removeEventListener('keydown', onFocus);\r\n\r\n            emptyElement(submenuElement);\r\n            contentItems = [];\r\n        },\r\n        activate() {\r\n            toggleClass(submenuElement, 'jw-settings-submenu-active', true);\r\n            submenuElement.setAttribute('aria-expanded', 'true');\r\n            categoryButtonElement.setAttribute('aria-checked', 'true');\r\n            active = true;\r\n        },\r\n        deactivate() {\r\n            toggleClass(submenuElement, 'jw-settings-submenu-active', false);\r\n            submenuElement.setAttribute('aria-expanded', 'false');\r\n            categoryButtonElement.setAttribute('aria-checked', 'false');\r\n            active = false;\r\n        },\r\n        activateItem(itemOrdinal = 0) {\r\n            const item = contentItems[itemOrdinal];\r\n            if (!item || item.active) {\r\n                return;\r\n            }\r\n            deactivateAllItems(contentItems);\r\n            item.activate();\r\n        },\r\n        element() {\r\n            return submenuElement;\r\n        },\r\n        destroy() {\r\n            if (!contentItems) {\r\n                return;\r\n            }\r\n            contentItems.forEach(item => {\r\n                item.destroy();\r\n            });\r\n            this.removeContent();\r\n        }\r\n    };\r\n\r\n    Object.defineProperties(instance,\r\n        {\r\n            name: {\r\n                enumerable: true,\r\n                get: () => name\r\n            },\r\n            active: {\r\n                enumerable: true,\r\n                get: () => active\r\n            },\r\n            categoryButtonElement: {\r\n                enumerable: true,\r\n                get: () => categoryButtonElement\r\n            },\r\n            isDefault: {\r\n                enumerable: true,\r\n                get: () => isDefault\r\n            }\r\n        }\r\n    );\r\n\r\n    return instance;\r\n}\r\n\r\nconst deactivateAllItems = (items) => {\r\n    items.forEach(item => {\r\n        item.deactivate();\r\n    });\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/components/settings/submenu.js","export default () => {\r\n    return (\r\n        `<div class=\"jw-reset jw-settings-submenu\" role=\"menu\" aria-expanded=\"false\">` +\r\n        `</div>`\r\n    );\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/templates/settings/submenu.js","import ContentItemTemplate from 'view/controls/templates/settings/content-item';\r\nimport { createElement, toggleClass } from 'utils/dom';\r\nimport UI from 'utils/ui';\r\n\r\nexport default function SettingsContentItem(name, content, action) {\r\n    let active;\r\n    const contentItemElement = createElement(ContentItemTemplate(content));\r\n    const contentItemUI = new UI(contentItemElement);\r\n    contentItemUI.on('click tap enter', (evt) => {\r\n        action(evt);\r\n    });\r\n\r\n    const instance = {\r\n        activate() {\r\n            toggleClass(contentItemElement, 'jw-settings-item-active', true);\r\n            contentItemElement.setAttribute('aria-checked', 'true');\r\n            active = true;\r\n        },\r\n        deactivate() {\r\n            toggleClass(contentItemElement, 'jw-settings-item-active', false);\r\n            contentItemElement.setAttribute('aria-checked', 'false');\r\n            active = false;\r\n        },\r\n        element() {\r\n            return contentItemElement;\r\n        },\r\n        uiElement() {\r\n            return contentItemUI;\r\n        },\r\n        destroy() {\r\n            this.deactivate();\r\n            contentItemUI.destroy();\r\n        }\r\n    };\r\n\r\n    Object.defineProperty(instance, 'active', {\r\n        enumerable: true,\r\n        get: () => active\r\n    });\r\n\r\n    return instance;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/components/settings/content-item.js","export default (content) => {\r\n    return (\r\n        `<button type=\"button\" class=\"jw-reset jw-settings-content-item\" role=\"menuitemradio\" aria-checked=\"false\">` +\r\n            `${content}` +\r\n        `</button>`\r\n    );\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/controls/templates/settings/content-item.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/lib/index.js!../../node_modules/less-loader/dist/cjs.js??ref--0-3!./controls.less\");\nif(typeof content === 'string') content = [['all-players', content, '']];\n// add the styles to the DOM\nrequire(\"!../../node_modules/simple-style-loader/addStyles.js\").style(content,'all-players');\nif(content.locals) module.exports = content.locals;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/css/controls.less\n// module id = 139\n// module chunks = 0 1 2 3 4","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \".jw-overlays,.jw-controls,.jw-controls-backdrop,.jw-settings-submenu{height:100%;width:100%}.jw-settings-menu .jw-icon::after,.jw-icon-settings::after,.jw-icon-volume::after,.jw-settings-menu .jw-icon.jw-button-color::after{position:absolute;right:0}.jw-overlays,.jw-controls,.jw-controls-backdrop{top:0;position:absolute;left:0}.jw-settings-menu .jw-icon::after,.jw-icon-settings::after,.jw-icon-volume::after,.jw-settings-menu .jw-icon.jw-button-color::after{position:absolute;bottom:0;left:0}.jw-nextup-close{position:absolute;top:0;right:0}.jw-overlays,.jw-controls{position:absolute;bottom:0;right:0}.jw-settings-menu .jw-icon::after,.jw-icon-settings::after,.jw-icon-volume::after,.jw-time-tip::after,.jw-settings-menu .jw-icon.jw-button-color::after,.jw-controlbar .jw-tooltip::after,.jw-settings-menu .jw-tooltip::after{content:\\\"\\\";display:block}.jw-svg-icon{height:24px;width:24px;fill:currentColor;pointer-events:none}.jw-icon{height:44px;width:44px;background-color:transparent}.jw-icon-airplay .jw-svg-icon-airplay-off{display:none}.jw-off.jw-icon-airplay .jw-svg-icon-airplay-off{display:block}.jw-icon-airplay .jw-svg-icon-airplay-on{display:block}.jw-off.jw-icon-airplay .jw-svg-icon-airplay-on{display:none}.jw-icon-cc .jw-svg-icon-cc-off{display:none}.jw-off.jw-icon-cc .jw-svg-icon-cc-off{display:block}.jw-icon-cc .jw-svg-icon-cc-on{display:block}.jw-off.jw-icon-cc .jw-svg-icon-cc-on{display:none}.jw-icon-fullscreen .jw-svg-icon-fullscreen-off{display:none}.jw-off.jw-icon-fullscreen .jw-svg-icon-fullscreen-off{display:block}.jw-icon-fullscreen .jw-svg-icon-fullscreen-on{display:block}.jw-off.jw-icon-fullscreen .jw-svg-icon-fullscreen-on{display:none}.jw-icon-volume .jw-svg-icon-volume-0{display:none}.jw-off.jw-icon-volume .jw-svg-icon-volume-0{display:block}.jw-icon-volume .jw-svg-icon-volume-100{display:none}.jw-full.jw-icon-volume .jw-svg-icon-volume-100{display:block}.jw-icon-volume .jw-svg-icon-volume-50{display:block}.jw-off.jw-icon-volume .jw-svg-icon-volume-50,.jw-full.jw-icon-volume .jw-svg-icon-volume-50{display:none}.jw-icon-live .jw-svg-icon-dvr,.jw-icon-live .jw-svg-icon-live{width:44px}.jw-icon-live.jw-dvr-live .jw-svg-icon-dvr{display:none}.jw-settings-menu .jw-icon::after,.jw-icon-settings::after,.jw-icon-volume::after{height:100%;width:24px;box-shadow:inset 0 -3px 0 -1px currentColor;margin:auto;opacity:0;transition:opacity 150ms cubic-bezier(0, -0.25, .25, 1)}.jw-settings-menu .jw-icon[aria-checked=\\\"true\\\"]::after,.jw-settings-open .jw-icon-settings::after,.jw-icon-volume.jw-open::after{opacity:1}.jw-overlays,.jw-controls{pointer-events:none}.jw-controls-backdrop{display:block;background:linear-gradient(to bottom, transparent, rgba(0,0,0,0.4) 77%, rgba(0,0,0,0.4) 100%) 100% 100% / 100% 240px no-repeat transparent;transition:opacity 250ms cubic-bezier(0, -0.25, .25, 1),background-size 250ms cubic-bezier(0, -0.25, .25, 1);pointer-events:none}.jw-overlays{cursor:auto}.jw-controls{overflow:hidden}.jw-flag-small-player .jw-controls{text-align:center}.jw-text{height:1em;font-family:Arial,Helvetica,sans-serif;font-size:.75em;font-style:normal;font-weight:normal;color:#fff;text-align:center;font-variant:normal;font-stretch:normal}.jw-controlbar,.jw-skip,.jw-display-icon-container,.jw-display-icon-container .jw-icon,.jw-nextup-container,.jw-autostart-mute,.jw-overlays .jw-plugin{pointer-events:all}.jwplayer .jw-display-icon-container,.jw-error .jw-display-icon-container{width:auto;height:auto;box-sizing:content-box}.jw-display{display:table;height:100%;padding:57px 0;position:relative;width:100%}.jw-flag-dragging .jw-display{display:none}.jw-state-idle:not(.jw-flag-cast-available) .jw-display{padding:0}.jw-display-container{display:table-cell;height:100%;text-align:center;vertical-align:middle}.jw-display-controls{display:inline-block}.jwplayer .jw-display-icon-container{float:left}.jw-display-icon-container{display:inline-block}.jw-display-icon-container .jw-icon{height:75px;width:75px;cursor:pointer;display:flex;justify-content:center;align-items:center}.jw-display-icon-container .jw-icon .jw-svg-icon{height:33px;width:33px;padding:0;position:relative}.jw-display-icon-container .jw-icon .jw-svg-icon-rewind{padding:.2em .05em}.jw-breakpoint-0 .jw-display-icon-next,.jw-breakpoint-0 .jw-display-icon-rewind{display:none}.jw-breakpoint-0 .jw-display .jw-icon,.jw-breakpoint-0 .jw-display .jw-svg-icon{width:44px;height:44px;line-height:44px}.jw-breakpoint-0 .jw-display .jw-icon:before,.jw-breakpoint-0 .jw-display .jw-svg-icon:before{width:22px;height:22px}.jw-breakpoint-1 .jw-display-icon-container{padding:5.5px;margin:0 22px}.jw-breakpoint-1 .jw-display .jw-icon,.jw-breakpoint-1 .jw-display .jw-svg-icon{width:44px;height:44px;line-height:44px}.jw-breakpoint-1 .jw-display .jw-icon:before,.jw-breakpoint-1 .jw-display .jw-svg-icon:before{width:22px;height:22px}.jw-breakpoint-1 .jw-display .jw-icon.jw-icon-rewind:before{width:33px;height:33px}.jw-breakpoint-2 .jw-display .jw-icon,.jw-breakpoint-3 .jw-display .jw-icon,.jw-breakpoint-2 .jw-display .jw-svg-icon,.jw-breakpoint-3 .jw-display .jw-svg-icon{width:77px;height:77px;line-height:77px}.jw-breakpoint-2 .jw-display .jw-icon:before,.jw-breakpoint-3 .jw-display .jw-icon:before,.jw-breakpoint-2 .jw-display .jw-svg-icon:before,.jw-breakpoint-3 .jw-display .jw-svg-icon:before{width:38.5px;height:38.5px}.jw-breakpoint-4 .jw-display .jw-icon,.jw-breakpoint-5 .jw-display .jw-icon,.jw-breakpoint-6 .jw-display .jw-icon,.jw-breakpoint-7 .jw-display .jw-icon,.jw-breakpoint-4 .jw-display .jw-svg-icon,.jw-breakpoint-5 .jw-display .jw-svg-icon,.jw-breakpoint-6 .jw-display .jw-svg-icon,.jw-breakpoint-7 .jw-display .jw-svg-icon{width:88px;height:88px;line-height:88px}.jw-breakpoint-4 .jw-display .jw-icon:before,.jw-breakpoint-5 .jw-display .jw-icon:before,.jw-breakpoint-6 .jw-display .jw-icon:before,.jw-breakpoint-7 .jw-display .jw-icon:before,.jw-breakpoint-4 .jw-display .jw-svg-icon:before,.jw-breakpoint-5 .jw-display .jw-svg-icon:before,.jw-breakpoint-6 .jw-display .jw-svg-icon:before,.jw-breakpoint-7 .jw-display .jw-svg-icon:before{width:44px;height:44px}.jw-controlbar{display:flex;flex-flow:row wrap;align-items:center;justify-content:center;position:absolute;left:0;bottom:0;width:100%;border:none;border-radius:0;background-size:auto;box-shadow:none;max-height:72px;transition:250ms cubic-bezier(0, -0.25, .25, 1);transition-property:opacity,visibility;transition-delay:0s}.jw-controlbar .jw-button-image{background:no-repeat 50% 50%;background-size:contain;max-height:24px}.jw-controlbar .jw-spacer{flex:1 1 auto;align-self:stretch}.jw-controlbar .jw-icon.jw-button-color:hover{color:#fff}.jw-button-container{display:flex;flex-flow:row nowrap;flex:1 1 auto;align-items:center;justify-content:center;width:100%;padding:0 12px}.jw-slider-horizontal{background-color:transparent}.jw-icon-inline{position:relative}.jw-icon-inline,.jw-icon-tooltip{height:44px;width:44px;align-items:center;display:flex;justify-content:center}.jw-icon-inline:not(.jw-text),.jw-icon-tooltip,.jw-slider-horizontal{cursor:pointer}.jw-text-elapsed,.jw-text-duration{justify-content:flex-start;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.jw-icon-tooltip{position:relative}.jw-knob:hover,.jw-icon-inline:hover,.jw-icon-tooltip:hover,.jw-icon-display:hover,.jw-option:before:hover{color:#fff}.jw-time-tip,.jw-controlbar .jw-tooltip,.jw-settings-menu .jw-tooltip{pointer-events:none}.jw-icon-cast{display:none;margin:0;padding:0}.jw-icon-cast button{background-color:transparent;border:none;padding:0;width:24px;height:24px;cursor:pointer}.jw-icon-inline.jw-icon-volume{display:none}.jwplayer .jw-text-countdown{display:none}.jw-flag-small-player .jw-display{padding-top:44px;padding-bottom:66px}.jw-flag-small-player:not(.jw-flag-audio-player):not(.jw-flag-ads) .jw-controlbar .jw-button-container>.jw-icon-rewind,.jw-flag-small-player:not(.jw-flag-audio-player):not(.jw-flag-ads) .jw-controlbar .jw-button-container>.jw-icon-next,.jw-flag-small-player:not(.jw-flag-audio-player):not(.jw-flag-ads) .jw-controlbar .jw-button-container>.jw-icon-playback{display:none}.jw-flag-ads-vpaid:not(.jw-flag-media-audio):not(.jw-flag-audio-player):not(.jw-flag-ads-vpaid-controls):not(.jw-flag-casting) .jw-controlbar,.jw-flag-autostart:not(.jw-flag-media-audio):not(.jw-flag-audio-player):not(.jw-flag-ads-vpaid-controls):not(.jw-flag-casting) .jw-controlbar,.jw-flag-user-inactive.jw-state-playing:not(.jw-flag-media-audio):not(.jw-flag-audio-player):not(.jw-flag-ads-vpaid-controls):not(.jw-flag-casting) .jw-controlbar,.jw-flag-user-inactive.jw-state-buffering:not(.jw-flag-media-audio):not(.jw-flag-audio-player):not(.jw-flag-ads-vpaid-controls):not(.jw-flag-casting) .jw-controlbar{visibility:hidden;pointer-events:none;opacity:0;transition-delay:0s,250ms}.jw-flag-ads-vpaid:not(.jw-flag-media-audio):not(.jw-flag-audio-player):not(.jw-flag-ads-vpaid-controls):not(.jw-flag-casting) .jw-controls-backdrop,.jw-flag-autostart:not(.jw-flag-media-audio):not(.jw-flag-audio-player):not(.jw-flag-ads-vpaid-controls):not(.jw-flag-casting) .jw-controls-backdrop,.jw-flag-user-inactive.jw-state-playing:not(.jw-flag-media-audio):not(.jw-flag-audio-player):not(.jw-flag-ads-vpaid-controls):not(.jw-flag-casting) .jw-controls-backdrop,.jw-flag-user-inactive.jw-state-buffering:not(.jw-flag-media-audio):not(.jw-flag-audio-player):not(.jw-flag-ads-vpaid-controls):not(.jw-flag-casting) .jw-controls-backdrop{opacity:0}.jwplayer:not(.jw-flag-ads):not(.jw-flag-live).jw-breakpoint-0 .jw-text-countdown{display:flex}.jwplayer:not(.jw-flag-ads):not(.jw-flag-live).jw-breakpoint-0 .jw-text-elapsed,.jwplayer:not(.jw-flag-ads):not(.jw-flag-live).jw-breakpoint-0 .jw-text-duration{display:none}.jwplayer:not(.jw-flag-ads):not(.jw-flag-live) .jw-icon-live:not(.jw-dvr-live){margin-right:16px}.jwplayer:not(.jw-flag-ads):not(.jw-flag-live) .jw-icon-live:not(.jw-dvr-live) .jw-svg-icon-live{display:none}.jwplayer.jw-flag-live .jw-icon-live .jw-svg-icon-dvr{display:none}.jwplayer:not(.jw-breakpoint-0) .jw-text-duration:before{content:\\\"/\\\";padding-right:1ch;padding-left:1ch}.jwplayer:not(.jw-flag-user-inactive) .jw-controlbar{will-change:transform}.jwplayer:not(.jw-flag-user-inactive) .jw-controlbar .jw-text{-webkit-transform-style:preserve-3d;transform-style:preserve-3d}.jw-slider-container{display:flex;align-items:center;position:relative;touch-action:none}.jw-rail,.jw-buffer,.jw-progress{position:absolute;cursor:pointer}.jw-progress{background-color:#f2f2f2}.jw-rail{background-color:rgba(255,255,255,0.3)}.jw-buffer{background-color:rgba(255,255,255,0.3)}.jw-knob{height:13px;width:13px;background-color:#fff;border-radius:50%;box-shadow:0 0 10px rgba(0,0,0,0.4);opacity:1;pointer-events:none;position:absolute;-webkit-transform:translate(-50%, -50%) scale(0);transform:translate(-50%, -50%) scale(0);transition:150ms cubic-bezier(0, -0.25, .25, 1);transition-property:opacity,-webkit-transform;transition-property:opacity,transform;transition-property:opacity,transform,-webkit-transform}.jw-flag-dragging .jw-slider-time .jw-knob,.jw-icon-volume:active .jw-slider-volume .jw-knob{box-shadow:0 0 26px rgba(0,0,0,0.2),0 0 10px rgba(0,0,0,0.4),0 0 0 6px rgba(255,255,255,0.2)}.jw-slider-horizontal,.jw-slider-vertical{display:flex}.jw-slider-horizontal .jw-slider-container{height:5px;width:100%}.jw-slider-horizontal .jw-rail,.jw-slider-horizontal .jw-buffer,.jw-slider-horizontal .jw-progress,.jw-slider-horizontal .jw-cue,.jw-slider-horizontal .jw-knob{top:50%}.jw-slider-horizontal .jw-rail,.jw-slider-horizontal .jw-buffer,.jw-slider-horizontal .jw-progress,.jw-slider-horizontal .jw-cue{-webkit-transform:translate(0, -50%);transform:translate(0, -50%)}.jw-slider-horizontal .jw-rail,.jw-slider-horizontal .jw-buffer,.jw-slider-horizontal .jw-progress{height:5px}.jw-slider-horizontal .jw-rail{width:100%}.jw-slider-vertical{align-items:center;flex-direction:column}.jw-slider-vertical .jw-slider-container{height:88px;width:5px}.jw-slider-vertical .jw-rail,.jw-slider-vertical .jw-buffer,.jw-slider-vertical .jw-progress,.jw-slider-vertical .jw-knob{left:50%}.jw-slider-vertical .jw-rail,.jw-slider-vertical .jw-buffer,.jw-slider-vertical .jw-progress{height:100%;width:5px;-webkit-backface-visibility:hidden;backface-visibility:hidden;-webkit-transform:translate(-50%, 0);transform:translate(-50%, 0);transition:-webkit-transform 150ms ease-in-out;transition:transform 150ms ease-in-out;transition:transform 150ms ease-in-out, -webkit-transform 150ms ease-in-out;bottom:0}.jw-slider-vertical .jw-knob{-webkit-transform:translate(-50%, 50%);transform:translate(-50%, 50%)}.jw-slider-time{height:17px;width:100%;align-items:center;background:transparent none;padding:0 12px;z-index:1}.jw-slider-time .jw-rail,.jw-slider-time .jw-buffer,.jw-slider-time .jw-progress,.jw-slider-time .jw-cue{-webkit-backface-visibility:hidden;backface-visibility:hidden;height:100%;-webkit-transform:translate(0, -50%) scale(1, .6);transform:translate(0, -50%) scale(1, .6);transition:-webkit-transform 150ms ease-in-out;transition:transform 150ms ease-in-out;transition:transform 150ms ease-in-out, -webkit-transform 150ms ease-in-out}.jw-slider-time .jw-cue{background-color:rgba(33,33,33,0.8);cursor:pointer;position:relative;width:6px}.jw-slider-time:hover .jw-rail,.jw-flag-touch .jw-slider-time .jw-rail,.jw-slider-time:hover .jw-buffer,.jw-flag-touch .jw-slider-time .jw-buffer,.jw-slider-time:hover .jw-progress,.jw-flag-touch .jw-slider-time .jw-progress,.jw-slider-time:hover .jw-cue,.jw-flag-touch .jw-slider-time .jw-cue{-webkit-transform:translate(0, -50%) scale(1, 1);transform:translate(0, -50%) scale(1, 1)}.jw-slider-time .jw-rail{background-color:rgba(255,255,255,0.2)}.jw-slider-time .jw-buffer{background-color:rgba(255,255,255,0.4)}.jw-slider-time:hover .jw-knob,.jw-flag-dragging .jw-slider-time .jw-knob,.jw-flag-touch .jw-slider-time .jw-knob{-webkit-transform:translate(-50%, -50%) scale(1);transform:translate(-50%, -50%) scale(1)}.jw-flag-touch .jw-slider-time::before{height:44px;width:100%;content:\\\"\\\";position:absolute;display:block;bottom:calc(100% - 17px);left:0}.jwplayer .jw-rightclick{display:none;position:absolute;white-space:nowrap}.jwplayer .jw-rightclick.jw-open{display:block}.jwplayer .jw-rightclick .jw-rightclick-list{border-radius:1px;list-style:none;margin:0;padding:0}.jwplayer .jw-rightclick .jw-rightclick-list .jw-rightclick-item{background-color:rgba(0,0,0,0.8);border-bottom:1px solid #444;margin:0}.jwplayer .jw-rightclick .jw-rightclick-list .jw-rightclick-item .jw-rightclick-logo{color:#fff;display:inline-flex;padding:0 10px 0 0;vertical-align:middle}.jwplayer .jw-rightclick .jw-rightclick-list .jw-rightclick-item .jw-rightclick-logo .jw-svg-icon{height:20px;width:20px}.jwplayer .jw-rightclick .jw-rightclick-list .jw-rightclick-item .jw-rightclick-link{border:none;color:#fff;display:block;font-size:11px;line-height:1em;padding:15px 23px;text-decoration:none}.jwplayer .jw-rightclick .jw-rightclick-list .jw-rightclick-item:last-child{border-bottom:none}.jwplayer .jw-rightclick .jw-rightclick-list .jw-rightclick-item:hover{cursor:pointer}.jwplayer .jw-rightclick .jw-rightclick-list .jw-featured{vertical-align:middle}.jwplayer .jw-rightclick .jw-rightclick-list .jw-featured .jw-rightclick-link{color:#d2d2d2}.jwplayer .jw-rightclick .jw-rightclick-list .jw-featured .jw-rightclick-link span{color:#fff}.jw-icon-tooltip.jw-open .jw-overlay{opacity:1;transition-delay:0s;visibility:visible}.jw-slider-time .jw-overlay:before{height:1em;top:auto}.jw-volume-tip{padding:13px 0 26px}.jw-time-tip,.jw-controlbar .jw-tooltip,.jw-settings-menu .jw-tooltip{height:auto;width:100%;box-shadow:0 0 10px rgba(0,0,0,0.4);color:#fff;display:block;margin:0 0 14px;pointer-events:none;position:relative;z-index:0}.jw-time-tip::after,.jw-controlbar .jw-tooltip::after,.jw-settings-menu .jw-tooltip::after{top:100%;position:absolute;left:50%;height:14px;width:14px;border-radius:1px;background-color:currentColor;-webkit-transform-origin:75% 50%;transform-origin:75% 50%;-webkit-transform:translate(-50%, -50%) rotate(45deg);transform:translate(-50%, -50%) rotate(45deg);z-index:-1}.jw-time-tip .jw-text,.jw-controlbar .jw-tooltip .jw-text,.jw-settings-menu .jw-tooltip .jw-text{background-color:#fff;border-radius:1px;color:#000;font-size:10px;height:auto;line-height:1;padding:7px 10px;display:inline-block;min-width:100%;vertical-align:middle}.jw-controlbar .jw-overlay{position:absolute;bottom:100%;left:50%;margin:0;min-height:44px;min-width:44px;opacity:0;transition:150ms cubic-bezier(0, -0.25, .25, 1);transition-property:opacity,visibility;transition-delay:0s,150ms;-webkit-transform:translate(-50%, 0);transform:translate(-50%, 0);visibility:hidden;width:100%;z-index:1}.jw-controlbar .jw-overlay .jw-contents{position:relative}.jw-controlbar .jw-option{position:relative;white-space:nowrap;cursor:pointer;list-style:none;height:1.5em;font-family:inherit;line-height:1.5em;padding:0 .5em;font-size:.8em;margin:0}.jw-controlbar .jw-option::before{padding-right:.125em}.jw-controlbar .jw-tooltip,.jw-settings-menu .jw-tooltip{position:absolute;bottom:100%;left:50%;opacity:0;-webkit-transform:translate(-50%, 0);transform:translate(-50%, 0);transition:100ms 0s cubic-bezier(0, -0.25, .25, 1);transition-property:opacity,visibility,-webkit-transform;transition-property:opacity,transform,visibility;transition-property:opacity,transform,visibility,-webkit-transform;visibility:hidden;white-space:nowrap;width:auto;z-index:1}.jw-controlbar .jw-tooltip.jw-open,.jw-settings-menu .jw-tooltip.jw-open,.jw-controlbar .jw-icon:focus>.jw-tooltip,.jw-settings-menu .jw-icon:focus>.jw-tooltip{opacity:1;-webkit-transform:translate(-50%, -10px);transform:translate(-50%, -10px);transition-duration:150ms;transition-delay:500ms,0s,500ms;visibility:visible}.jw-tooltip-time{height:auto;width:0;bottom:100%;line-height:normal;padding:0;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.jw-tooltip-time .jw-overlay{bottom:0;min-height:0;width:auto}.jw-tooltip{bottom:57px;display:none;position:absolute}.jw-tooltip .jw-text{height:100%;white-space:nowrap;text-overflow:ellipsis;max-width:246px;overflow:hidden}.jw-flag-audio-player .jw-tooltip{display:none}.jw-flag-small-player .jw-time-thumb{display:none}.jw-skip{color:rgba(255,255,255,0.8);cursor:default;position:absolute;display:flex;right:.75em;bottom:56px;padding:.5em;border:1px solid #333;background-color:#000;align-items:center;height:2em}.jw-skip.jw-skippable{cursor:pointer;padding:.25em .75em}.jw-skip.jw-skippable:hover{cursor:pointer;color:#fff}.jw-skip.jw-skippable .jw-skip-icon{display:inline;height:24px;width:24px;margin:0}.jw-skip .jw-skip-icon{display:none;margin-left:-0.75em;padding:0 .5em}.jw-skip .jw-skip-icon .jw-svg-icon-next{display:block;padding:0}.jw-skip .jw-text,.jw-skip .jw-skip-icon{vertical-align:middle;font-size:.7em}.jw-skip .jw-text{font-weight:bold}.jw-cast{background-size:cover;display:none;height:100%;position:relative;width:100%}.jw-cast-container{background:linear-gradient(180deg, rgba(25,25,25,0.75), rgba(25,25,25,0.25), rgba(25,25,25,0));left:0;padding:20px 20px 80px;position:absolute;top:0;width:100%}.jw-cast-text{color:#fff;font-size:1.6em}.jw-breakpoint-0 .jw-cast-text{font-size:1.15em}.jw-breakpoint-1 .jw-cast-text,.jw-breakpoint-2 .jw-cast-text,.jw-breakpoint-3 .jw-cast-text{font-size:1.3em}.jw-nextup-container{position:absolute;bottom:66px;left:0;background-color:transparent;cursor:pointer;margin:0 auto;padding:12px;pointer-events:none;right:0;text-align:right;visibility:hidden;width:100%}.jw-flag-small-player .jw-nextup-container,.jw-settings-open .jw-nextup-container{display:none}.jw-nextup{background:#333;border-radius:0;box-shadow:0 0 10px rgba(0,0,0,0.5);color:rgba(255,255,255,0.8);display:inline-block;max-width:280px;overflow:hidden;opacity:0;position:relative;width:64%;pointer-events:all;-webkit-transform:translate(0, -5px);transform:translate(0, -5px);transition:150ms cubic-bezier(0, -0.25, .25, 1);transition-property:opacity,-webkit-transform;transition-property:opacity,transform;transition-property:opacity,transform,-webkit-transform;transition-delay:0s}.jw-nextup:hover .jw-nextup-tooltip{color:#fff}.jw-nextup.jw-nextup-thumbnail-visible{max-width:400px}.jw-nextup.jw-nextup-thumbnail-visible .jw-nextup-thumbnail{display:block}.jw-nextup-container-visible{visibility:visible}.jw-nextup-container-visible .jw-nextup{opacity:1;-webkit-transform:translate(0, 0);transform:translate(0, 0);transition-delay:0s,0s,150ms}.jw-nextup-tooltip{display:flex;height:80px}.jw-nextup-thumbnail{width:120px;background-position:center;background-size:cover;flex:0 0 auto;display:none}.jw-nextup-body{flex:1 1 auto;overflow:hidden;padding:.75em .875em;display:flex;flex-flow:column wrap;justify-content:space-between}.jw-nextup-header,.jw-nextup-title{font-size:14px;line-height:1.35}.jw-nextup-header{font-weight:bold}.jw-nextup-title{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%}.jw-nextup-duration{align-self:flex-end;text-align:right;font-size:12px}.jw-nextup-close{height:24px;width:24px;border:none;color:rgba(255,255,255,0.8);cursor:pointer;margin:6px;visibility:hidden}.jw-nextup-close:hover{color:#fff}.jw-nextup-sticky .jw-nextup-close{visibility:visible}.jw-autostart-mute{position:absolute;bottom:.5em;right:.5em;height:44px;width:44px;background-color:rgba(33,33,33,0.8);padding:5px 4px 5px 6px}.jwplayer.jw-flag-autostart:not(.jw-flag-media-audio):not(.jw-state-buffering):not(.jw-state-error):not(.jw-state-complete) .jw-display,.jwplayer.jw-flag-autostart:not(.jw-flag-media-audio) .jw-nextup{display:none}.jw-settings-menu{display:none;position:absolute;flex-flow:column nowrap;align-items:flex-start;right:12px;bottom:57px;max-width:284px;background-color:#333;pointer-events:auto}.jw-settings-open .jw-settings-menu{display:flex}.jw-breakpoint-7 .jw-settings-menu,.jw-breakpoint-6 .jw-settings-menu,.jw-breakpoint-5 .jw-settings-menu{height:232px;width:284px;max-height:232px}.jw-breakpoint-4 .jw-settings-menu,.jw-breakpoint-3 .jw-settings-menu{height:192px;width:284px;max-height:192px}.jw-breakpoint-2 .jw-settings-menu{height:179px;width:284px;max-height:179px}.jw-flag-small-player .jw-settings-menu{bottom:0;right:0;height:100%;width:100%;max-width:none}.jw-settings-menu .jw-icon.jw-button-color::after{height:100%;width:24px;box-shadow:inset 0 -3px 0 -1px currentColor;margin:auto;opacity:0;transition:opacity 150ms cubic-bezier(0, -0.25, .25, 1)}.jw-settings-menu .jw-icon.jw-button-color[aria-checked=\\\"true\\\"]::after{opacity:1}.jw-settings-topbar{display:flex;flex:0 0 auto;align-items:center;width:100%;background-color:rgba(0,0,0,0.4);padding:3px 5px 0}.jw-settings-topbar .jw-settings-close{margin-left:auto}.jw-settings-submenu{display:none;flex:1 1 auto;overflow-y:auto;padding:8px 20px 0 5px}.jw-settings-submenu.jw-settings-submenu-active{display:block}.jw-settings-submenu::-webkit-scrollbar{background-color:transparent;width:6px}.jw-settings-submenu::-webkit-scrollbar-thumb{background-color:#fff;border:1px solid #333;border-radius:6px}.jw-flag-touch .jw-settings-submenu{overflow-y:scroll;-webkit-overflow-scrolling:touch}.jw-settings-content-item{color:rgba(255,255,255,0.8);width:100%;font-size:12px;line-height:1;padding:7px 0 7px 15px;cursor:pointer}.jw-settings-content-item.jw-settings-item-active{color:#fff;font-weight:bold}.jw-settings-content-item:hover,.jw-settings-content-item:focus{color:#fff}.jw-settings-content-item:focus{outline:none}.jw-flag-small-player .jw-settings-content-item{line-height:1.75}.jw-breakpoint-2 .jw-settings-open .jw-display-container,.jw-flag-small-player .jw-settings-open .jw-display-container,.jw-flag-touch .jw-settings-open .jw-display-container{display:none}.jw-breakpoint-2 .jw-settings-open.jw-controls,.jw-flag-small-player .jw-settings-open.jw-controls,.jw-flag-touch .jw-settings-open.jw-controls{z-index:1}.jw-flag-small-player .jw-settings-open .jw-controlbar{display:none}.jw-settings-open .jw-icon-settings::after{opacity:1}.jw-settings-open .jw-tooltip-settings{display:none}.jw-sharing-link{cursor:pointer}.jw-state-idle:not(.jw-flag-cast-available) .jw-display{padding:0}.jw-state-idle .jw-controls{background:rgba(0,0,0,0.4)}.jw-state-idle.jw-flag-cast-available:not(.jw-flag-audio-player) .jw-controlbar .jw-slider-time,.jw-state-idle.jw-flag-cardboard-available .jw-controlbar .jw-slider-time,.jw-state-idle.jw-flag-cast-available:not(.jw-flag-audio-player) .jw-controlbar .jw-icon:not(.jw-icon-cardboard):not(.jw-icon-cast):not(.jw-icon-airplay),.jw-state-idle.jw-flag-cardboard-available .jw-controlbar .jw-icon:not(.jw-icon-cardboard):not(.jw-icon-cast):not(.jw-icon-airplay){display:none}.jwplayer.jw-state-buffering .jw-display-icon-display .jw-icon{-webkit-animation:spin 2s linear infinite;animation:spin 2s linear infinite}.jwplayer.jw-state-buffering .jw-display-icon-display .jw-icon .jw-svg-icon-buffer{display:block}@-webkit-keyframes spin{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.jwplayer.jw-state-buffering .jw-icon-playback .jw-svg-icon-play{display:none}.jwplayer.jw-state-buffering .jw-icon-display .jw-svg-icon-pause{display:none}.jwplayer.jw-state-playing .jw-display .jw-icon-display .jw-svg-icon-play,.jwplayer.jw-state-playing .jw-icon-playback .jw-svg-icon-play{display:none}.jwplayer.jw-state-playing .jw-display .jw-icon-display .jw-svg-icon-pause,.jwplayer.jw-state-playing .jw-icon-playback .jw-svg-icon-pause{display:block}.jwplayer.jw-state-playing.jw-flag-user-inactive:not(.jw-flag-audio-player):not(.jw-flag-casting):not(.jw-flag-media-audio) .jw-controls-backdrop{opacity:0}.jwplayer.jw-state-playing.jw-flag-user-inactive:not(.jw-flag-audio-player):not(.jw-flag-casting):not(.jw-flag-media-audio) .jw-logo-bottom-left,.jwplayer.jw-state-playing.jw-flag-user-inactive:not(.jw-flag-audio-player):not(.jw-flag-casting):not(.jw-flag-media-audio):not(.jw-flag-autostart) .jw-logo-bottom-right{bottom:0}.jwplayer.jw-state-paused .jw-autostart-mute{display:none}.jwplayer.jw-state-paused .jw-svg-icon-pause,.jwplayer.jw-state-idle .jw-svg-icon-pause,.jwplayer.jw-state-error .jw-svg-icon-pause,.jwplayer.jw-state-complete .jw-svg-icon-pause{display:none}.jwplayer.jw-state-error .jw-icon-display .jw-svg-icon-play,.jwplayer.jw-state-complete .jw-icon-display .jw-svg-icon-play,.jwplayer.jw-state-buffering .jw-icon-display .jw-svg-icon-play{display:none}.jwplayer:not(.jw-state-buffering) .jw-svg-icon-buffer{display:none}.jwplayer:not(.jw-state-complete) .jw-svg-icon-replay{display:none}.jwplayer:not(.jw-state-error) .jw-svg-icon-error{display:none}.jwplayer.jw-state-complete .jw-display .jw-icon-display .jw-svg-icon-replay{display:block}.jwplayer.jw-state-complete .jw-display .jw-text{display:none}.jwplayer.jw-state-complete .jw-controls{background:rgba(0,0,0,0.4);height:100%}.jw-state-idle .jw-icon-display .jw-svg-icon-pause,.jwplayer.jw-state-paused .jw-icon-playback .jw-svg-icon-pause,.jwplayer.jw-state-paused .jw-icon-display .jw-svg-icon-pause,.jwplayer.jw-state-complete .jw-icon-playback .jw-svg-icon-pause{display:none}.jw-state-idle .jw-display-icon-rewind,.jwplayer.jw-state-buffering .jw-display-icon-rewind,.jwplayer.jw-state-complete .jw-display-icon-rewind,body .jw-error .jw-display-icon-rewind,body .jwplayer.jw-state-error .jw-display-icon-rewind,.jw-state-idle .jw-display-icon-next,.jwplayer.jw-state-buffering .jw-display-icon-next,.jwplayer.jw-state-complete .jw-display-icon-next,body .jw-error .jw-display-icon-next,body .jwplayer.jw-state-error .jw-display-icon-next{display:none}body .jw-error .jw-icon-display,body .jwplayer.jw-state-error .jw-icon-display{cursor:default}body .jw-error .jw-icon-display .jw-svg-icon-error,body .jwplayer.jw-state-error .jw-icon-display .jw-svg-icon-error{display:block}body .jw-error .jw-icon-container{position:absolute;width:100%;height:100%;top:0;left:0;bottom:0;right:0}body .jwplayer.jw-state-error.jw-flag-audio-player .jw-preview{display:none}body .jwplayer.jw-state-error.jw-flag-audio-player .jw-title{padding-top:4px}body .jwplayer.jw-state-error.jw-flag-audio-player .jw-title-primary{width:auto;display:inline-block;padding-right:.5ch}body .jwplayer.jw-state-error.jw-flag-audio-player .jw-title-secondary{width:auto;display:inline-block;padding-left:0}body .jwplayer.jw-state-error .jw-controlbar,.jwplayer.jw-state-idle:not(.jw-flag-audio-player):not(.jw-flag-cast-available):not(.jw-flag-cardboard-available) .jw-controlbar{display:none}body .jwplayer.jw-state-error .jw-settings-menu,.jwplayer.jw-state-idle:not(.jw-flag-audio-player):not(.jw-flag-cast-available):not(.jw-flag-cardboard-available) .jw-settings-menu{height:100%;top:0;bottom:0}body .jwplayer.jw-state-error .jw-display,.jwplayer.jw-state-idle:not(.jw-flag-audio-player):not(.jw-flag-cast-available):not(.jw-flag-cardboard-available) .jw-display{padding:0}body .jwplayer.jw-state-error .jw-logo-bottom-left,.jwplayer.jw-state-idle:not(.jw-flag-audio-player):not(.jw-flag-cast-available):not(.jw-flag-cardboard-available) .jw-logo-bottom-left,body .jwplayer.jw-state-error .jw-logo-bottom-right,.jwplayer.jw-state-idle:not(.jw-flag-audio-player):not(.jw-flag-cast-available):not(.jw-flag-cardboard-available) .jw-logo-bottom-right{bottom:0}.jwplayer.jw-state-playing.jw-flag-user-inactive .jw-display{visibility:hidden;pointer-events:none;opacity:0}.jwplayer.jw-state-playing:not(.jw-flag-touch):not(.jw-flag-small-player):not(.jw-flag-casting) .jw-display,.jwplayer.jw-state-paused:not(.jw-flag-touch):not(.jw-flag-small-player):not(.jw-flag-casting):not(.jw-flag-play-rejected) .jw-display{display:none}.jwplayer.jw-state-paused.jw-flag-play-rejected:not(.jw-flag-touch):not(.jw-flag-small-player):not(.jw-flag-casting) .jw-display-icon-rewind,.jwplayer.jw-state-paused.jw-flag-play-rejected:not(.jw-flag-touch):not(.jw-flag-small-player):not(.jw-flag-casting) .jw-display-icon-next{display:none}.jwplayer.jw-state-buffering .jw-display-icon-display .jw-text,.jwplayer.jw-state-complete .jw-display .jw-text{display:none}.jwplayer.jw-flag-casting:not(.jw-flag-audio-player) .jw-cast{display:block}.jwplayer.jw-flag-casting.jw-flag-airplay-casting .jw-display-icon-container{display:none}.jwplayer.jw-flag-casting .jw-icon-hd,.jwplayer.jw-flag-casting .jw-captions,.jwplayer.jw-flag-casting .jw-icon-fullscreen,.jwplayer.jw-flag-casting .jw-icon-audio-tracks{display:none}.jwplayer.jw-flag-casting.jw-flag-airplay-casting .jw-icon-volume{display:none}.jwplayer.jw-flag-casting.jw-flag-airplay-casting .jw-icon-airplay{color:#fff}.jw-state-playing.jw-flag-casting:not(.jw-flag-audio-player) .jw-display,.jw-state-paused.jw-flag-casting:not(.jw-flag-audio-player) .jw-display{display:table}.jwplayer.jw-flag-cast-available .jw-icon-cast,.jwplayer.jw-flag-cast-available .jw-icon-airplay{display:flex}.jwplayer.jw-flag-cardboard-available .jw-icon-cardboard{display:flex}.jwplayer.jw-flag-live .jw-display-icon-rewind{display:none}.jwplayer.jw-flag-live .jw-controlbar .jw-text-elapsed,.jwplayer.jw-flag-live .jw-controlbar .jw-text-duration,.jwplayer.jw-flag-live .jw-controlbar .jw-text-countdown,.jwplayer.jw-flag-live .jw-controlbar .jw-slider-time{display:none}.jwplayer.jw-flag-live .jw-controlbar .jw-text-alt{display:flex}.jwplayer.jw-flag-live .jw-controlbar .jw-overlay:after{display:none}.jwplayer.jw-flag-live .jw-controlbar .jw-icon-live .jw-svg-icon-dvr{display:none}.jwplayer.jw-flag-live .jw-nextup-container{bottom:44px}.jwplayer.jw-flag-live .jw-text-elapsed,.jwplayer.jw-flag-live .jw-text-duration{display:none}.jwplayer.jw-flag-controls-hidden .jw-logo.jw-hide{visibility:hidden;pointer-events:none;opacity:0}.jwplayer.jw-flag-controls-hidden:not(.jw-flag-casting) .jw-logo-top-right{top:0}.jwplayer.jw-flag-controls-hidden .jw-plugin{bottom:.5em}.jwplayer.jw-flag-controls-hidden .jw-nextup-container{bottom:0}.jw-flag-controls-hidden .jw-controlbar,.jw-flag-controls-hidden .jw-display{visibility:hidden;pointer-events:none;opacity:0;transition-delay:0s,250ms}.jw-flag-controls-hidden .jw-controls-backdrop{opacity:0}.jw-flag-controls-hidden .jw-logo{visibility:visible}.jwplayer.jw-flag-user-inactive:not(.jw-flag-media-audio).jw-state-playing .jw-logo.jw-hide{visibility:hidden;pointer-events:none;opacity:0}.jwplayer.jw-flag-user-inactive:not(.jw-flag-media-audio).jw-state-playing:not(.jw-flag-casting) .jw-logo-top-right{top:0}.jwplayer.jw-flag-user-inactive:not(.jw-flag-media-audio).jw-state-playing .jw-plugin{bottom:.5em}.jwplayer.jw-flag-user-inactive:not(.jw-flag-media-audio).jw-state-playing .jw-nextup-container{bottom:0}.jwplayer.jw-flag-user-inactive:not(.jw-flag-media-audio).jw-state-playing .jw-captions{max-height:none}.jwplayer.jw-flag-user-inactive:not(.jw-flag-media-audio).jw-state-playing video::-webkit-media-text-track-container{max-height:none}.jwplayer.jw-flag-user-inactive:not(.jw-flag-media-audio).jw-state-playing .jw-media{cursor:none;-webkit-cursor-visibility:auto-hide}.jwplayer.jw-flag-user-inactive:not(.jw-flag-media-audio).jw-state-playing.jw-flag-casting .jw-display{display:table}.jwplayer.jw-flag-user-inactive:not(.jw-flag-media-audio).jw-flag-casting .jw-nextup-container{bottom:66px}.jwplayer.jw-flag-user-inactive:not(.jw-flag-media-audio).jw-flag-casting.jw-state-idle .jw-nextup-container{display:none}.jwplayer.jw-flag-media-audio .jw-autostart-mute{display:none}.jw-flag-media-audio .jw-preview{display:block}.jwplayer.jw-flag-ads .jw-preview,.jwplayer.jw-flag-ads .jw-logo,.jwplayer.jw-flag-ads .jw-captions.jw-captions-enabled,.jwplayer.jw-flag-ads .jw-nextup-container,.jwplayer.jw-flag-ads .jw-autostart-mute,.jwplayer.jw-flag-ads .jw-text-duration,.jwplayer.jw-flag-ads .jw-text-elapsed{display:none}.jwplayer.jw-flag-ads video::-webkit-media-text-track-container{display:none}.jwplayer.jw-flag-ads.jw-flag-small-player .jw-display-icon-rewind,.jwplayer.jw-flag-ads.jw-flag-small-player .jw-display-icon-next,.jwplayer.jw-flag-ads.jw-flag-small-player .jw-display-icon-display{display:none}.jwplayer.jw-flag-ads.jw-flag-small-player.jw-state-buffering .jw-display-icon-display{display:inline-block}.jwplayer.jw-flag-ads .jw-controlbar{flex-wrap:wrap-reverse}.jwplayer.jw-flag-ads .jw-controlbar .jw-slider-time{height:auto;padding:0;pointer-events:none}.jwplayer.jw-flag-ads .jw-controlbar .jw-slider-time .jw-slider-container{height:5px}.jwplayer.jw-flag-ads .jw-controlbar .jw-slider-time .jw-rail,.jwplayer.jw-flag-ads .jw-controlbar .jw-slider-time .jw-knob,.jwplayer.jw-flag-ads .jw-controlbar .jw-slider-time .jw-buffer,.jwplayer.jw-flag-ads .jw-controlbar .jw-slider-time .jw-cue,.jwplayer.jw-flag-ads .jw-controlbar .jw-slider-time .jw-icon-settings{display:none}.jwplayer.jw-flag-ads .jw-controlbar .jw-slider-time .jw-progress{-webkit-transform:none;transform:none;top:auto}.jwplayer.jw-flag-ads .jw-controlbar .jw-tooltip,.jwplayer.jw-flag-ads .jw-controlbar .jw-icon-tooltip:not(.jw-icon-volume),.jwplayer.jw-flag-ads .jw-controlbar .jw-icon-inline:not(.jw-icon-playback):not(.jw-icon-fullscreen):not(.jw-icon-volume){display:none}.jwplayer.jw-flag-ads .jw-controlbar .jw-volume-tip{padding:13px 0}.jwplayer.jw-flag-ads .jw-controlbar .jw-text-alt{display:flex}.jwplayer.jw-flag-ads.jw-flag-ads.jw-state-playing.jw-flag-touch:not(.jw-flag-ads-vpaid) .jw-controls .jw-controlbar,.jwplayer.jw-flag-ads.jw-flag-ads.jw-state-playing.jw-flag-touch:not(.jw-flag-ads-vpaid).jw-flag-autostart .jw-controls .jw-controlbar{display:flex;pointer-events:all;visibility:visible;opacity:1}.jwplayer.jw-flag-ads.jw-flag-ads.jw-state-playing.jw-flag-touch:not(.jw-flag-ads-vpaid).jw-flag-user-inactive .jw-controls-backdrop,.jwplayer.jw-flag-ads.jw-flag-ads.jw-state-playing.jw-flag-touch:not(.jw-flag-ads-vpaid).jw-flag-autostart.jw-flag-user-inactive .jw-controls-backdrop{opacity:1;background-size:100% 60px}.jwplayer.jw-flag-ads .jw-nextup-container{bottom:44px}.jwplayer.jw-flag-ads .jw-icon,.jwplayer.jw-flag-ads .jw-slider-horizontal{pointer-events:all}.jwplayer.jw-flag-ads-googleima.jw-flag-touch .jw-controlbar{font-size:1em}.jwplayer.jw-flag-ads-googleima.jw-flag-touch .jw-display-icon-display,.jwplayer.jw-flag-ads-googleima.jw-flag-touch .jw-display-icon-display .jw-icon-display{pointer-events:none}.jwplayer.jw-flag-ads-googleima.jw-flag-small-player .jw-controlbar .jw-icon{height:30px}.jwplayer.jw-flag-ads-googleima.jw-flag-small-player .jw-icon-fullscreen{display:none}.jwplayer.jw-flag-ads-vpaid .jw-display-container,.jwplayer.jw-flag-touch.jw-flag-ads-vpaid .jw-display-container,.jwplayer.jw-flag-ads-vpaid .jw-skip,.jwplayer.jw-flag-touch.jw-flag-ads-vpaid .jw-skip{display:none}.jwplayer.jw-flag-ads-vpaid.jw-flag-small-player .jw-controls{background:none}.jwplayer.jw-flag-ads-vpaid.jw-flag-small-player .jw-controls::after{content:none}.jwplayer.jw-flag-ads-hide-controls .jw-controls-backdrop,.jwplayer.jw-flag-ads-hide-controls .jw-controls{display:none !important}.jw-flag-overlay-open-related .jw-controls,.jw-flag-overlay-open-related .jw-title,.jw-flag-overlay-open-related .jw-logo{display:none}.jwplayer.jw-flag-rightclick-open{overflow:visible}.jwplayer.jw-flag-rightclick-open .jw-rightclick{z-index:16777215}body .jwplayer.jw-flag-flash-blocked .jw-controls,body .jwplayer.jw-flag-flash-blocked .jw-overlays,body .jwplayer.jw-flag-flash-blocked .jw-controls-backdrop,body .jwplayer.jw-flag-flash-blocked .jw-preview{display:none}.jw-flag-touch.jw-breakpoint-7 .jw-captions,.jw-flag-touch.jw-breakpoint-6 .jw-captions,.jw-flag-touch.jw-breakpoint-5 .jw-captions,.jw-flag-touch.jw-breakpoint-4 .jw-captions,.jw-flag-touch.jw-breakpoint-7 .jw-nextup-container,.jw-flag-touch.jw-breakpoint-6 .jw-nextup-container,.jw-flag-touch.jw-breakpoint-5 .jw-nextup-container,.jw-flag-touch.jw-breakpoint-4 .jw-nextup-container{bottom:4.25em}.jw-flag-touch.jw-breakpoint-7 video::-webkit-media-text-track-container,.jw-flag-touch.jw-breakpoint-6 video::-webkit-media-text-track-container,.jw-flag-touch.jw-breakpoint-5 video::-webkit-media-text-track-container,.jw-flag-touch.jw-breakpoint-4 video::-webkit-media-text-track-container{max-height:calc(100% - 60px)}.jw-flag-touch .jw-controlbar .jw-icon-volume{display:flex}.jw-flag-touch .jw-display,.jw-flag-touch .jw-display-container,.jw-flag-touch .jw-display-controls{pointer-events:none}.jw-flag-touch.jw-state-paused:not(.jw-breakpoint-1) .jw-display-icon-next,.jw-flag-touch.jw-state-playing:not(.jw-breakpoint-1) .jw-display-icon-next,.jw-flag-touch.jw-state-paused:not(.jw-breakpoint-1) .jw-display-icon-rewind,.jw-flag-touch.jw-state-playing:not(.jw-breakpoint-1) .jw-display-icon-rewind{display:none}.jw-flag-touch.jw-state-paused.jw-flag-dragging .jw-display{display:none}.jw-flag-audio-player{background-color:#000}.jw-flag-audio-player:not(.jw-flag-flash-blocked) .jw-media{visibility:hidden}.jw-flag-audio-player .jw-title{background:none}.jw-flag-audio-player object{min-height:44px}.jw-flag-audio-player .jw-preview,.jw-flag-audio-player .jw-display,.jw-flag-audio-player .jw-title,.jw-flag-audio-player .jw-nextup-container{display:none}.jw-flag-audio-player .jw-controlbar{position:relative}.jw-flag-audio-player .jw-controlbar .jw-button-container{padding-right:3px;padding-left:0}.jw-flag-audio-player .jw-controlbar .jw-icon-tooltip,.jw-flag-audio-player .jw-controlbar .jw-icon-inline{display:none}.jw-flag-audio-player .jw-controlbar .jw-icon-volume:not(.jw-icon-tooltip),.jw-flag-audio-player .jw-controlbar .jw-icon-playback,.jw-flag-audio-player .jw-controlbar .jw-icon-next,.jw-flag-audio-player .jw-controlbar .jw-icon-rewind,.jw-flag-audio-player .jw-controlbar .jw-icon-cast,.jw-flag-audio-player .jw-controlbar .jw-icon-live,.jw-flag-audio-player .jw-controlbar .jw-icon-airplay,.jw-flag-audio-player .jw-controlbar .jw-logo-button,.jw-flag-audio-player .jw-controlbar .jw-text-elapsed,.jw-flag-audio-player .jw-controlbar .jw-text-duration{display:flex;flex:0 0 auto}.jw-flag-audio-player .jw-controlbar .jw-text-duration,.jw-flag-audio-player .jw-controlbar .jw-text-countdown{padding-right:10px}.jw-flag-audio-player .jw-controlbar .jw-slider-time{display:flex;flex:0 1 auto;align-items:center}.jw-flag-audio-player.jw-flag-small-player .jw-text-elapsed,.jw-flag-audio-player.jw-flag-small-player .jw-text-duration{display:none}.jw-flag-audio-player.jw-flag-ads .jw-slider-time{display:none}.jw-hidden{display:none}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader!./node_modules/postcss-loader/lib!./node_modules/less-loader/dist/cjs.js?{\"compress\":true,\"strictMath\":true,\"noIeCompat\":true}!./src/css/controls.less\n// module id = 140\n// module chunks = 0 1 2 3 4","import _ from 'utils/underscore';\r\n\r\nconst supportedFields = [\r\n    'repeat',\r\n    'volume',\r\n    'mute',\r\n    'autostart'\r\n];\r\n\r\nfunction setAutoStart(model, controller, autoStart) {\r\n    model.setAutoStart(autoStart);\r\n\r\n    if (model.get('state') === 'idle' && autoStart === true) {\r\n        controller.play({ reason: 'autostart' });\r\n    }\r\n}\r\n\r\nexport default (controller, newConfig) => {\r\n    const model = controller._model;\r\n\r\n    if (!_.size(newConfig)) {\r\n        return;\r\n    }\r\n\r\n    supportedFields.forEach(field => {\r\n        const newValue = newConfig[field];\r\n\r\n        if (_.isUndefined(newValue)) {\r\n            return;\r\n        }\r\n\r\n        switch (field) {\r\n            case 'mute':\r\n                controller.setMute(newValue);\r\n                break;\r\n            case 'volume':\r\n                controller.setVolume(newValue);\r\n                break;\r\n            case 'autostart':\r\n                setAutoStart(model, controller, newValue);\r\n                break;\r\n            default:\r\n                model.set(field, newValue);\r\n        }\r\n    });\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/api/set-config.js","import { OS } from 'environment/environment';\r\nimport { STATE_BUFFERING, STATE_COMPLETE, STATE_PAUSED,\r\n    ERROR, MEDIA_META, MEDIA_TIME, MEDIA_COMPLETE,\r\n    PLAYLIST_ITEM, PLAYLIST_COMPLETE, INSTREAM_CLICK, AD_SKIPPED } from 'events/events';\r\nimport InstreamHtml5 from 'controller/instream-html5';\r\nimport InstreamFlash from 'controller/instream-flash';\r\nimport utils from 'utils/helpers';\r\nimport Events from 'utils/backbone.events';\r\nimport _ from 'utils/underscore';\r\n\r\nfunction chooseInstreamMethod(_model) {\r\n    var providerName = '';\r\n    var provider = _model.get('provider');\r\n    if (provider) {\r\n        providerName = provider.name;\r\n    }\r\n    if (providerName.indexOf('flash') >= 0) {\r\n        return InstreamFlash;\r\n    }\r\n\r\n    return InstreamHtml5;\r\n}\r\n\r\nvar _defaultOptions = {\r\n    skipoffset: null,\r\n    tag: null\r\n};\r\n\r\nvar InstreamAdapter = function(_controller, _model, _view) {\r\n    var InstreamMethod = chooseInstreamMethod(_model);\r\n    var _instream = new InstreamMethod(_controller, _model);\r\n\r\n    var _array;\r\n    var _arrayOptions;\r\n    var _arrayIndex = 0;\r\n    var _options = {};\r\n    var _oldpos;\r\n    var _olditem;\r\n    var _this = this;\r\n    var _skipAd = _instreamItemNext;\r\n\r\n    var _clickHandler = _.bind(function(evt) {\r\n        evt = evt || {};\r\n        evt.hasControls = !!_model.get('controls');\r\n\r\n        this.trigger(INSTREAM_CLICK, evt);\r\n\r\n        // toggle playback after click event\r\n        if (!_instream || !_instream._adModel) {\r\n            return;\r\n        }\r\n        if (_instream._adModel.get('state') === STATE_PAUSED) {\r\n            if (evt.hasControls) {\r\n                _instream.instreamPlay();\r\n            }\r\n        } else {\r\n            _instream.instreamPause();\r\n        }\r\n    }, this);\r\n\r\n    var _doubleClickHandler = _.bind(function() {\r\n        if (!_instream || !_instream._adModel) {\r\n            return;\r\n        }\r\n        if (_instream._adModel.get('state') === STATE_PAUSED) {\r\n            if (_model.get('controls')) {\r\n                _controller.setFullscreen();\r\n                _controller.play();\r\n            }\r\n        }\r\n    }, this);\r\n\r\n    this.type = 'instream';\r\n\r\n    this.init = function(sharedVideoTag) {\r\n        // Keep track of the original player state\r\n        const mediaElement = sharedVideoTag || _model.get('mediaElement');\r\n        _oldpos = _model.get('position');\r\n        _olditem = _model.get('playlist')[_model.get('item')];\r\n\r\n        _instream.on('all', _instreamForward, this);\r\n        _instream.on(MEDIA_TIME, _instreamTime, this);\r\n        _instream.on(MEDIA_COMPLETE, _instreamItemComplete, this);\r\n        _instream.init(mediaElement, _model.clone());\r\n\r\n        // Make sure the original player's provider stops broadcasting events (pseudo-lock...)\r\n        _controller.detachMedia();\r\n\r\n        // Let the element finish loading for mobile before calling pause\r\n        if (mediaElement) {\r\n            if (!mediaElement.paused) {\r\n                mediaElement.pause();\r\n            }\r\n            mediaElement.playbackRate = mediaElement.defaultPlaybackRate = 1;\r\n        }\r\n\r\n        if (_controller.checkBeforePlay() || (_oldpos === 0 && !_model.checkComplete())) {\r\n            // make sure video restarts after preroll\r\n            _oldpos = 0;\r\n        } else if (_model.checkComplete() || _model.get('state') === STATE_COMPLETE) {\r\n            _oldpos = null;\r\n        }\r\n\r\n        // Show instream state instead of normal player state\r\n        _model.set('adModel', _instream._adModel);\r\n        _view.setupInstream(_instream._adModel);\r\n        _instream._adModel.set('state', STATE_BUFFERING);\r\n\r\n        // don't trigger api play/pause on display click\r\n        if (_view.clickHandler()) {\r\n            _view.clickHandler().setAlternateClickHandlers(utils.noop, null);\r\n        }\r\n\r\n        this.setText(_model.get('localization').loadingAd);\r\n        return this;\r\n    };\r\n\r\n    function _loadNextItem() {\r\n        _arrayIndex++;\r\n        var item = _array[_arrayIndex];\r\n        var options;\r\n        if (_arrayOptions) {\r\n            options = _arrayOptions[_arrayIndex];\r\n        }\r\n        _this.loadItem(item, options);\r\n    }\r\n\r\n    function _instreamForward(type, data) {\r\n        if (type === 'complete') {\r\n            return;\r\n        }\r\n        data = data || {};\r\n\r\n        if (_options.tag && !data.tag) {\r\n            data.tag = _options.tag;\r\n        }\r\n\r\n        this.trigger(type, data);\r\n\r\n        if (type === 'mediaError' || type === 'error') {\r\n            if (_array && _arrayIndex + 1 < _array.length) {\r\n                _loadNextItem();\r\n            }\r\n        }\r\n    }\r\n\r\n    function _instreamTime(evt) {\r\n        _instream._adModel.set('duration', evt.duration);\r\n        _instream._adModel.set('position', evt.position);\r\n    }\r\n\r\n    function _instreamItemComplete(e) {\r\n        var data = {};\r\n        if (_options.tag) {\r\n            data.tag = _options.tag;\r\n        }\r\n        this.trigger(MEDIA_COMPLETE, data);\r\n        _instreamItemNext.call(this, e);\r\n    }\r\n\r\n    function _instreamItemNext(e) {\r\n        if (_array && _arrayIndex + 1 < _array.length) {\r\n            _loadNextItem();\r\n        } else {\r\n            // notify vast of breakEnd\r\n            this.trigger('adBreakEnd', {});\r\n            if (e.type === MEDIA_COMPLETE) {\r\n                // Dispatch playlist complete event for ad pods\r\n                this.trigger(PLAYLIST_COMPLETE, {});\r\n            }\r\n            this.destroy();\r\n        }\r\n    }\r\n\r\n    this.loadItem = function(item, options) {\r\n        if (!_instream) {\r\n            return;\r\n        }\r\n        if (OS.android && OS.version.major === 2 && OS.version.minor === 3) {\r\n            this.trigger({\r\n                type: ERROR,\r\n                message: 'Error loading instream: Cannot play instream on Android 2.3'\r\n            });\r\n            return;\r\n        }\r\n        // Copy the playlist item passed in and make sure it's formatted as a proper playlist item\r\n        let playlist = item;\r\n        if (_.isArray(item)) {\r\n            _array = item;\r\n            _arrayOptions = options;\r\n            item = _array[_arrayIndex];\r\n            if (_arrayOptions) {\r\n                options = _arrayOptions[_arrayIndex];\r\n            }\r\n        } else {\r\n            playlist = [item];\r\n        }\r\n\r\n        const adModel = _instream._adModel;\r\n        adModel.set('playlist', playlist);\r\n\r\n        _model.set('hideAdsControls', false);\r\n\r\n        // Dispatch playlist item event for ad pods\r\n        _this.trigger(PLAYLIST_ITEM, {\r\n            index: _arrayIndex,\r\n            item: item\r\n        });\r\n\r\n        _options = Object.assign({}, _defaultOptions, options);\r\n\r\n        _this.addClickHandler();\r\n\r\n        adModel.set('skipButton', false);\r\n\r\n        const playPromise = _instream.load(item);\r\n\r\n        const skipoffset = item.skipoffset || _options.skipoffset;\r\n        if (skipoffset) {\r\n            _this.setupSkipButton(skipoffset, _options);\r\n        }\r\n\r\n        return playPromise;\r\n    };\r\n\r\n    this.setupSkipButton = function(skipoffset, options, customNext) {\r\n        const adModel = _instream._adModel;\r\n        if (customNext) {\r\n            _skipAd = customNext;\r\n        } else {\r\n            _skipAd = _instreamItemNext;\r\n        }\r\n        adModel.set('skipMessage', options.skipMessage);\r\n        adModel.set('skipText', options.skipText);\r\n        adModel.set('skipOffset', skipoffset);\r\n        adModel.set('skipButton', false);\r\n        adModel.set('skipButton', true);\r\n    };\r\n\r\n    this.applyProviderListeners = function(provider) {\r\n        _instream.applyProviderListeners(provider);\r\n\r\n        this.addClickHandler();\r\n    };\r\n\r\n    this.play = function() {\r\n        _instream.instreamPlay();\r\n    };\r\n\r\n    this.pause = function() {\r\n        _instream.instreamPause();\r\n    };\r\n\r\n    this.addClickHandler = function() {\r\n        // start listening for ad click\r\n        if (_view.clickHandler()) {\r\n            _view.clickHandler().setAlternateClickHandlers(_clickHandler, _doubleClickHandler);\r\n        }\r\n\r\n        if (_instream) {\r\n            _instream.on(MEDIA_META, this.metaHandler, this);\r\n        }\r\n    };\r\n\r\n    this.skipAd = function(evt) {\r\n        var skipAdType = AD_SKIPPED;\r\n        this.trigger(skipAdType, evt);\r\n        _skipAd.call(this, {\r\n            type: skipAdType\r\n        });\r\n    };\r\n\r\n    /** Handle the MEDIA_META event **/\r\n    this.metaHandler = function (evt) {\r\n        // If we're getting video dimension metadata from the provider, allow the view to resize the media\r\n        if (evt.width && evt.height) {\r\n            _view.resizeMedia();\r\n        }\r\n    };\r\n\r\n    this.replacePlaylistItem = function(item) {\r\n        _model.set('playlistItem', item);\r\n    };\r\n\r\n    this.destroy = function() {\r\n        this.off();\r\n\r\n        _model.set('adModel', null);\r\n\r\n        if (_view.clickHandler()) {\r\n            _view.clickHandler().revertAlternateClickHandlers();\r\n        }\r\n\r\n        if (_instream) {\r\n            // Sync player state with ad for model \"change:state\" events to trigger\r\n            if (_instream._adModel) {\r\n                const adState = _instream._adModel.get('state');\r\n                _model.attributes.state = adState;\r\n            }\r\n\r\n            _model.off(null, null, _instream);\r\n            _instream.off(null, null, _this);\r\n            _instream.instreamDestroy();\r\n\r\n            // Must happen after instream.instreamDestroy()\r\n            _view.destroyInstream();\r\n\r\n            _instream = null;\r\n\r\n            // Player was destroyed\r\n            if (_model.attributes._destroyed) {\r\n                return;\r\n            }\r\n\r\n            // Re-attach the controller\r\n            _controller.attachMedia();\r\n\r\n            if (_oldpos === null) {\r\n                _model.stopVideo();\r\n            } else {\r\n                const mediaModelContext = _model.mediaModel;\r\n                const item = Object.assign({}, _olditem);\r\n                item.starttime = _oldpos;\r\n                _model.attributes.playlistItem = item;\r\n                _model.playVideo().catch(function(error) {\r\n                    if (mediaModelContext === _model.mediaModel) {\r\n                        _model.mediaController.trigger('error', {\r\n                            message: error.message\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    };\r\n\r\n    this.getState = function() {\r\n        if (_instream && _instream._adModel) {\r\n            return _instream._adModel.get('state');\r\n        }\r\n        // api expects false to know we aren't in instreamMode\r\n        return false;\r\n    };\r\n\r\n    this.setText = function(text) {\r\n        _view.setAltText(text ? text : '');\r\n    };\r\n\r\n    // This method is triggered by plugins which want to hide player controls\r\n    this.hide = function() {\r\n        _model.set('hideAdsControls', true);\r\n    };\r\n\r\n};\r\n\r\nObject.assign(InstreamAdapter.prototype, Events);\r\n\r\nexport default InstreamAdapter;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/controller/instream-adapter.js","import { STATE_PAUSED, STATE_PLAYING, ERROR, FULLSCREEN,\r\n    PLAYER_STATE, MEDIA_COMPLETE } from 'events/events';\r\nimport { OS } from 'environment/environment';\r\nimport Events from 'utils/backbone.events';\r\nimport changeStateEvent from 'events/change-state-event';\r\nimport Model from 'controller/model';\r\n\r\nconst InstreamHtml5 = function(_controller, _model) {\r\n    var _adModel;\r\n    var _currentProvider;\r\n    var _this = Object.assign(this, Events);\r\n\r\n    // Listen for player resize events\r\n    _controller.on(FULLSCREEN, function(data) {\r\n        this.trigger(FULLSCREEN, data);\r\n    }, _this);\r\n\r\n    /** ***************************************\r\n     *****  Public instream API methods  *****\r\n     *****************************************/\r\n\r\n    this.init = function(mediaElement) {\r\n        // Initialize the instream player's model copied from main player's model\r\n        const playerAttributes = _model.attributes;\r\n        const mediaModelContext = _model.mediaModel;\r\n        _adModel = new Model().setup({\r\n            id: playerAttributes.id,\r\n            volume: playerAttributes.volume,\r\n            fullscreen: playerAttributes.fullscreen,\r\n            instreamMode: true,\r\n            edition: playerAttributes.edition,\r\n            mediaContext: mediaModelContext,\r\n            mediaElement: mediaElement,\r\n            mediaSrc: mediaElement.src,\r\n            mute: playerAttributes.mute || playerAttributes.autostartMuted,\r\n            autostartMuted: playerAttributes.autostartMuted,\r\n            autostart: playerAttributes.autostart,\r\n            advertising: playerAttributes.advertising,\r\n            sdkplatform: playerAttributes.sdkplatform,\r\n            skipButton: false\r\n        });\r\n        if (!OS.mobile) {\r\n            _adModel.set('mediaContainer', _model.get('mediaContainer'));\r\n        }\r\n        _adModel.on('fullscreenchange', _nativeFullscreenHandler);\r\n        _adModel.on('change:state', changeStateEvent, _this);\r\n        _adModel.on(ERROR, function(data) {\r\n            _this.trigger(ERROR, data);\r\n        }, _this);\r\n        // Listen to media element for events that indicate src was reset or load() was called\r\n        _this.srcReset = function() {\r\n            mediaModelContext.srcReset();\r\n        };\r\n        mediaElement.addEventListener('abort', _this.srcReset);\r\n        mediaElement.addEventListener('emptied', _this.srcReset);\r\n        this._adModel = _adModel;\r\n    };\r\n\r\n    /** Load an instream item and initialize playback **/\r\n    _this.load = function() {\r\n        // Let the player media model know we're using it's video tag\r\n        _this.srcReset();\r\n\r\n        // Make sure it chooses a provider\r\n        _adModel.stopVideo();\r\n        _adModel.setItemIndex(0).then(() => {\r\n            if (!_adModel) {\r\n                return;\r\n            }\r\n            _checkProvider(_adModel.getVideo());\r\n        });\r\n        _checkProvider();\r\n\r\n        // Load the instream item\r\n        return _adModel.playVideo();\r\n    };\r\n\r\n    _this.applyProviderListeners = function(provider) {\r\n        // check provider after item change\r\n        _checkProvider(provider);\r\n\r\n        if (!provider) {\r\n            return;\r\n        }\r\n\r\n        // Match the main player's controls state\r\n        provider.off(ERROR);\r\n        provider.on(ERROR, function(data) {\r\n            this.trigger(ERROR, data);\r\n        }, _this);\r\n        _model.on('change:volume', function(data, value) {\r\n            provider.volume(value);\r\n        }, _this);\r\n        _model.on('change:mute', function(data, value) {\r\n            provider.mute(value);\r\n        }, _this);\r\n        _model.on('change:autostartMuted', function(data, value) {\r\n            if (!value) {\r\n                provider.mute(_model.get('mute'));\r\n            }\r\n        }, _this);\r\n    };\r\n\r\n    /** Stop the instream playback and revert the main player back to its original state **/\r\n    this.instreamDestroy = function() {\r\n        if (!_adModel) {\r\n            return;\r\n        }\r\n\r\n        _adModel.off();\r\n        if (_adModel.mediaModel) {\r\n            _adModel.mediaModel.off();\r\n        }\r\n\r\n        // We don't want the instream provider to be attached to the video tag anymore\r\n        this.off();\r\n        if (_currentProvider) {\r\n            _currentProvider.detachMedia();\r\n            _currentProvider.off();\r\n            if (_adModel.getVideo()) {\r\n                _currentProvider.destroy();\r\n            }\r\n        }\r\n\r\n        const mediaElement = _adModel.get('mediaElement');\r\n        mediaElement.removeEventListener('abort', _this.srcReset);\r\n        mediaElement.removeEventListener('emptied', _this.srcReset);\r\n\r\n        // Reset the player media model if the src was changed externally\r\n        const srcChanged = mediaElement.src !== _adModel.get('mediaSrc');\r\n        if (srcChanged) {\r\n            _model.mediaModel.srcReset();\r\n        }\r\n\r\n        // Return the view to its normal state\r\n        _adModel = null;\r\n\r\n        // Remove all callbacks for 'this' for all events\r\n        _controller.off(null, null, this);\r\n        _controller = null;\r\n    };\r\n\r\n    /** Start instream playback **/\r\n    _this.instreamPlay = function() {\r\n        if (!_adModel.getVideo()) {\r\n            return;\r\n        }\r\n        _adModel.getVideo().play();\r\n    };\r\n\r\n    /** Pause instream playback **/\r\n    _this.instreamPause = function() {\r\n        if (!_adModel.getVideo()) {\r\n            return;\r\n        }\r\n        _adModel.getVideo().pause();\r\n    };\r\n\r\n\r\n    /** ***************************\r\n     ****** Private methods ******\r\n     *****************************/\r\n\r\n    function _checkProvider(pseudoProvider) {\r\n        const provider = pseudoProvider || _adModel.getVideo();\r\n\r\n        // Clear current provider when applyProviderListeners(null) is called\r\n        _currentProvider = provider;\r\n\r\n        if (!provider) {\r\n            return;\r\n        }\r\n\r\n        var isVpaidProvider = provider.type === 'vpaid';\r\n\r\n        provider.off();\r\n        provider.on('all', function(type, data) {\r\n            if (isVpaidProvider && (type === MEDIA_COMPLETE)) {\r\n                return;\r\n            }\r\n            this.trigger(type, Object.assign({}, data, { type: type }));\r\n        }, _this);\r\n\r\n        const adMediaModelContext = _adModel.mediaModel;\r\n        provider.on(PLAYER_STATE, (event) => {\r\n            adMediaModelContext.set(PLAYER_STATE, event.newstate);\r\n        });\r\n        adMediaModelContext.on('change:' + PLAYER_STATE, (changeAdModel, state) => {\r\n            stateHandler(state);\r\n        });\r\n        provider.attachMedia();\r\n        provider.volume(_model.get('volume'));\r\n        provider.mute(_model.get('mute') || _model.get('autostartMuted'));\r\n        if (provider.setPlaybackRate) {\r\n            provider.setPlaybackRate(1);\r\n        }\r\n    }\r\n\r\n    function stateHandler(state) {\r\n        switch (state) {\r\n            case STATE_PLAYING:\r\n            case STATE_PAUSED:\r\n                _adModel.set(PLAYER_STATE, state);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n\r\n    function _nativeFullscreenHandler(evt) {\r\n        _model.trigger(evt.type, evt);\r\n        _this.trigger(FULLSCREEN, {\r\n            fullscreen: evt.jwstate\r\n        });\r\n    }\r\n\r\n    return _this;\r\n};\r\n\r\nexport default InstreamHtml5;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/controller/instream-html5.js","import { PLAYLIST_ITEM, MEDIA_PLAY_ATTEMPT, PROVIDER_FIRST_FRAME, MEDIA_TIME, MEDIA_FIRST_FRAME } from 'events/events';\r\nimport Timer from 'api/timer';\r\n\r\nconst TAB_HIDDEN = 'tabHidden';\r\nconst TAB_VISIBLE = 'tabVisible';\r\n\r\n// This is to provide a first frame event even when\r\n//  a provider does not give us one.\r\nconst onTimeIncreasesGenerator = (function(callback) {\r\n    let lastVal = 0;\r\n    return function (evt) {\r\n        const pos = evt.position;\r\n        if (pos > lastVal) {\r\n            callback();\r\n        }\r\n        // sometimes the number will wrap around (ie 100 down to 0)\r\n        //  so always update\r\n        lastVal = pos;\r\n    };\r\n});\r\n\r\nfunction unbindFirstFrameEvents(model) {\r\n    model.mediaController.off(MEDIA_PLAY_ATTEMPT, model._onPlayAttempt);\r\n    model.mediaController.off(PROVIDER_FIRST_FRAME, model._triggerFirstFrame);\r\n    model.mediaController.off(MEDIA_TIME, model._onTime);\r\n    model.off('change:activeTab', model._onTabVisible);\r\n}\r\n\r\nfunction trackFirstFrame(model) {\r\n    if (model._onTabVisible) {\r\n        unbindFirstFrameEvents(model);\r\n    }\r\n\r\n    // When it occurs, send the event, and unbind all listeners\r\n    let once = false;\r\n    model._triggerFirstFrame = function() {\r\n        if (once) {\r\n            return;\r\n        }\r\n        once = true;\r\n        const qoeItem = model._qoeItem;\r\n        qoeItem.tick(MEDIA_FIRST_FRAME);\r\n\r\n        const time = qoeItem.getFirstFrame();\r\n        model.mediaController.trigger(MEDIA_FIRST_FRAME, { loadTime: time });\r\n        unbindFirstFrameEvents(model);\r\n    };\r\n\r\n    model._onTime = onTimeIncreasesGenerator(model._triggerFirstFrame);\r\n\r\n    model._onPlayAttempt = function() {\r\n        model._qoeItem.tick(MEDIA_PLAY_ATTEMPT);\r\n    };\r\n\r\n    // track visibility change\r\n    model._onTabVisible = function(modelChanged, activeTab) {\r\n        if (activeTab) {\r\n            model._qoeItem.tick(TAB_VISIBLE);\r\n        } else {\r\n            model._qoeItem.tick(TAB_HIDDEN);\r\n        }\r\n    };\r\n\r\n    model.on('change:activeTab', model._onTabVisible);\r\n    model.mediaController.on(MEDIA_PLAY_ATTEMPT, model._onPlayAttempt);\r\n    model.mediaController.once(PROVIDER_FIRST_FRAME, model._triggerFirstFrame);\r\n    model.mediaController.on(MEDIA_TIME, model._onTime);\r\n}\r\n\r\nconst initQoe = function(initialModel) {\r\n    function onMediaModel(model, mediaModel, oldMediaModel) {\r\n        // finish previous item\r\n        if (model._qoeItem && oldMediaModel) {\r\n            model._qoeItem.end(oldMediaModel.get('state'));\r\n        }\r\n        // reset item level qoe\r\n        model._qoeItem = new Timer();\r\n        model._qoeItem.getFirstFrame = function() {\r\n            const time = this.between(MEDIA_PLAY_ATTEMPT, MEDIA_FIRST_FRAME);\r\n            // If time between the tab becoming visible and first frame is valid\r\n            // and less than the time since play attempt, play was not attempted until the tab became visible\r\n            const timeActive = this.between(TAB_VISIBLE, MEDIA_FIRST_FRAME);\r\n            if (timeActive > 0 && timeActive < time) {\r\n                return timeActive;\r\n            }\r\n            return time;\r\n        };\r\n        model._qoeItem.tick(PLAYLIST_ITEM);\r\n        model._qoeItem.start(mediaModel.get('state'));\r\n\r\n        trackFirstFrame(model);\r\n\r\n        mediaModel.on('change:state', function (changeMediaModel, newstate, oldstate) {\r\n            if (newstate !== oldstate) {\r\n                model._qoeItem.end(oldstate);\r\n                model._qoeItem.start(newstate);\r\n            }\r\n        });\r\n    }\r\n\r\n    initialModel.on('change:mediaModel', onMediaModel);\r\n};\r\n\r\nexport default initQoe;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/controller/qoe.js","import { Browser } from 'environment/environment';\r\nimport { STATE_BUFFERING, STATE_PAUSED, STATE_PLAYING, PLAYER_STATE, MEDIA_COMPLETE, MEDIA_TIME, MEDIA_ERROR } from 'events/events';\r\nimport Events from 'utils/backbone.events';\r\nimport Model from 'controller/model';\r\nimport changeStateEvent from 'events/change-state-event';\r\nimport { resolved } from 'polyfills/promise';\r\n\r\nconst InstreamFlash = function(_controller, _model) {\r\n    this.model = _model;\r\n\r\n    this._adModel = new Model().setup({\r\n        id: _model.get('id'),\r\n        volume: _model.get('volume'),\r\n        fullscreen: _model.get('fullscreen'),\r\n        mute: _model.get('mute')\r\n    });\r\n\r\n    this._adModel.on('change:state', changeStateEvent, this);\r\n\r\n    var container = _controller.getContainer();\r\n    this.swf = container.querySelector('object');\r\n};\r\n\r\nObject.assign(InstreamFlash.prototype, {\r\n\r\n    init: function() {\r\n        // Pause playback when throttled, and only resume is paused here\r\n        if (Browser.chrome) {\r\n            var _throttleTimeout = -1;\r\n            var _throttlePaused = false;\r\n            this.swf.on('throttle', function(e) {\r\n                clearTimeout(_throttleTimeout);\r\n\r\n                if (e.state === 'resume') {\r\n                    if (_throttlePaused) {\r\n                        _throttlePaused = false;\r\n                        this.instreamPlay();\r\n                    }\r\n                } else {\r\n                    var _this = this;\r\n                    _throttleTimeout = setTimeout(function () {\r\n                        if (_this._adModel.get('state') === STATE_PLAYING) {\r\n                            _throttlePaused = true;\r\n                            _this.instreamPause();\r\n                        }\r\n                    }, 250);\r\n                }\r\n            }, this);\r\n        }\r\n\r\n        this.swf.on('instream:state', this.stateHandler, this)\r\n            .on('instream:time', function(evt) {\r\n                this._adModel.set('position', evt.position);\r\n                this._adModel.set('duration', evt.duration);\r\n                this.trigger(MEDIA_TIME, evt);\r\n            }, this)\r\n            .on('instream:complete', function(evt) {\r\n                this.trigger(MEDIA_COMPLETE, evt);\r\n            }, this)\r\n            .on('instream:error', function(evt) {\r\n                this.trigger(MEDIA_ERROR, evt);\r\n            }, this);\r\n\r\n        this.swf.triggerFlash('instream:init');\r\n\r\n        this.applyProviderListeners = function(provider) {\r\n            if (!provider) {\r\n                return;\r\n            }\r\n            this.model.on('change:volume', function(data, value) {\r\n                provider.volume(value);\r\n            }, this);\r\n            this.model.on('change:mute', function(data, value) {\r\n                provider.mute(value);\r\n            }, this);\r\n\r\n            provider.volume(this.model.get('volume'));\r\n            provider.mute(this.model.get('mute'));\r\n\r\n            // update admodel state when set from googima\r\n            provider.off();\r\n            provider.on(PLAYER_STATE, this.stateHandler, this);\r\n\r\n            // trigger time evemt when sent from freewheel\r\n            provider.on(MEDIA_TIME, function(data) {\r\n                this.trigger(MEDIA_TIME, data);\r\n            }, this);\r\n        };\r\n    },\r\n\r\n    stateHandler: function(evt) {\r\n        switch (evt.newstate) {\r\n            case STATE_PLAYING:\r\n            case STATE_PAUSED:\r\n                this._adModel.set('state', evt.newstate);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    },\r\n\r\n    instreamDestroy: function() {\r\n        if (!this._adModel) {\r\n            return;\r\n        }\r\n\r\n        this.off();\r\n\r\n        this.swf.off(null, null, this);\r\n        this.swf.triggerFlash('instream:destroy');\r\n        this.swf = null;\r\n\r\n        this._adModel.off();\r\n        this._adModel = null;\r\n\r\n        this.model = null;\r\n    },\r\n\r\n    load: function(item) {\r\n        this._adModel.set('state', STATE_BUFFERING);\r\n        // Show the instream layer\r\n        this.swf.triggerFlash('instream:load', item);\r\n        return resolved;\r\n    },\r\n\r\n    instreamPlay: function() {\r\n        this.swf.triggerFlash('instream:play');\r\n    },\r\n\r\n    instreamPause: function() {\r\n        this.swf.triggerFlash('instream:pause');\r\n    }\r\n\r\n}, Events);\r\n\r\nexport default InstreamFlash;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/controller/instream-flash.js","import { loadFile } from 'controller/tracks-loader';\r\nimport { createId, createLabel } from 'controller/tracks-helper';\r\nimport Events from 'utils/backbone.events';\r\nimport { ERROR } from 'events/events';\r\n\r\n\r\n/** Displays closed captions or subtitles on top of the video. **/\r\nconst Captions = function(_model) {\r\n\r\n    // Reset and load external captions on playlist item\r\n    _model.on('change:playlistItem', _itemHandler, this);\r\n\r\n    // Listen for captions menu index changes from the view\r\n    _model.on('change:captionsIndex', _captionsIndexHandler, this);\r\n\r\n    // Listen for item ready to determine which provider is in use\r\n    _model.on('itemReady', _itemReadyHandler, this);\r\n\r\n    // Listen for provider subtitle tracks\r\n    //   ignoring provider \"subtitlesTrackChanged\" since index should be managed here\r\n    _model.mediaController.on('subtitlesTracks', _subtitlesTracksHandler, this);\r\n\r\n    function _subtitlesTracksHandler(e) {\r\n        if (!e.tracks.length) {\r\n            return;\r\n        }\r\n\r\n        const tracks = e.tracks || [];\r\n        for (let i = 0; i < tracks.length; i++) {\r\n            _addTrack(tracks[i]);\r\n        }\r\n\r\n        // To avoid duplicate tracks in the menu when we reuse an _id, regenerate the tracks array\r\n        _tracks = Object.keys(_tracksById).map(id => _tracksById[id]);\r\n\r\n        const captionsMenu = _captionsMenu();\r\n        _selectDefaultIndex();\r\n        this.setCaptionsList(captionsMenu);\r\n    }\r\n\r\n    let _tracks = [];\r\n    let _tracksById = {};\r\n    let _unknownCount = 0;\r\n\r\n    /** Listen to playlist item updates. **/\r\n    function _itemHandler() {\r\n        _tracks = [];\r\n        _tracksById = {};\r\n        _unknownCount = 0;\r\n    }\r\n\r\n    function _itemReadyHandler(item) {\r\n        // Clean up in case we're replaying\r\n        _itemHandler(_model, item);\r\n\r\n        const tracks = item.tracks;\r\n        const len = tracks && tracks.length;\r\n\r\n        // Sideload tracks when not rendering natively\r\n        if (!_model.get('renderCaptionsNatively') && len) {\r\n            for (let i = 0; i < len; i++) {\r\n                /* eslint-disable no-loop-func */\r\n                const track = tracks[i];\r\n                if (_kindSupported(track.kind) && !_tracksById[track._id]) {\r\n                    _addTrack(track);\r\n                    loadFile(track,\r\n                        (vttCues) => {\r\n                            _addVTTCuesToTrack(track, vttCues);\r\n                        },\r\n                        (error) => {\r\n                            this.trigger(ERROR, {\r\n                                message: 'Captions failed to load',\r\n                                reason: error\r\n                            });\r\n                        });\r\n                }\r\n            }\r\n        }\r\n\r\n        const captionsMenu = _captionsMenu();\r\n        _selectDefaultIndex();\r\n        this.setCaptionsList(captionsMenu);\r\n    }\r\n\r\n    function _kindSupported(kind) {\r\n        return kind === 'subtitles' || kind === 'captions';\r\n    }\r\n\r\n    function _addVTTCuesToTrack(track, vttCues) {\r\n        track.data = vttCues;\r\n    }\r\n\r\n    function _captionsIndexHandler(model, captionsMenuIndex) {\r\n        let track = null;\r\n        if (captionsMenuIndex !== 0) {\r\n            track = _tracks[captionsMenuIndex - 1];\r\n        }\r\n        model.set('captionsTrack', track);\r\n    }\r\n\r\n    function _addTrack(track) {\r\n        track.data = track.data || [];\r\n        track.name = track.label || track.name || track.language;\r\n        track._id = createId(track, _tracks.length);\r\n\r\n        if (!track.name) {\r\n            const labelInfo = createLabel(track, _unknownCount);\r\n            track.name = labelInfo.label;\r\n            _unknownCount = labelInfo.unknownCount;\r\n        }\r\n\r\n        // During the same playlist we may reu and readd tracks with the same _id; allow the new track to replace the old\r\n        _tracksById[track._id] = track;\r\n        _tracks.push(track);\r\n    }\r\n\r\n    function _captionsMenu() {\r\n        const list = [{\r\n            id: 'off',\r\n            label: 'Off'\r\n        }];\r\n        for (let i = 0; i < _tracks.length; i++) {\r\n            list.push({\r\n                id: _tracks[i]._id,\r\n                label: _tracks[i].name || 'Unknown CC'\r\n            });\r\n        }\r\n        return list;\r\n    }\r\n\r\n    function _selectDefaultIndex() {\r\n        let captionsMenuIndex = 0;\r\n        const label = _model.get('captionLabel');\r\n\r\n        // Because there is no explicit track for \"Off\"\r\n        //  it is the implied zeroth track\r\n        if (label === 'Off') {\r\n            _model.set('captionsIndex', 0);\r\n            return;\r\n        }\r\n\r\n        for (let i = 0; i < _tracks.length; i++) {\r\n            const track = _tracks[i];\r\n            if (label && label === track.name) {\r\n                captionsMenuIndex = i + 1;\r\n                break;\r\n            } else if (track.default || track.defaulttrack || track._id === 'default') {\r\n                captionsMenuIndex = i + 1;\r\n            } else if (track.autoselect) {\r\n                // TODO: auto select track by comparing track.language to system lang\r\n            }\r\n        }\r\n        // set the index without the side effect of storing the Off label in _selectCaptions\r\n        _setCurrentIndex(captionsMenuIndex);\r\n    }\r\n\r\n    function _setCurrentIndex (index) {\r\n        if (_tracks.length) {\r\n            _model.setVideoSubtitleTrack(index, _tracks);\r\n        } else {\r\n            _model.set('captionsIndex', index);\r\n        }\r\n    }\r\n\r\n    this.getCurrentIndex = function() {\r\n        return _model.get('captionsIndex');\r\n    };\r\n\r\n    this.getCaptionsList = function() {\r\n        return _model.get('captionsList');\r\n    };\r\n\r\n    this.setCaptionsList = function(captionsMenu) {\r\n        _model.set('captionsList', captionsMenu);\r\n    };\r\n\r\n    this.destroy = function() {\r\n        this.off(null, null, this);\r\n    };\r\n};\r\n\r\nObject.assign(Captions.prototype, Events);\r\n\r\nexport default Captions;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/controller/captions.js","import playerTemplate from 'templates/player';\r\nimport ErrorContainer from 'view/error-container';\r\nimport { isAudioMode, CONTROLBAR_ONLY_HEIGHT } from 'view/utils/audio-mode';\r\nimport viewsManager from 'view/utils/views-manager';\r\nimport getVisibility from 'view/utils/visibility';\r\nimport activeTab from 'utils/active-tab';\r\nimport { requestAnimationFrame, cancelAnimationFrame } from 'utils/request-animation-frame';\r\nimport { getBreakpoint, setBreakpoint } from 'view/utils/breakpoint';\r\nimport { normalizeSkin, handleColorOverrides } from 'view/utils/skin';\r\nimport { Browser, OS, Features } from 'environment/environment';\r\nimport * as ControlsLoader from 'controller/controls-loader';\r\nimport { STATE_BUFFERING, STATE_IDLE, STATE_COMPLETE, STATE_PAUSED, STATE_PLAYING, STATE_ERROR, RESIZE, BREAKPOINT,\r\n    DISPLAY_CLICK, LOGO_CLICK, ERROR } from 'events/events';\r\nimport Events from 'utils/backbone.events';\r\nimport {\r\n    addClass,\r\n    hasClass,\r\n    removeClass,\r\n    replaceClass,\r\n    toggleClass,\r\n    createElement,\r\n    bounds,\r\n} from 'utils/dom';\r\nimport {\r\n    clearCss,\r\n    style,\r\n} from 'utils/css';\r\nimport _ from 'utils/underscore';\r\nimport requestFullscreenHelper from 'view/utils/request-fullscreen-helper';\r\nimport flagNoFocus from 'view/utils/flag-no-focus';\r\nimport ClickHandler from 'view/utils/clickhandler';\r\nimport CaptionsRenderer from 'view/captionsrenderer';\r\nimport Logo from 'view/logo';\r\nimport Preview from 'view/preview';\r\nimport Title from 'view/title';\r\n\r\nrequire('css/jwplayer.less');\r\n\r\nlet ControlsModule;\r\n\r\nconst _isMobile = OS.mobile;\r\nconst _isIE = Browser.ie;\r\n\r\nfunction View(_api, _model) {\r\n    const _this = Object.assign(this, Events, {\r\n        isSetup: false,\r\n        api: _api,\r\n        model: _model\r\n    });\r\n\r\n    // init/reset view model properties\r\n    Object.assign(_model.attributes, {\r\n        containerWidth: undefined,\r\n        containerHeight: undefined,\r\n        mediaContainer: undefined,\r\n        fullscreen: false,\r\n        inDom: undefined,\r\n        iFrame: undefined,\r\n        activeTab: undefined,\r\n        intersectionRatio: undefined,\r\n        visibility: undefined,\r\n        viewable: undefined,\r\n        viewSetup: false,\r\n        audioMode: undefined,\r\n        touchMode: undefined,\r\n        altText: '',\r\n        cues: undefined,\r\n        castClicked: false,\r\n        scrubbing: false,\r\n        logoWidth: 0,\r\n    });\r\n\r\n    const _playerElement = createElement(playerTemplate(_model.get('id'), _model.get('localization').player));\r\n    const _videoLayer = _playerElement.querySelector('.jw-media');\r\n\r\n    const _preview = new Preview(_model);\r\n    const _title = new Title(_model);\r\n\r\n    let _captionsRenderer = new CaptionsRenderer(_model);\r\n    _captionsRenderer.on('all', _this.trigger, _this);\r\n\r\n    let _logo;\r\n\r\n    let _playerState;\r\n\r\n    let _lastWidth;\r\n    let _lastHeight;\r\n\r\n    let _instreamModel;\r\n\r\n    let _resizeMediaTimeout = -1;\r\n    let _resizeContainerRequestId = -1;\r\n    let _stateClassRequestId = -1;\r\n\r\n    let displayClickHandler;\r\n    let fullscreenHelpers;\r\n    let focusHelper;\r\n\r\n    let _breakpoint = null;\r\n    let _controls;\r\n\r\n    function reasonInteraction() {\r\n        return { reason: 'interaction' };\r\n    }\r\n\r\n    this.updateBounds = function () {\r\n        cancelAnimationFrame(_resizeContainerRequestId);\r\n        const inDOM = document.body.contains(_playerElement);\r\n        const rect = bounds(_playerElement);\r\n        const containerWidth = Math.round(rect.width);\r\n        const containerHeight = Math.round(rect.height);\r\n\r\n        // If the container is the same size as before, return early\r\n        if (containerWidth === _lastWidth && containerHeight === _lastHeight) {\r\n            // Listen for player to be added to DOM\r\n            if (!_lastWidth || !_lastHeight) {\r\n                _responsiveListener();\r\n            }\r\n            _model.set('inDom', inDOM);\r\n            return;\r\n        }\r\n        // If we have bad values for either dimension, return early\r\n        if (!containerWidth || !containerHeight) {\r\n            // If we haven't established player size, try again\r\n            if (!_lastWidth || !_lastHeight) {\r\n                _responsiveListener();\r\n            }\r\n        }\r\n\r\n        // Don't update container dimensions to 0, 0 when not in DOM\r\n        if (containerWidth || containerHeight || inDOM) {\r\n            _model.set('containerWidth', containerWidth);\r\n            _model.set('containerHeight', containerHeight);\r\n        }\r\n        _model.set('inDom', inDOM);\r\n\r\n        if (inDOM) {\r\n            viewsManager.observe(_playerElement);\r\n        }\r\n    };\r\n\r\n    this.updateStyles = function() {\r\n        const containerWidth = _model.get('containerWidth');\r\n        const containerHeight = _model.get('containerHeight');\r\n\r\n        if (_model.get('controls')) {\r\n            updateContainerStyles(containerWidth, containerHeight);\r\n        }\r\n\r\n        if (_controls) {\r\n            _controls.resize(containerWidth, containerHeight);\r\n        }\r\n\r\n        _resizeMedia(containerWidth, containerHeight);\r\n        _captionsRenderer.resize();\r\n    };\r\n\r\n    this.checkResized = function() {\r\n        const containerWidth = _model.get('containerWidth');\r\n        const containerHeight = _model.get('containerHeight');\r\n        if (containerWidth !== _lastWidth || containerHeight !== _lastHeight) {\r\n            _lastWidth = containerWidth;\r\n            _lastHeight = containerHeight;\r\n            _this.trigger(RESIZE, {\r\n                width: containerWidth,\r\n                height: containerHeight\r\n            });\r\n            const breakpoint = getBreakpoint(containerWidth);\r\n            if (_breakpoint !== breakpoint) {\r\n                _breakpoint = breakpoint;\r\n                _this.trigger(BREAKPOINT, {\r\n                    breakpoint: _breakpoint\r\n                });\r\n            }\r\n        }\r\n    };\r\n\r\n    function _responsiveListener() {\r\n        cancelAnimationFrame(_resizeContainerRequestId);\r\n        _resizeContainerRequestId = requestAnimationFrame(_responsiveUpdate);\r\n    }\r\n\r\n    function _responsiveUpdate() {\r\n        if (!_this.isSetup) {\r\n            return;\r\n        }\r\n        _this.updateBounds();\r\n        _this.updateStyles();\r\n        _this.checkResized();\r\n    }\r\n\r\n    function updateContainerStyles(width, height) {\r\n        const audioMode = isAudioMode(_model);\r\n        // Set timeslider flags\r\n        if (_.isNumber(width) && _.isNumber(height)) {\r\n            const breakpoint = getBreakpoint(width);\r\n            setBreakpoint(_playerElement, breakpoint);\r\n\r\n            const smallPlayer = breakpoint < 2;\r\n            toggleClass(_playerElement, 'jw-flag-small-player', smallPlayer);\r\n            toggleClass(_playerElement, 'jw-orientation-portrait', (height > width));\r\n        }\r\n        toggleClass(_playerElement, 'jw-flag-audio-player', audioMode);\r\n        _model.set('audioMode', audioMode);\r\n    }\r\n\r\n    this.setup = function () {\r\n        _preview.setup(_playerElement.querySelector('.jw-preview'));\r\n        _title.setup(_playerElement.querySelector('.jw-title'));\r\n\r\n        _logo = new Logo(_model);\r\n        _logo.setup();\r\n        _logo.setContainer(_playerElement);\r\n        _logo.on(LOGO_CLICK, _logoClickHandler);\r\n\r\n        // captions rendering\r\n        _captionsRenderer.setup(_playerElement.id, _model.get('captions'));\r\n\r\n        // captions should be placed behind controls, and not hidden when controls are hidden\r\n        _playerElement.insertBefore(_captionsRenderer.element(), _title.element());\r\n\r\n        // Display Click and Double Click Handling\r\n        displayClickHandler = clickHandlerHelper(_api, _model, _videoLayer);\r\n\r\n        focusHelper = flagNoFocus(_playerElement);\r\n        fullscreenHelpers = requestFullscreenHelper(_playerElement, document, _fullscreenChangeHandler);\r\n\r\n        _model.on('change:errorEvent', _errorHandler);\r\n        _model.on('change:hideAdsControls', function (model, val) {\r\n            toggleClass(_playerElement, 'jw-flag-ads-hide-controls', val);\r\n        });\r\n        _model.on('change:scrubbing', function (model, val) {\r\n            toggleClass(_playerElement, 'jw-flag-dragging', val);\r\n        });\r\n        _model.on('change:playRejected', function (model, val) {\r\n            toggleClass(_playerElement, 'jw-flag-play-rejected', val);\r\n        });\r\n\r\n        // Native fullscreen (coming through from the provider)\r\n        _model.mediaController.on('fullscreenchange', _fullscreenChangeHandler);\r\n\r\n        _model.change('mediaModel', (model, mediaModel) => {\r\n            mediaModel.change('mediaType', _onMediaTypeChange, this);\r\n            mediaModel.on('change:visualQuality', () => {\r\n                _resizeMedia();\r\n            }, this);\r\n        });\r\n        _model.change('stretching', onStretchChange);\r\n        _model.change('flashBlocked', onFlashBlockedChange);\r\n\r\n        const width = _model.get('width');\r\n        const height = _model.get('height');\r\n        _resizePlayer(width, height);\r\n        _model.change('aspectratio', onAspectRatioChange);\r\n        if (_model.get('controls')) {\r\n            updateContainerStyles(width, height);\r\n        } else {\r\n            addClass(_playerElement, 'jw-flag-controls-hidden');\r\n        }\r\n\r\n        if (_isIE) {\r\n            addClass(_playerElement, 'jw-ie');\r\n        }\r\n\r\n        const skin = _model.get('skin') || {};\r\n\r\n        if (skin.name) {\r\n            replaceClass(_playerElement, /jw-skin-\\S+/, 'jw-skin-' + skin.name);\r\n        }\r\n\r\n        const skinColors = normalizeSkin(skin);\r\n        handleColorOverrides(_model.get('id'), skinColors);\r\n\r\n        // adds video tag to video layer\r\n        _model.set('mediaContainer', _videoLayer);\r\n        _model.set('iFrame', Features.iframe);\r\n        _model.set('activeTab', activeTab());\r\n        _model.set('touchMode', _isMobile && (typeof height === 'string' || height >= CONTROLBAR_ONLY_HEIGHT));\r\n\r\n        viewsManager.add(this);\r\n\r\n        this.isSetup = true;\r\n        _model.set('viewSetup', true);\r\n\r\n        const inDOM = document.body.contains(_playerElement);\r\n        if (inDOM) {\r\n            viewsManager.observe(_playerElement);\r\n        }\r\n        _model.set('inDom', inDOM);\r\n    };\r\n\r\n    function updateVisibility() {\r\n        _model.set('visibility', getVisibility(_model, _playerElement));\r\n    }\r\n\r\n    this.init = function() {\r\n        this.updateBounds();\r\n\r\n        _model.on('change:fullscreen', _fullscreen);\r\n        _model.on('change:activeTab', updateVisibility);\r\n        _model.on('change:fullscreen', updateVisibility);\r\n        _model.on('change:intersectionRatio', updateVisibility);\r\n        _model.on('change:visibility', redraw);\r\n\r\n        updateVisibility();\r\n\r\n        // Always draw first player for icons to load\r\n        if (viewsManager.size() === 1 && !_model.get('visibility')) {\r\n            redraw(_model, 1, 0);\r\n        }\r\n\r\n        _model.change('state', _stateHandler);\r\n        _model.change('controls', changeControls);\r\n        // Set the title attribute of the video tag to display background media information on mobile devices\r\n        if (_isMobile) {\r\n            setMediaTitleAttribute(_model.get('playlistItem'));\r\n            _model.on('itemReady', setMediaTitleAttribute);\r\n        }\r\n\r\n        // Triggering 'resize' resulting in player 'ready'\r\n        _lastWidth = _lastHeight = null;\r\n        this.checkResized();\r\n    };\r\n\r\n    function changeControls(model, enable) {\r\n        if (enable) {\r\n            ControlsModule = ControlsLoader.module.controls;\r\n            if (!ControlsModule) {\r\n                ControlsLoader.load()\r\n                    .then(function (Controls) {\r\n                        ControlsModule = Controls;\r\n                        addControls();\r\n                    })\r\n                    .catch(function (reason) {\r\n                        _this.trigger(ERROR, {\r\n                            message: 'Controls failed to load',\r\n                            reason: reason\r\n                        });\r\n                    });\r\n            } else {\r\n                addControls();\r\n            }\r\n        } else {\r\n            _this.removeControls();\r\n        }\r\n    }\r\n\r\n    function addControls() {\r\n        const controls = new ControlsModule(document, _this.element());\r\n        _this.addControls(controls);\r\n    }\r\n\r\n    function setMediaTitleAttribute(item) {\r\n        var videotag = _videoLayer.querySelector('video, audio');\r\n        // chromecast and flash providers do no support video tags\r\n        if (!videotag) {\r\n            return;\r\n        }\r\n\r\n        // Writing a string to innerHTML completely decodes multiple-encoded strings\r\n        const dummyDiv = document.createElement('div');\r\n        dummyDiv.innerHTML = item.title || '';\r\n        videotag.setAttribute('title', dummyDiv.textContent);\r\n    }\r\n\r\n    function redraw(model, visibility, lastVisibility) {\r\n        if (visibility && !lastVisibility) {\r\n            _stateHandler(_instreamModel || model);\r\n            _this.updateStyles();\r\n        }\r\n    }\r\n\r\n    function clickHandlerHelper(api, model, videoLayer) {\r\n        const clickHandler = new ClickHandler(model, videoLayer, { useHover: true });\r\n        const controls = _model.get('controls');\r\n        clickHandler.on({\r\n            click: () => {\r\n                _this.trigger(DISPLAY_CLICK);\r\n\r\n                if (_controls) {\r\n                    if (settingsMenuVisible()) {\r\n                        _controls.settingsMenu.close();\r\n                    } else {\r\n                        api.playToggle(reasonInteraction());\r\n                    }\r\n                }\r\n            },\r\n            tap: () => {\r\n                _this.trigger(DISPLAY_CLICK);\r\n                if (settingsMenuVisible()) {\r\n                    _controls.settingsMenu.close();\r\n                }\r\n                const state = model.get('state');\r\n\r\n                if (controls &&\r\n                    ((state === STATE_IDLE || state === STATE_COMPLETE) ||\r\n                    (_instreamModel && _instreamModel.get('state') === STATE_PAUSED))) {\r\n                    api.playToggle(reasonInteraction());\r\n                }\r\n\r\n                if (controls && state === STATE_PAUSED) {\r\n                    // Toggle visibility of the controls when tapping the media\r\n                    // Do not add mobile toggle \"jw-flag-controls-hidden\" in these cases\r\n                    if (_instreamModel ||\r\n                        model.get('castActive') ||\r\n                        (model.mediaModel && model.mediaModel.get('mediaType') === 'audio')) {\r\n                        return;\r\n                    }\r\n                    toggleClass(_playerElement, 'jw-flag-controls-hidden');\r\n                    _captionsRenderer.renderCues(true);\r\n                } else if (_controls) {\r\n                    if (!_controls.showing) {\r\n                        _controls.userActive();\r\n                    } else {\r\n                        _controls.userInactive();\r\n                    }\r\n                }\r\n            },\r\n            doubleClick: () => _controls && api.setFullscreen(),\r\n            move: () => _controls && _controls.userActive(),\r\n            over: () => _controls && _controls.userActive()\r\n        });\r\n\r\n        return clickHandler;\r\n    }\r\n\r\n    function onStretchChange(model, newVal) {\r\n        replaceClass(_playerElement, /jw-stretch-\\S+/, 'jw-stretch-' + newVal);\r\n    }\r\n\r\n    function onAspectRatioChange(model, aspectratio) {\r\n        toggleClass(_playerElement, 'jw-flag-aspect-mode', !!aspectratio);\r\n        const aspectRatioContainer = _playerElement.querySelector('.jw-aspect');\r\n        style(aspectRatioContainer, {\r\n            paddingTop: aspectratio || null\r\n        });\r\n    }\r\n\r\n    function onFlashBlockedChange(model, isBlocked) {\r\n        toggleClass(_playerElement, 'jw-flag-flash-blocked', isBlocked);\r\n    }\r\n\r\n    function _logoClickHandler(evt) {\r\n        if (!evt.link) {\r\n            if (_model.get('controls')) {\r\n                _api.playToggle(reasonInteraction());\r\n            }\r\n        } else {\r\n            _api.pause(reasonInteraction());\r\n            _api.setFullscreen(false);\r\n            window.open(evt.link, evt.linktarget);\r\n        }\r\n    }\r\n\r\n    const _onChangeControls = function (model, bool) {\r\n        if (bool) {\r\n            // ignore model that triggered this event and use current state model\r\n            _stateHandler(_instreamModel || _model);\r\n        }\r\n    };\r\n\r\n    this.addControls = function (controls) {\r\n        _controls = controls;\r\n\r\n        removeClass(_playerElement, 'jw-flag-controls-hidden');\r\n\r\n        _model.change('streamType', _setLiveMode, this);\r\n\r\n        controls.enable(_api, _model);\r\n        controls.addActiveListeners(_logo.element());\r\n\r\n        const logoContainer = controls.logoContainer();\r\n        if (logoContainer) {\r\n            _logo.setContainer(logoContainer);\r\n        }\r\n\r\n        // refresh breakpoint and timeslider classes\r\n        if (_lastHeight) {\r\n            updateContainerStyles(_lastWidth, _lastHeight);\r\n            controls.resize(_lastWidth, _lastHeight);\r\n            _captionsRenderer.renderCues(true);\r\n        }\r\n\r\n        controls.on('userActive userInactive', function() {\r\n            if (_playerState === STATE_PLAYING || _playerState === STATE_BUFFERING) {\r\n                _captionsRenderer.renderCues(true);\r\n            }\r\n        });\r\n\r\n        controls.on('all', _this.trigger, _this);\r\n\r\n        if (_instreamModel) {\r\n            _controls.setupInstream(_instreamModel);\r\n        }\r\n\r\n        const overlaysElement = _playerElement.querySelector('.jw-overlays');\r\n        overlaysElement.addEventListener('mousemove', _userActivityCallback);\r\n    };\r\n\r\n    this.removeControls = function () {\r\n        _logo.setContainer(_playerElement);\r\n\r\n        if (_controls) {\r\n            _controls.removeActiveListeners(_logo.element());\r\n            _controls.disable(_model);\r\n            _controls = null;\r\n        }\r\n\r\n        const overlay = document.querySelector('.jw-overlays');\r\n        if (overlay) {\r\n            overlay.removeEventListener('mousemove', _userActivityCallback);\r\n        }\r\n\r\n        addClass(_playerElement, 'jw-flag-controls-hidden');\r\n    };\r\n\r\n    // Perform the switch to fullscreen\r\n    const _fullscreen = function (model, state) {\r\n\r\n        // If it supports DOM fullscreen\r\n        const provider = _model.getVideo();\r\n\r\n        // Unmute the video so volume can be adjusted with native controls in fullscreen\r\n        if (state && _controls && _model.get('autostartMuted')) {\r\n            _controls.unmuteAutoplay(_api, _model);\r\n        }\r\n\r\n        if (fullscreenHelpers.supportsDomFullscreen()) {\r\n            if (state) {\r\n                fullscreenHelpers.requestFullscreen();\r\n            } else {\r\n                fullscreenHelpers.exitFullscreen();\r\n            }\r\n            _toggleDOMFullscreen(_playerElement, state);\r\n        } else if (_isIE) {\r\n            _toggleDOMFullscreen(_playerElement, state);\r\n        } else {\r\n            // else use native fullscreen\r\n            if (_instreamModel && _instreamModel.getVideo()) {\r\n                _instreamModel.getVideo().setFullscreen(state);\r\n            }\r\n            provider.setFullscreen(state);\r\n        }\r\n        // pass fullscreen state to Flash provider\r\n        // provider.getName() is the same as _api.getProvider() or _model.get('provider')\r\n        if (provider && provider.getName().name.indexOf('flash') === 0) {\r\n            provider.setFullscreen(state);\r\n        }\r\n    };\r\n\r\n    function _resizePlayer(playerWidth, playerHeight, resetAspectMode) {\r\n        const widthSet = playerWidth !== undefined;\r\n        const heightSet = playerHeight !== undefined;\r\n        const playerStyle = {\r\n            width: playerWidth\r\n        };\r\n\r\n        // when jwResize is called remove aspectMode and force layout\r\n        if (heightSet && resetAspectMode) {\r\n            _model.set('aspectratio', null);\r\n        }\r\n        if (!_model.get('aspectratio')) {\r\n            // If the height is a pixel value (number) greater than 0, snap it to the minimum supported height\r\n            // Allow zero to mean \"hide the player\"\r\n            let height = playerHeight;\r\n            if (_.isNumber(height) && height !== 0) {\r\n                height = Math.max(height, CONTROLBAR_ONLY_HEIGHT);\r\n            }\r\n            playerStyle.height = height;\r\n        }\r\n\r\n        if (widthSet && heightSet) {\r\n            _model.set('width', playerWidth);\r\n            _model.set('height', playerHeight);\r\n        }\r\n\r\n        style(_playerElement, playerStyle);\r\n    }\r\n\r\n    function _resizeMedia(containerWidth, containerHeight) {\r\n        if (!containerWidth || isNaN(1 * containerWidth)) {\r\n            containerWidth = _model.get('containerWidth');\r\n            if (!containerWidth) {\r\n                return;\r\n            }\r\n        }\r\n        if (!containerHeight || isNaN(1 * containerHeight)) {\r\n            containerHeight = _model.get('containerHeight');\r\n            if (!containerHeight) {\r\n                return;\r\n            }\r\n        }\r\n\r\n        if (_preview) {\r\n            _preview.resize(containerWidth, containerHeight, _model.get('stretching'));\r\n        }\r\n\r\n        const provider = _model.getVideo();\r\n        if (!provider) {\r\n            return;\r\n        }\r\n        const transformScale = provider.resize(containerWidth, containerHeight, _model.get('stretching'));\r\n\r\n        // poll resizing if video is transformed\r\n        if (transformScale) {\r\n            clearTimeout(_resizeMediaTimeout);\r\n            _resizeMediaTimeout = setTimeout(_resizeMedia, 250);\r\n        }\r\n    }\r\n\r\n    this.resize = function (playerWidth, playerHeight) {\r\n        const resetAspectMode = true;\r\n        _resizePlayer(playerWidth, playerHeight, resetAspectMode);\r\n        _responsiveUpdate();\r\n    };\r\n    this.resizeMedia = _resizeMedia;\r\n\r\n    /**\r\n     * Return whether or not we're in native fullscreen\r\n     */\r\n    function _isNativeFullscreen() {\r\n        if (fullscreenHelpers.supportsDomFullscreen()) {\r\n            const fsElement = fullscreenHelpers.fullscreenElement();\r\n            return !!(fsElement && fsElement.id === _model.get('id'));\r\n        }\r\n        // if player element view fullscreen not available, return video fullscreen state\r\n        return _instreamModel ? _instreamModel.getVideo().getFullScreen() :\r\n            _model.getVideo().getFullScreen();\r\n    }\r\n\r\n\r\n    function _fullscreenChangeHandler(event) {\r\n        const modelState = _model.get('fullscreen');\r\n        const newState = (event.jwstate !== undefined) ? event.jwstate : _isNativeFullscreen();\r\n\r\n        // If fullscreen was triggered by something other than the player\r\n        //  then we want to sync up our internal state\r\n        if (modelState !== newState) {\r\n            _model.set('fullscreen', newState);\r\n        }\r\n\r\n        _responsiveListener();\r\n        clearTimeout(_resizeMediaTimeout);\r\n        _resizeMediaTimeout = setTimeout(_resizeMedia, 200);\r\n    }\r\n\r\n    function _toggleDOMFullscreen(playerElement, fullscreenState) {\r\n        toggleClass(playerElement, 'jw-flag-fullscreen', fullscreenState);\r\n        style(document.body, { overflowY: (fullscreenState) ? 'hidden' : '' });\r\n\r\n        if (fullscreenState && _controls) {\r\n            // When going into fullscreen, we want the control bar to fade after a few seconds\r\n            _controls.userActive();\r\n        }\r\n\r\n        _resizeMedia();\r\n        _responsiveListener();\r\n    }\r\n\r\n    function _setLiveMode(model, streamType) {\r\n        if (!_instreamModel) {\r\n            const live = (streamType === 'LIVE');\r\n            toggleClass(_playerElement, 'jw-flag-live', live);\r\n        }\r\n    }\r\n\r\n    function _userActivityCallback(/* event */) {\r\n        _controls.userActive();\r\n    }\r\n\r\n    function _onMediaTypeChange(model, val) {\r\n        const isAudioFile = (val === 'audio');\r\n        const provider = _model.getVideo();\r\n        const isFlash = (provider && provider.getName().name.indexOf('flash') === 0);\r\n\r\n        toggleClass(_playerElement, 'jw-flag-media-audio', isAudioFile);\r\n\r\n        const element = (isAudioFile && !isFlash) ? _videoLayer : _videoLayer.nextSibling;\r\n        // Put the preview element before the media element in order to display browser captions\r\n        // otherwise keep it on top of the media element to display captions with the captions renderer\r\n        _playerElement.insertBefore(_preview.el, element);\r\n    }\r\n\r\n    function _errorHandler(model, evt) {\r\n        if (!evt) {\r\n            _title.playlistItem(model, model.get('playlistItem'));\r\n            return;\r\n        }\r\n        const errorContainer = ErrorContainer(_model, evt.message);\r\n        if (ErrorContainer.cloneIcon) {\r\n            errorContainer.querySelector('.jw-icon').appendChild(ErrorContainer.cloneIcon('error'));\r\n        }\r\n        _playerElement.appendChild(errorContainer.firstChild);\r\n        toggleClass(_playerElement, 'jw-flag-audio-player', !!model.get('audioMode'));\r\n    }\r\n\r\n    function _stateHandler(model, newState, oldState) {\r\n        if (!_model.get('viewSetup')) {\r\n            return;\r\n        }\r\n\r\n        _playerState = model.get('state');\r\n\r\n        instreamStateUpdate(_playerState);\r\n\r\n        if (oldState === STATE_ERROR) {\r\n            const errorContainer = _playerElement.querySelector('.jw-error-msg');\r\n            if (errorContainer) {\r\n                errorContainer.parentNode.removeChild(errorContainer);\r\n            }\r\n        }\r\n\r\n        cancelAnimationFrame(_stateClassRequestId);\r\n        if (_playerState === STATE_PLAYING || (_playerState === STATE_IDLE && _model.get('autostart'))) {\r\n            _stateUpdate(_playerState);\r\n        } else {\r\n            _stateClassRequestId = requestAnimationFrame(() => _stateUpdate(_playerState));\r\n        }\r\n    }\r\n\r\n    function instreamStateUpdate(state) {\r\n        let instreamState = null;\r\n        if (_instreamModel) {\r\n            instreamState = state;\r\n        }\r\n        if (_controls) {\r\n            _controls.instreamState = instreamState;\r\n        }\r\n    }\r\n\r\n    function _stateUpdate(state) {\r\n        if (_model.get('controls') && state !== STATE_PAUSED && hasClass(_playerElement, 'jw-flag-controls-hidden')) {\r\n            removeClass(_playerElement, 'jw-flag-controls-hidden');\r\n        }\r\n        replaceClass(_playerElement, /jw-state-\\S+/, 'jw-state-' + state);\r\n\r\n        _model.off('change:playlistItem', setPosterImage);\r\n        switch (state) {\r\n            case STATE_IDLE:\r\n            case STATE_ERROR:\r\n            case STATE_COMPLETE:\r\n                _model.change('playlistItem', setPosterImage);                \r\n                if (_captionsRenderer) {\r\n                    _captionsRenderer.hide();\r\n                }\r\n                break;\r\n            default:\r\n                if (_captionsRenderer) {\r\n                    _captionsRenderer.show();\r\n                    if (state === STATE_PAUSED && _controls && !_controls.showing) {\r\n                        _captionsRenderer.renderCues(true);\r\n                    }\r\n                }\r\n                break;\r\n        }\r\n    }\r\n\r\n    function setPosterImage(model) {\r\n        const playlistItem = model.get('playlistItem');\r\n        _preview.setImage(playlistItem && playlistItem.image);\r\n    }\r\n\r\n    const settingsMenuVisible = () => {\r\n        const settingsMenu = _controls && _controls.settingsMenu;\r\n        return !!(settingsMenu && settingsMenu.visible);\r\n    };\r\n\r\n    this.setupInstream = function (instreamModel) {\r\n        this.instreamModel = _instreamModel = instreamModel;\r\n        _instreamModel.on('change:controls', _onChangeControls, this);\r\n        _instreamModel.on('change:state', _stateHandler, this);\r\n        _instreamModel.on('change:playRejected', function (model, val) {\r\n            toggleClass(_playerElement, 'jw-flag-play-rejected', val);\r\n        }, this);\r\n\r\n        addClass(_playerElement, 'jw-flag-ads');\r\n        removeClass(_playerElement, 'jw-flag-live');\r\n\r\n        if (_controls) {\r\n            _controls.setupInstream(instreamModel);\r\n        }\r\n    };\r\n\r\n    this.setAltText = function (text) {\r\n        _model.set('altText', text);\r\n    };\r\n\r\n    this.destroyInstream = function () {\r\n        if (_instreamModel) {\r\n            _instreamModel.off(null, null, this);\r\n            _instreamModel = null;\r\n        }\r\n        if (!displayClickHandler) {\r\n            // view was destroyed\r\n            return;\r\n        }\r\n        if (_controls) {\r\n            _controls.destroyInstream(_model);\r\n        }\r\n\r\n        this.setAltText('');\r\n        removeClass(_playerElement, ['jw-flag-ads', 'jw-flag-ads-hide-controls']);\r\n        _model.set('hideAdsControls', false);\r\n        const provider = _model.getVideo();\r\n        if (provider) {\r\n            provider.setContainer(_videoLayer);\r\n        }\r\n        _setLiveMode(_model, _model.get('streamType'));\r\n        // reset display click handler\r\n        displayClickHandler.revertAlternateClickHandlers();\r\n    };\r\n\r\n    this.addCues = function (cues) {\r\n        _model.set('cues', cues);\r\n    };\r\n\r\n    this.clickHandler = function () {\r\n        return displayClickHandler;\r\n    };\r\n\r\n    this.getContainer = this.element = function () {\r\n        return _playerElement;\r\n    };\r\n\r\n    this.controlsContainer = function() {\r\n        if (_controls) {\r\n            return _controls.element();\r\n        }\r\n        return null;\r\n    };\r\n\r\n    this.getSafeRegion = function (excludeControlbar = true) {\r\n        const safeRegion = {\r\n            x: 0,\r\n            y: 0,\r\n            width: _lastWidth || 0,\r\n            height: _lastHeight || 0\r\n        };\r\n        if (_controls) {\r\n            // Subtract controlbar from the bottom when using one\r\n            if (excludeControlbar) {\r\n                safeRegion.height -= _controls.controlbarHeight();\r\n            }\r\n        }\r\n        return safeRegion;\r\n    };\r\n\r\n    this.setCaptions = function (captionsStyle) {\r\n        _captionsRenderer.clear();\r\n        _captionsRenderer.setup(_model.get('id'), captionsStyle);\r\n        _captionsRenderer.resize();\r\n    };\r\n\r\n    this.destroy = function () {\r\n        viewsManager.unobserve(_playerElement);\r\n        viewsManager.remove(this);\r\n        this.isSetup = false;\r\n        this.off();\r\n        cancelAnimationFrame(_resizeContainerRequestId);\r\n        clearTimeout(_resizeMediaTimeout);\r\n        if (focusHelper) {\r\n            focusHelper.destroy();\r\n            focusHelper = null;\r\n        }\r\n        if (fullscreenHelpers) {\r\n            fullscreenHelpers.destroy();\r\n            fullscreenHelpers = null;\r\n        }\r\n        if (_model.mediaController) {\r\n            _model.mediaController.off('fullscreenchange', _fullscreenChangeHandler);\r\n        }\r\n        if (_controls) {\r\n            _controls.disable(_model);\r\n        }\r\n\r\n        if (_instreamModel) {\r\n            this.destroyInstream();\r\n        }\r\n        if (displayClickHandler) {\r\n            displayClickHandler.destroy();\r\n            displayClickHandler = null;\r\n        }\r\n        if (_captionsRenderer) {\r\n            _captionsRenderer.destroy();\r\n            _captionsRenderer = null;\r\n        }\r\n        if (_logo) {\r\n            _logo.destroy();\r\n            _logo = null;\r\n        }\r\n        clearCss(_model.get('id'));\r\n    };\r\n}\r\n\r\nexport default View;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/view.js","export default (id, ariaLabel = '') => {\r\n    return (\r\n        `<div id=\"${id}\" class=\"jwplayer jw-reset jw-state-setup\" tabindex=\"0\" aria-label=\"${ariaLabel}\">` +\r\n            `<div class=\"jw-aspect jw-reset\"></div>` +\r\n            `<div class=\"jw-media jw-reset\"></div>` +\r\n            `<div class=\"jw-preview jw-reset\"></div>` +\r\n            `<div class=\"jw-title jw-reset\">` +\r\n                `<div class=\"jw-title-primary jw-reset\"></div>` +\r\n                `<div class=\"jw-title-secondary jw-reset\"></div>` +\r\n            `</div>` +\r\n            `<div class=\"jw-overlays jw-reset\"></div>` +\r\n        `</div>`\r\n    );\r\n};\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/templates/player.js","export const CONTROLBAR_ONLY_HEIGHT = 44;\r\n\r\nexport const isAudioMode = function(model) {\r\n    const playerHeight = model.get('height');\r\n    if (model.get('aspectratio')) {\r\n        return false;\r\n    }\r\n    if (typeof playerHeight === 'string' && playerHeight.indexOf('%') > -1) {\r\n        return false;\r\n    }\r\n\r\n    // Coerce into Number (don't parse out CSS units)\r\n    let verticalPixels = (playerHeight * 1) || NaN;\r\n    verticalPixels = (!isNaN(verticalPixels) ? verticalPixels : model.get('containerHeight'));\r\n    if (!verticalPixels) {\r\n        return false;\r\n    }\r\n\r\n    return verticalPixels && verticalPixels <= CONTROLBAR_ONLY_HEIGHT;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/utils/audio-mode.js","import activeTab from 'utils/active-tab';\r\nimport { requestAnimationFrame, cancelAnimationFrame } from 'utils/request-animation-frame';\r\n\r\nconst views = [];\r\nconst observed = {};\r\n\r\nlet intersectionObserver;\r\nlet responsiveRepaintRequestId = -1;\r\n\r\nfunction lazyInitIntersectionObserver() {\r\n    const IntersectionObserver = window.IntersectionObserver;\r\n    if (!intersectionObserver) {\r\n        // Fire the callback every time 25% of the player comes in/out of view\r\n        intersectionObserver = new IntersectionObserver((entries) => {\r\n            if (entries && entries.length) {\r\n                for (let i = entries.length; i--;) {\r\n                    const entry = entries[i];\r\n                    for (let j = views.length; j--;) {\r\n                        let view = views[j];\r\n                        if (entry.target === view.getContainer()) {\r\n                            view.model.set('intersectionRatio', entry.intersectionRatio);\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }, { threshold: [0, 0.25, 0.5, 0.75, 1] });\r\n    }\r\n}\r\n\r\nfunction scheduleResponsiveRedraw() {\r\n    cancelAnimationFrame(responsiveRepaintRequestId);\r\n    responsiveRepaintRequestId = requestAnimationFrame(function responsiveRepaint() {\r\n        views.forEach(view => {\r\n            view.updateBounds();\r\n        });\r\n        views.forEach(view => {\r\n            if (view.model.get('visibility')) {\r\n                view.updateStyles();\r\n            }\r\n        });\r\n        views.forEach(view => {\r\n            view.checkResized();\r\n        });\r\n    });\r\n}\r\n\r\nfunction onVisibilityChange() {\r\n    views.forEach(view => {\r\n        view.model.set('activeTab', activeTab());\r\n    });\r\n}\r\n\r\ndocument.addEventListener('visibilitychange', onVisibilityChange);\r\ndocument.addEventListener('webkitvisibilitychange', onVisibilityChange);\r\nwindow.addEventListener('resize', scheduleResponsiveRedraw);\r\nwindow.addEventListener('orientationchange', scheduleResponsiveRedraw);\r\n\r\nwindow.addEventListener('beforeunload', () => {\r\n    document.removeEventListener('visibilitychange', onVisibilityChange);\r\n    document.removeEventListener('webkitvisibilitychange', onVisibilityChange);\r\n    window.removeEventListener('resize', scheduleResponsiveRedraw);\r\n    window.removeEventListener('orientationchange', scheduleResponsiveRedraw);\r\n});\r\n\r\nexport default {\r\n    add: function(view) {\r\n        views.push(view);\r\n    },\r\n    remove: function(view) {\r\n        const index = views.indexOf(view);\r\n        if (index !== -1) {\r\n            views.splice(index, 1);\r\n        }\r\n    },\r\n    size: function() {\r\n        return views.length;\r\n    },\r\n    observe(container) {\r\n        lazyInitIntersectionObserver();\r\n\r\n        if (observed[container.id]) {\r\n            return;\r\n        }\r\n\r\n        observed[container.id] = true;\r\n        intersectionObserver.observe(container);\r\n    },\r\n    unobserve(container) {\r\n        if (intersectionObserver && observed[container.id]) {\r\n            delete observed[container.id];\r\n            intersectionObserver.unobserve(container);\r\n        }\r\n    },\r\n    getIntersectionObserver() {\r\n        return intersectionObserver;\r\n    }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/utils/views-manager.js","export default function getVisibility(model, element) {\r\n    // Set visibility to 1 if we're in fullscreen\r\n    if (model.get('fullscreen')) {\r\n        return 1;\r\n    }\r\n\r\n    // Set visibility to 0 if we're not in the active tab\r\n    if (!model.get('activeTab')) {\r\n        return 0;\r\n    }\r\n    // Otherwise, set it to the intersection ratio reported from the intersection observer\r\n    let intersectionRatio = model.get('intersectionRatio');\r\n\r\n    if (intersectionRatio === undefined) {\r\n        // Get intersectionRatio through brute force\r\n        intersectionRatio = computeVisibility(element);\r\n    }\r\n\r\n    return intersectionRatio;\r\n}\r\n\r\nfunction computeVisibility(target) {\r\n    const html = document.documentElement;\r\n    const body = document.body;\r\n    const rootRect = {\r\n        top: 0,\r\n        left: 0,\r\n        right: html.clientWidth || body.clientWidth,\r\n        width: html.clientWidth || body.clientWidth,\r\n        bottom: html.clientHeight || body.clientHeight,\r\n        height: html.clientHeight || body.clientHeight\r\n    };\r\n\r\n    if (!body.contains(target)) {\r\n        return 0;\r\n    }\r\n    // If the element isn't displayed, an intersection can't happen.\r\n    if (window.getComputedStyle(target).display === 'none') {\r\n        return 0;\r\n    }\r\n\r\n    const targetRect = getBoundingClientRect(target);\r\n    if (!targetRect) {\r\n        return 0;\r\n    }\r\n\r\n    let intersectionRect = targetRect;\r\n    let parent = target.parentNode;\r\n    let atRoot = false;\r\n\r\n    while (!atRoot) {\r\n        let parentRect = null;\r\n        if (parent === body || parent === html || parent.nodeType !== 1) {\r\n            atRoot = true;\r\n            parentRect = rootRect;\r\n        } else if (window.getComputedStyle(parent).overflow !== 'visible') {\r\n            parentRect = getBoundingClientRect(parent);\r\n        }\r\n        if (parentRect) {\r\n            intersectionRect = computeRectIntersection(parentRect, intersectionRect);\r\n            if (!intersectionRect) {\r\n                return 0;\r\n            }\r\n        }\r\n        parent = parent.parentNode;\r\n    }\r\n    const targetArea = targetRect.width * targetRect.height;\r\n    const intersectionArea = intersectionRect.width * intersectionRect.height;\r\n    return targetArea ? (intersectionArea / targetArea) : 0;\r\n}\r\n\r\nfunction getBoundingClientRect(el) {\r\n    try {\r\n        return el.getBoundingClientRect();\r\n    } catch (e) {/* ignore Windows 7 IE11 \"Unspecified error\" */}\r\n}\r\n\r\nfunction computeRectIntersection(rect1, rect2) {\r\n    const top = Math.max(rect1.top, rect2.top);\r\n    const bottom = Math.min(rect1.bottom, rect2.bottom);\r\n    const left = Math.max(rect1.left, rect2.left);\r\n    const right = Math.min(rect1.right, rect2.right);\r\n    const width = right - left;\r\n    const height = bottom - top;\r\n    return (width >= 0 && height >= 0) && {\r\n        top: top,\r\n        bottom: bottom,\r\n        left: left,\r\n        right: right,\r\n        width: width,\r\n        height: height\r\n    };\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/utils/visibility.js","import { prefix } from 'utils/strings';\r\nimport { css, getRgba } from 'utils/css';\r\n\r\nexport function normalizeSkin(skinConfig = {}) {\r\n\r\n    const active = skinConfig.active;\r\n    const inactive = skinConfig.inactive;\r\n    const background = skinConfig.background;\r\n\r\n    const colors = {};\r\n\r\n    colors.controlbar = getControlBar(skinConfig.controlbar);\r\n\r\n    colors.timeslider = getTimeSlider(skinConfig.timeslider);\r\n\r\n    colors.menus = getMenus(skinConfig.menus);\r\n\r\n    colors.tooltips = getTooltips(skinConfig.tooltips);\r\n\r\n    function getControlBar(controlBarConfig) {\r\n        if (controlBarConfig || active || inactive || background) {\r\n            const config = {};\r\n\r\n            controlBarConfig = controlBarConfig || {};\r\n            config.iconsActive = controlBarConfig.iconsActive || active;\r\n            config.icons = controlBarConfig.icons || inactive;\r\n            config.text = controlBarConfig.text || inactive;\r\n            config.background = controlBarConfig.background || background;\r\n\r\n            return config;\r\n        }\r\n    }\r\n\r\n    function getTimeSlider(timesliderConfig) {\r\n        if (timesliderConfig || active) {\r\n            const config = {};\r\n\r\n            timesliderConfig = timesliderConfig || {};\r\n            config.progress = timesliderConfig.progress || active;\r\n            config.rail = timesliderConfig.rail;\r\n\r\n            return config;\r\n        }\r\n    }\r\n\r\n    function getMenus(menusConfig) {\r\n        if (menusConfig || active || inactive || background) {\r\n            const config = {};\r\n\r\n            menusConfig = menusConfig || {};\r\n            config.text = menusConfig.text || inactive;\r\n            config.textActive = menusConfig.textActive || active;\r\n            config.background = menusConfig.background || background;\r\n\r\n            return config;\r\n        }\r\n    }\r\n\r\n    function getTooltips(tooltipsConfig) {\r\n        if (tooltipsConfig || inactive || background) {\r\n            const config = {};\r\n\r\n            tooltipsConfig = tooltipsConfig || {};\r\n            config.text = tooltipsConfig.text || inactive;\r\n            config.background = tooltipsConfig.background || background;\r\n\r\n            return config;\r\n        }\r\n    }\r\n\r\n    return colors;\r\n}\r\n\r\nexport function handleColorOverrides(playerId, skin) {\r\n    if (!skin) {\r\n        return;\r\n    }\r\n\r\n    function addStyle(elements, attr, value, extendParent) {\r\n        if (!value) {\r\n            return;\r\n        }\r\n        /* if extendParent is true, bundle the first selector of\r\n         element string to the player element instead of defining it as a\r\n         child of the player element (default). i.e. #player.sel-1 .sel-2 vs. #player .sel-1 .sel-2 */\r\n        elements = prefix(elements, '#' + playerId + (extendParent ? '' : ' '));\r\n\r\n        const o = {};\r\n        o[attr] = value;\r\n        css(elements.join(', '), o, playerId);\r\n    }\r\n\r\n    // These will use standard style names for CSS since they are added directly to a style sheet\r\n    // Using background instead of background-color so we don't have to clear gradients with background-image\r\n\r\n    if (skin.controlbar) {\r\n        styleControlbar(skin.controlbar);\r\n    }\r\n    if (skin.timeslider) {\r\n        styleTimeslider(skin.timeslider);\r\n    }\r\n    if (skin.menus) {\r\n        styleMenus(skin.menus);\r\n    }\r\n    if (skin.tooltips) {\r\n        styleTooltips(skin.tooltips);\r\n    }\r\n\r\n    insertGlobalColorClasses(skin.menus);\r\n\r\n    function styleControlbar(config) {\r\n\r\n        addStyle([\r\n            // controlbar text colors\r\n            '.jw-controlbar .jw-icon-inline.jw-text',\r\n            '.jw-title-primary',\r\n            '.jw-title-secondary',\r\n        ], 'color', config.text);\r\n\r\n        if (config.icons) {\r\n            addStyle([\r\n                // controlbar button colors\r\n                '.jw-button-color:not(.jw-icon-cast)',\r\n                '.jw-button-color.jw-toggle.jw-off:not(.jw-icon-cast)',\r\n            ], 'color', config.icons);\r\n\r\n            addStyle([\r\n                '.jw-display-icon-container .jw-button-color',\r\n            ], 'color', config.icons);\r\n\r\n            // Chromecast overrides\r\n            // Can't use addStyle since it will camel case the style name\r\n            css(`#${playerId} .jw-icon-cast button.jw-off`, `{--disconnected-color: ${config.icons}}`, playerId);\r\n        }\r\n        if (config.iconsActive) {\r\n            addStyle([\r\n                '.jw-display-icon-container .jw-button-color:hover',\r\n                '.jw-display-icon-container .jw-button-color:focus',\r\n            ], 'color', config.iconsActive);\r\n\r\n            // Apply active color\r\n            addStyle([\r\n                // Toggle and menu button active colors\r\n                '.jw-button-color.jw-toggle:not(.jw-icon-cast)',\r\n                '.jw-button-color:hover:not(.jw-icon-cast)',\r\n                '.jw-button-color:focus:not(.jw-icon-cast)',\r\n                '.jw-button-color.jw-toggle.jw-off:hover:not(.jw-icon-cast)'\r\n            ], 'color', config.iconsActive);\r\n\r\n            addStyle([\r\n                '.jw-svg-icon-buffer',\r\n            ], 'fill', config.icons);\r\n\r\n            // Chromecast overrides\r\n            // Can't use addStyle since it will camel case the style name\r\n            css(`#${playerId} .jw-icon-cast:hover button.jw-off`, `{--disconnected-color: ${config.iconsActive}}`, playerId);\r\n            css(`#${playerId} .jw-icon-cast:focus button.jw-off`, `{--disconnected-color: ${config.iconsActive}}`, playerId);\r\n            css(`#${playerId} .jw-icon-cast button.jw-off:focus`, `{--disconnected-color: ${config.iconsActive}}`, playerId);\r\n\r\n            css(`#${playerId} .jw-icon-cast button`, `{--connected-color: ${config.iconsActive}}`, playerId);\r\n            css(`#${playerId} .jw-icon-cast button:focus`, `{--connected-color: ${config.iconsActive}}`, playerId);\r\n            css(`#${playerId} .jw-icon-cast:hover button`, `{--connected-color: ${config.iconsActive}}`, playerId);\r\n            css(`#${playerId} .jw-icon-cast:focus button`, `{--connected-color: ${config.iconsActive}}`, playerId);\r\n        }\r\n\r\n        // A space is purposefully left before '.jw-settings-topbar' since extendParent is set to true in order to append ':not(.jw-state-idle)'\r\n        addStyle([\r\n            ' .jw-settings-topbar',\r\n            ':not(.jw-state-idle) .jw-controlbar',\r\n            '.jw-flag-audio-player .jw-controlbar'\r\n        ], 'background', config.background, true);\r\n    }\r\n\r\n    function styleTimeslider(config) {\r\n\r\n        addStyle([\r\n            '.jw-progress',\r\n            '.jw-knob'\r\n        ], 'background-color', config.progress);\r\n\r\n        addStyle([\r\n            '.jw-buffer',\r\n        ], 'background-color', getRgba(config.progress, 50));\r\n\r\n        addStyle([\r\n            '.jw-rail'\r\n        ], 'background-color', config.rail);\r\n\r\n        addStyle([\r\n            '.jw-background-color.jw-slider-time',\r\n            '.jw-slider-time .jw-cue'\r\n        ], 'background-color', config.background);\r\n    }\r\n\r\n    function styleMenus(config) {\r\n\r\n        addStyle([\r\n            '.jw-option',\r\n            '.jw-toggle.jw-off',\r\n            '.jw-skip .jw-skip-icon',\r\n            '.jw-nextup-tooltip',\r\n            '.jw-nextup-close',\r\n            '.jw-settings-content-item'\r\n        ], 'color', config.text);\r\n\r\n        addStyle([\r\n            '.jw-option.jw-active-option',\r\n            '.jw-option:not(.jw-active-option):hover',\r\n            '.jw-option:not(.jw-active-option):focus',\r\n            '.jw-settings-item-active',\r\n            '.jw-settings-content-item:hover',\r\n            '.jw-settings-content-item:focus',\r\n            '.jw-nextup-tooltip:hover',\r\n            '.jw-nextup-tooltip:focus',\r\n            '.jw-nextup-close:hover'\r\n        ], 'color', config.textActive);\r\n\r\n        addStyle([\r\n            '.jw-nextup',\r\n            '.jw-settings-menu',\r\n        ], 'background', config.background);\r\n    }\r\n\r\n    function styleTooltips(config) {\r\n\r\n        addStyle([\r\n            '.jw-skip',\r\n            '.jw-tooltip .jw-text',\r\n            '.jw-time-tip .jw-text'\r\n        ], 'background-color', config.background);\r\n\r\n        addStyle([\r\n            '.jw-time-tip',\r\n            '.jw-tooltip'\r\n        ], 'color', config.background);\r\n\r\n        addStyle([\r\n            '.jw-skip',\r\n        ], 'border', 'none');\r\n\r\n        addStyle([\r\n            '.jw-skip .jw-text',\r\n            '.jw-skip .jw-icon',\r\n            '.jw-time-tip .jw-text',\r\n            '.jw-tooltip .jw-text'\r\n        ], 'color', config.text);\r\n    }\r\n\r\n    // Set global colors, used by related plugin\r\n    // If a color is undefined simple-style-loader won't add their styles to the dom\r\n    function insertGlobalColorClasses(config = {}) {\r\n        if (config.textActive) {\r\n            const activeColorSet = {\r\n                color: config.textActive,\r\n                borderColor: config.textActive,\r\n                stroke: config.textActive\r\n            };\r\n            css('#' + playerId + ' .jw-color-active', activeColorSet, playerId);\r\n            css('#' + playerId + ' .jw-color-active-hover:hover', activeColorSet, playerId);\r\n        }\r\n        if (config.text) {\r\n            const inactiveColorSet = {\r\n                color: config.text,\r\n                borderColor: config.text,\r\n                stroke: config.text\r\n            };\r\n            css('#' + playerId + ' .jw-color-inactive', inactiveColorSet, playerId);\r\n            css('#' + playerId + ' .jw-color-inactive-hover:hover', inactiveColorSet, playerId);\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/utils/skin.js","const DOCUMENT_FULLSCREEN_EVENTS = [\r\n    'fullscreenchange',\r\n    'webkitfullscreenchange',\r\n    'mozfullscreenchange',\r\n    'MSFullscreenChange'\r\n];\r\n\r\nexport default function(elementContext, documentContext, changeCallback) {\r\n    const requestFullscreen = elementContext.requestFullscreen ||\r\n        elementContext.webkitRequestFullscreen ||\r\n        elementContext.webkitRequestFullScreen ||\r\n        elementContext.mozRequestFullScreen ||\r\n        elementContext.msRequestFullscreen;\r\n\r\n    const exitFullscreen = documentContext.exitFullscreen ||\r\n        documentContext.webkitExitFullscreen ||\r\n        documentContext.webkitCancelFullScreen ||\r\n        documentContext.mozCancelFullScreen ||\r\n        documentContext.msExitFullscreen;\r\n\r\n    const supportsDomFullscreen = !!(requestFullscreen && exitFullscreen);\r\n\r\n    for (let i = DOCUMENT_FULLSCREEN_EVENTS.length; i--;) {\r\n        documentContext.addEventListener(DOCUMENT_FULLSCREEN_EVENTS[i], changeCallback);\r\n    }\r\n\r\n    return {\r\n        events: DOCUMENT_FULLSCREEN_EVENTS,\r\n        supportsDomFullscreen: function() {\r\n            return supportsDomFullscreen;\r\n        },\r\n        requestFullscreen: function() {\r\n            requestFullscreen.apply(elementContext);\r\n        },\r\n        exitFullscreen: function() {\r\n            exitFullscreen.apply(documentContext);\r\n        },\r\n        fullscreenElement: function() {\r\n            return documentContext.fullscreenElement ||\r\n                documentContext.webkitCurrentFullScreenElement ||\r\n                documentContext.mozFullScreenElement ||\r\n                documentContext.msFullscreenElement;\r\n        },\r\n        destroy: function() {\r\n            for (let i = DOCUMENT_FULLSCREEN_EVENTS.length; i--;) {\r\n                documentContext.removeEventListener(DOCUMENT_FULLSCREEN_EVENTS[i], changeCallback);\r\n            }\r\n        }\r\n    };\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/utils/request-fullscreen-helper.js","import { addClass, removeClass } from 'utils/dom';\r\n\r\n\r\nexport default function (elementContext) {\r\n    var _focusFromClick = false;\r\n\r\n    const onBlur = function () {\r\n        _focusFromClick = false;\r\n        removeClass(elementContext, 'jw-no-focus');\r\n    };\r\n\r\n    const onMouseDown = function () {\r\n        _focusFromClick = true;\r\n        addClass(elementContext, 'jw-no-focus');\r\n    };\r\n\r\n    const onFocus = function () {\r\n        if (!_focusFromClick) {\r\n            onBlur();\r\n        }\r\n    };\r\n\r\n    elementContext.addEventListener('focus', onFocus);\r\n    elementContext.addEventListener('blur', onBlur);\r\n    elementContext.addEventListener('mousedown', onMouseDown);\r\n\r\n    return {\r\n        destroy: function() {\r\n            elementContext.removeEventListener('focus', onFocus);\r\n            elementContext.removeEventListener('blur', onBlur);\r\n            elementContext.removeEventListener('mousedown', onMouseDown);\r\n        }\r\n    };\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/utils/flag-no-focus.js","import { CLICK } from 'events/events';\r\nimport UI from 'utils/ui';\r\nimport Events from 'utils/backbone.events';\r\n\r\nexport default class ClickHandler {\r\n    constructor(model, element, options) {\r\n        Object.assign(this, Events);\r\n\r\n        this.revertAlternateClickHandlers();\r\n        this.domElement = element;\r\n        this.model = model;\r\n\r\n        const defaultOptions = { enableDoubleTap: true, useMove: true };\r\n        this.ui = new UI(element, Object.assign(defaultOptions, options)).on({\r\n            'click tap': this.clickHandler,\r\n            'doubleClick doubleTap': function() {\r\n                if (this.alternateDoubleClickHandler) {\r\n                    this.alternateDoubleClickHandler();\r\n                    return;\r\n                }\r\n                this.trigger('doubleClick');\r\n            },\r\n            move: function() {\r\n                this.trigger('move');\r\n            },\r\n            over: function() {\r\n                this.trigger('over');\r\n            },\r\n            out: function() {\r\n                this.trigger('out');\r\n            }\r\n        }, this);\r\n    }\r\n\r\n    destroy() {\r\n        if (this.ui) {\r\n            this.ui.destroy();\r\n            this.ui = this.domElement = this.model = null;\r\n            this.revertAlternateClickHandlers();\r\n        }\r\n    }\r\n\r\n    clickHandler(evt) {\r\n        if (this.model.get('flashBlocked')) {\r\n            return;\r\n        }\r\n        if (this.alternateClickHandler) {\r\n            this.alternateClickHandler(evt);\r\n            return;\r\n        }\r\n        this.trigger((evt.type === CLICK) ? 'click' : 'tap');\r\n    }\r\n\r\n    element() {\r\n        return this.domElement;\r\n    }\r\n\r\n    setAlternateClickHandlers(clickHandler, doubleClickHandler) {\r\n        this.alternateClickHandler = clickHandler;\r\n        this.alternateDoubleClickHandler = doubleClickHandler || null;\r\n    }\r\n\r\n    revertAlternateClickHandlers() {\r\n        this.alternateClickHandler = null;\r\n        this.alternateDoubleClickHandler = null;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/utils/clickhandler.js","import { Browser } from 'environment/environment';\r\nimport { chunkLoadErrorHandler } from '../api/core-loader';\r\nimport Events from 'utils/backbone.events';\r\nimport { ERROR } from 'events/events';\r\nimport { css, style, getRgba } from 'utils/css';\r\nimport { addClass, removeClass, empty } from 'utils/dom';\r\nimport _ from 'utils/underscore';\r\n\r\n/** Component that renders the actual captions on screen. **/\r\n\r\nlet _WebVTT;\r\n\r\nconst _defaults = {\r\n    back: true,\r\n    backgroundOpacity: 50,\r\n    edgeStyle: null,\r\n    fontSize: 14,\r\n    fontOpacity: 100,\r\n    fontScale: 0.05, // Default captions font size = 1/20th of the video's height\r\n    preprocessor: _.identity,\r\n    windowOpacity: 0\r\n};\r\n\r\nconst CaptionsRenderer = function (_model) {\r\n\r\n    let _options;\r\n    let _captionsTrack;\r\n    let _currentCues;\r\n    let _timeEvent;\r\n    let _display;\r\n    let _captionsWindow;\r\n    let _textContainer;\r\n    let _fontScale;\r\n    let _windowStyle;\r\n\r\n    _display = document.createElement('div');\r\n    _display.className = 'jw-captions jw-reset';\r\n\r\n    this.show = function () {\r\n        addClass(_display, 'jw-captions-enabled');\r\n    };\r\n\r\n    this.hide = function () {\r\n        removeClass(_display, 'jw-captions-enabled');\r\n    };\r\n\r\n    // Assign list of captions to the renderer\r\n    this.populate = function (captions) {\r\n        if (_model.get('renderCaptionsNatively')) {\r\n            return;\r\n        }\r\n\r\n        _currentCues = [];\r\n        _captionsTrack = captions;\r\n        if (!captions) {\r\n            _currentCues = [];\r\n            this.renderCues();\r\n            return;\r\n        }\r\n        this.selectCues(captions, _timeEvent);\r\n    };\r\n\r\n    this.resize = function () {\r\n        _setFontSize();\r\n        this.renderCues(true);\r\n    };\r\n\r\n    this.renderCues = function (updateBoxPosition) {\r\n        updateBoxPosition = !!updateBoxPosition;\r\n        if (_WebVTT) {\r\n            _WebVTT.processCues(window, _currentCues, _display, updateBoxPosition);\r\n        }\r\n    };\r\n\r\n    this.selectCues = function (track, timeEvent) {\r\n        if (!track || !track.data || !timeEvent) {\r\n            return;\r\n        }\r\n\r\n        const pos = this.getAlignmentPosition(track, timeEvent);\r\n        if (pos === false) {\r\n            return;\r\n        }\r\n\r\n        const cues = this.getCurrentCues(track.data, pos);\r\n\r\n        this.updateCurrentCues(cues);\r\n        this.renderCues(true);\r\n    };\r\n\r\n    this.getCurrentCues = function (allCues, pos) {\r\n        return _.filter(allCues, function (cue) {\r\n            return pos >= (cue.startTime) && (!cue.endTime || pos <= cue.endTime);\r\n        });\r\n    };\r\n\r\n    this.updateCurrentCues = function (cues) {\r\n        // Render with vtt.js if there are cues, clear if there are none\r\n        if (!cues.length) {\r\n            _currentCues = [];\r\n        } else if (_.difference(cues, _currentCues).length) {\r\n            addClass(_captionsWindow, 'jw-captions-window-active');\r\n            _currentCues = cues;\r\n        }\r\n\r\n        return _currentCues;\r\n    };\r\n\r\n    this.getAlignmentPosition = function (track, timeEvent) {\r\n        const source = track.source;\r\n        const metadata = timeEvent.metadata;\r\n\r\n        // subtitles with \"source\" time must be synced with \"metadata[source]\"\r\n        if (source) {\r\n            if (metadata && _.isNumber(metadata[source])) {\r\n                return metadata[source];\r\n            }\r\n            return;\r\n        } else if (timeEvent.duration < 0) {\r\n            // When the duration is negative (DVR mode), need to make alignmentPosition positive for captions to work\r\n            return timeEvent.position - timeEvent.duration;\r\n        }\r\n\r\n        // Default to syncing with current position\r\n        return timeEvent.position;\r\n    };\r\n\r\n    this.clear = function () {\r\n        empty(_display);\r\n    };\r\n\r\n    /** Constructor for the renderer. **/\r\n    this.setup = function (playerElementId, options) {\r\n        _captionsWindow = document.createElement('div');\r\n        _textContainer = document.createElement('span');\r\n        _captionsWindow.className = 'jw-captions-window jw-reset';\r\n        _textContainer.className = 'jw-captions-text jw-reset';\r\n\r\n        _options = Object.assign({}, _defaults, options);\r\n\r\n        _fontScale = _defaults.fontScale;\r\n        _setFontScale(_options.fontSize);\r\n\r\n        const windowColor = _options.windowColor;\r\n        const windowOpacity = _options.windowOpacity;\r\n        const edgeStyle = _options.edgeStyle;\r\n        _windowStyle = {};\r\n        const textStyle = {};\r\n\r\n        _addTextStyle(textStyle, _options);\r\n\r\n        if (windowColor || windowOpacity !== _defaults.windowOpacity) {\r\n            _windowStyle.backgroundColor = getRgba(windowColor || '#000000', windowOpacity);\r\n        }\r\n\r\n        _addEdgeStyle(edgeStyle, textStyle, _options.fontOpacity);\r\n\r\n        if (!_options.back && edgeStyle === null) {\r\n            _addEdgeStyle('uniform', textStyle);\r\n        }\r\n\r\n        style(_captionsWindow, _windowStyle);\r\n        style(_textContainer, textStyle);\r\n        _setupCaptionStyles(playerElementId, textStyle);\r\n\r\n        _captionsWindow.appendChild(_textContainer);\r\n        _display.appendChild(_captionsWindow);\r\n\r\n        this.populate(_model.get('captionsTrack'));\r\n        _model.set('captions', _options);\r\n    };\r\n\r\n    this.element = function () {\r\n        return _display;\r\n    };\r\n\r\n    this.destroy = function() {\r\n        this.off();\r\n        _model.off(null, null, this);\r\n    };\r\n\r\n    function _setFontScale() {\r\n        if (!_.isFinite(_options.fontSize)) {\r\n            return;\r\n        }\r\n\r\n        const height = _model.get('containerHeight');\r\n\r\n        if (!height) {\r\n            _model.once('change:containerHeight', _setFontScale, this);\r\n            return;\r\n        }\r\n\r\n        // Adjust scale based on font size relative to the default\r\n        _fontScale = _defaults.fontScale * _options.fontSize / _defaults.fontSize;\r\n    }\r\n\r\n    function _setFontSize() {\r\n        const height = _model.get('containerHeight');\r\n\r\n        if (!height) {\r\n            return;\r\n        }\r\n\r\n        const fontSize = Math.round(height * _fontScale);\r\n\r\n        if (_model.get('renderCaptionsNatively')) {\r\n            _setShadowDOMFontSize(_model.get('id'), fontSize);\r\n        } else {\r\n            style(_display, {\r\n                fontSize: fontSize + 'px'\r\n            });\r\n        }\r\n    }\r\n\r\n    function _setupCaptionStyles(playerId, textStyle) {\r\n        _setFontSize();\r\n        _styleNativeCaptions(playerId, textStyle);\r\n        _stylePlayerCaptions(playerId, textStyle);\r\n    }\r\n\r\n    function _stylePlayerCaptions(playerId, textStyle) {\r\n        // VTT.js DOM window and text styles\r\n        css('#' + playerId + ' .jw-text-track-display', _windowStyle, playerId);\r\n        css('#' + playerId + ' .jw-text-track-cue', textStyle, playerId);\r\n    }\r\n\r\n    function _styleNativeCaptions(playerId, textStyle) {\r\n        if (Browser.safari) {\r\n            // Only Safari uses a separate element for styling text background\r\n            css('#' + playerId + ' .jw-video::-webkit-media-text-track-display-backdrop', {\r\n                backgroundColor: textStyle.backgroundColor\r\n            }, playerId, true);\r\n        }\r\n\r\n        css('#' + playerId + ' .jw-video::-webkit-media-text-track-display', _windowStyle, playerId, true);\r\n        css('#' + playerId + ' .jw-video::cue', textStyle, playerId, true);\r\n    }\r\n\r\n    function _setShadowDOMFontSize(playerId, fontSize) {\r\n        // Set Shadow DOM font size (needs to be important to override browser's in line style)\r\n        _windowStyle.fontSize = fontSize + 'px';\r\n        css('#' + playerId + ' .jw-video::-webkit-media-text-track-display', _windowStyle, playerId, true);\r\n    }\r\n\r\n    function _addTextStyle(textStyle, options) {\r\n        const color = options.color;\r\n        const fontOpacity = options.fontOpacity;\r\n        if (color || fontOpacity !== _defaults.fontOpacity) {\r\n            textStyle.color = getRgba(color || '#ffffff', fontOpacity);\r\n        }\r\n\r\n        if (options.back) {\r\n            const bgColor = options.backgroundColor;\r\n            const bgOpacity = options.backgroundOpacity;\r\n            if (bgColor !== _defaults.backgroundColor || bgOpacity !== _defaults.backgroundOpacity) {\r\n                textStyle.backgroundColor = getRgba(bgColor, bgOpacity);\r\n            }\r\n        } else {\r\n            textStyle.background = 'transparent';\r\n        }\r\n\r\n        if (options.fontFamily) {\r\n            textStyle.fontFamily = options.fontFamily;\r\n        }\r\n\r\n        if (options.fontStyle) {\r\n            textStyle.fontStyle = options.fontStyle;\r\n        }\r\n\r\n        if (options.fontWeight) {\r\n            textStyle.fontWeight = options.fontWeight;\r\n        }\r\n\r\n        if (options.textDecoration) {\r\n            textStyle.textDecoration = options.textDecoration;\r\n        }\r\n    }\r\n\r\n    function _addEdgeStyle(option, styles, fontOpacity) {\r\n        const color = getRgba('#000000', fontOpacity);\r\n        if (option === 'dropshadow') { // small drop shadow\r\n            styles.textShadow = '0 2px 1px ' + color;\r\n        } else if (option === 'raised') { // larger drop shadow\r\n            styles.textShadow = '0 0 5px ' + color + ', 0 1px 5px ' + color + ', 0 2px 5px ' + color;\r\n        } else if (option === 'depressed') { // top down shadow\r\n            styles.textShadow = '0 -2px 1px ' + color;\r\n        } else if (option === 'uniform') { // outline\r\n            styles.textShadow = '-2px 0 1px ' + color + ',2px 0 1px ' + color +\r\n                ',0 -2px 1px ' + color + ',0 2px 1px ' + color + ',-1px 1px 1px ' +\r\n                color + ',1px 1px 1px ' + color + ',1px -1px 1px ' + color +\r\n                ',1px 1px 1px ' + color;\r\n        }\r\n    }\r\n\r\n    function _timeChange(e) {\r\n        if (_model.get('renderCaptionsNatively')) {\r\n            return;\r\n        }\r\n\r\n        _timeEvent = e;\r\n        this.selectCues(_captionsTrack, _timeEvent);\r\n    }\r\n\r\n    function _captionsListHandler(model, captionsList) {\r\n        if (captionsList.length === 1) {\r\n            // captionsList only contains 'off'\r\n            return;\r\n        }\r\n\r\n        // don't load the polyfill or do unnecessary work if rendering natively\r\n        if (!model.get('renderCaptionsNatively') && !_WebVTT) {\r\n            loadWebVttPolyfill().catch((error) => {\r\n                this.trigger(ERROR, {\r\n                    message: 'Captions renderer failed to load',\r\n                    reason: error\r\n                });\r\n            });\r\n            model.off('change:captionsList', _captionsListHandler, this);\r\n        }\r\n    }\r\n\r\n    function loadWebVttPolyfill() {\r\n        return require.ensure(['polyfills/webvtt'], function (require) {\r\n            _WebVTT = require('polyfills/webvtt').default;\r\n        }, chunkLoadErrorHandler, 'polyfills.webvtt');\r\n    }\r\n\r\n    _model.on('change:playlistItem', function () {\r\n        _timeEvent = null;\r\n        _currentCues = [];\r\n    }, this);\r\n\r\n    _model.on('change:captionsTrack', function (model, captionsTrack) {\r\n        this.populate(captionsTrack);\r\n    }, this);\r\n\r\n    _model.mediaController.on('seek', function () {\r\n        _currentCues = [];\r\n    }, this);\r\n\r\n    _model.mediaController.on('time seek', _timeChange, this);\r\n\r\n    _model.mediaController.on('subtitlesTrackData', function () {\r\n        // update captions after a provider's subtitle track changes\r\n        this.selectCues(_captionsTrack, _timeEvent);\r\n    }, this);\r\n\r\n    _model.on('change:captionsList', _captionsListHandler, this);\r\n};\r\n\r\nObject.assign(CaptionsRenderer.prototype, Events);\r\n\r\nexport default CaptionsRenderer;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/captionsrenderer.js","import logoTemplate from 'templates/logo';\r\nimport { LOGO_CLICK } from 'events/events';\r\nimport UI from 'utils/ui';\r\nimport { style } from 'utils/css';\r\nimport { createElement } from 'utils/dom';\r\nimport Events from 'utils/backbone.events';\r\n\r\nconst LogoDefaults = {\r\n    linktarget: '_blank',\r\n    margin: 8,\r\n    hide: false,\r\n    position: 'top-right'\r\n};\r\n\r\nexport default function Logo(_model) {\r\n    Object.assign(this, Events);\r\n\r\n    var _logo;\r\n    var _settings;\r\n    const _img = new Image();\r\n\r\n    this.setup = function() {\r\n        _settings = Object.assign({}, LogoDefaults, _model.get('logo'));\r\n        _settings.position = _settings.position || LogoDefaults.position;\r\n        _settings.hide = (_settings.hide.toString() === 'true');\r\n\r\n        // We should only create a logo in the display container when\r\n        // it is not supposed to be in the control bar, as it will\r\n        // handle the creation in that case\r\n        if (!_settings.file || _settings.position === 'control-bar') {\r\n            return;\r\n        }\r\n\r\n        if (!_logo) {\r\n            _logo = createElement(logoTemplate(_settings.position, _settings.hide));\r\n        }\r\n\r\n        _model.set('logo', _settings);\r\n\r\n        // apply styles onload when image width and height are known\r\n        _img.onload = function () {\r\n            // update logo style\r\n            let height = this.height;\r\n            let width = this.width;\r\n            const styles = {\r\n                backgroundImage: 'url(\"' + this.src + '\")'\r\n            };\r\n            if (_settings.margin !== LogoDefaults.margin) {\r\n                const positions = (/(\\w+)-(\\w+)/).exec(_settings.position);\r\n                if (positions.length === 3) {\r\n                    styles['margin-' + positions[1]] = _settings.margin;\r\n                    styles['margin-' + positions[2]] = _settings.margin;\r\n                }\r\n            }\r\n\r\n            // Constraint logo size to 15% of their respective player dimension\r\n            const maxHeight = _model.get('containerHeight') * 0.15;\r\n            const maxWidth = _model.get('containerWidth') * 0.15;\r\n\r\n            if (height > maxHeight || width > maxWidth) {\r\n                const logoAR = width / height;\r\n                const videoAR = maxWidth / maxHeight;\r\n\r\n                if (videoAR > logoAR) {\r\n                    // height = max dimension\r\n                    height = maxHeight;\r\n                    width = maxHeight * logoAR;\r\n                } else {\r\n                    // width = max dimension\r\n                    width = maxWidth;\r\n                    height = maxWidth / logoAR;\r\n                }\r\n            }\r\n\r\n            styles.width = Math.round(width);\r\n            styles.height = Math.round(height);\r\n\r\n            style(_logo, styles);\r\n\r\n            // update title\r\n            _model.set('logoWidth', styles.width);\r\n        };\r\n\r\n        _img.src = _settings.file;\r\n\r\n        const logoInteractHandler = new UI(_logo);\r\n\r\n        if (_settings.link) {\r\n            _logo.setAttribute('tabindex', '0');\r\n            _logo.setAttribute('aria-label', 'Logo');\r\n        }\r\n\r\n        logoInteractHandler.on('click tap enter', function (evt) {\r\n            if (evt && evt.stopPropagation) {\r\n                evt.stopPropagation();\r\n            }\r\n\r\n            this.trigger(LOGO_CLICK, {\r\n                link: _settings.link,\r\n                linktarget: _settings.linktarget\r\n            });\r\n\r\n        }, this);\r\n    };\r\n\r\n    this.setContainer = function(container) {\r\n        if (_logo) {\r\n            container.appendChild(_logo);\r\n        }\r\n    };\r\n\r\n    this.element = function() {\r\n        return _logo;\r\n    };\r\n\r\n    this.position = function() {\r\n        return _settings.position;\r\n    };\r\n\r\n    this.destroy = function() {\r\n        _img.onload = null;\r\n    };\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/logo.js","export default (position, hide) => {\r\n    const jwhide = hide ? ' jw-hide' : '';\r\n    return `<div class=\"jw-logo jw-logo-${position}${jwhide} jw-reset\"></div>`;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/templates/logo.js","import { style } from 'utils/css';\r\n\r\nconst Preview = function(_model) {\r\n    this.model = _model;\r\n    this.image = null;\r\n};\r\n\r\nfunction validState(state) {\r\n    return state === 'complete' || state === 'idle' || state === 'error';\r\n}\r\n\r\nObject.assign(Preview.prototype, {\r\n    setup: function(element) {\r\n        this.el = element;\r\n    },\r\n    setImage: function(img) {\r\n        // Remove onload function from previous image\r\n        var image = this.image;\r\n        if (image) {\r\n            image.onload = null;\r\n        }\r\n        this.image = null;\r\n        if (!validState(this.model.get('state'))) {\r\n            return;\r\n        }\r\n        this.model.off('change:state', null, this);\r\n        var backgroundImage = '';\r\n        if (typeof img === 'string') {\r\n            backgroundImage = 'url(\"' + img + '\")';\r\n            image = this.image = new Image();\r\n            image.src = img;\r\n        }\r\n        style(this.el, {\r\n            backgroundImage: backgroundImage\r\n        });\r\n    },\r\n    resize: function(width, height, stretching) {\r\n        if (stretching === 'uniform') {\r\n            if (width) {\r\n                this.playerAspectRatio = width / height;\r\n            }\r\n            if (!this.playerAspectRatio ||\r\n                !this.image ||\r\n                !validState(this.model.get('state'))) {\r\n                return;\r\n            }\r\n            // snap image to edges when the difference in aspect ratio is less than 9%\r\n            var image = this.image;\r\n            var backgroundSize = null;\r\n            if (image) {\r\n                if (image.width === 0) {\r\n                    var _this = this;\r\n                    image.onload = function() {\r\n                        _this.resize(width, height, stretching);\r\n                    };\r\n                    return;\r\n                }\r\n                var imageAspectRatio = image.width / image.height;\r\n                if (Math.abs(this.playerAspectRatio - imageAspectRatio) < 0.09) {\r\n                    backgroundSize = 'cover';\r\n                }\r\n            }\r\n            style(this.el, {\r\n                backgroundSize: backgroundSize\r\n            });\r\n        }\r\n    },\r\n    element: function() {\r\n        return this.el;\r\n    }\r\n});\r\n\r\nexport default Preview;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/preview.js","import { style } from 'utils/css';\r\n\r\nconst Title = function(_model) {\r\n    this.model = _model;\r\n};\r\n\r\nObject.assign(Title.prototype, {\r\n    // This is normally shown/hidden by states\r\n    //   these are only used for when no title exists\r\n    hide: function() {\r\n        style(this.el, { display: 'none' });\r\n    },\r\n    show: function() {\r\n        style(this.el, { display: '' });\r\n    },\r\n\r\n    setup: function(titleEl) {\r\n        this.el = titleEl;\r\n\r\n        // Perform the DOM search only once\r\n        var arr = this.el.getElementsByTagName('div');\r\n        this.title = arr[0];\r\n        this.description = arr[1];\r\n\r\n        this.model.on('change:logoWidth', this.update, this);\r\n        this.model.change('playlistItem', this.playlistItem, this);\r\n    },\r\n\r\n    update: function(model) {\r\n        var titleStyle = {};\r\n        var logo = model.get('logo');\r\n        if (logo) {\r\n            // Only use Numeric or pixel (\"Npx\") margin values\r\n            var margin = 1 * ('' + logo.margin).replace('px', '');\r\n            var padding = model.get('logoWidth') + (isNaN(margin) ? 0 : margin + 10);\r\n            if (logo.position === 'top-left') {\r\n                titleStyle.paddingLeft = padding;\r\n            } else if (logo.position === 'top-right') {\r\n                titleStyle.paddingRight = padding;\r\n            }\r\n        }\r\n        style(this.el, titleStyle);\r\n    },\r\n\r\n    playlistItem: function(model, item) {\r\n        if (!item) {\r\n            return;\r\n        }\r\n        if (model.get('displaytitle') || model.get('displaydescription')) {\r\n            var title = '';\r\n            var description = '';\r\n\r\n            if (item.title && model.get('displaytitle')) {\r\n                title = item.title;\r\n            }\r\n            if (item.description && model.get('displaydescription')) {\r\n                description = item.description;\r\n            }\r\n\r\n            this.updateText(title, description);\r\n        } else {\r\n            this.hide();\r\n        }\r\n    },\r\n\r\n    updateText: function(title, description) {\r\n        this.title.innerHTML = title;\r\n        this.description.innerHTML = description;\r\n\r\n        if (this.title.firstChild || this.description.firstChild) {\r\n            this.show();\r\n        } else {\r\n            this.hide();\r\n        }\r\n    },\r\n\r\n    element: function() {\r\n        return this.el;\r\n    }\r\n});\r\n\r\nexport default Title;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/title.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/lib/index.js!../../node_modules/less-loader/dist/cjs.js??ref--0-3!./jwplayer.less\");\nif(typeof content === 'string') content = [['all-players', content, '']];\n// add the styles to the DOM\nrequire(\"!../../node_modules/simple-style-loader/addStyles.js\").style(content,'all-players');\nif(content.locals) module.exports = content.locals;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/css/jwplayer.less\n// module id = 161\n// module chunks = 0 1 2 3 5","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(undefined);\n// imports\n\n\n// module\nexports.push([module.id, \".jw-reset{color:inherit;background-color:transparent;padding:0;margin:0;float:none;font-family:Arial,Helvetica,sans-serif;font-size:1em;line-height:1em;list-style:none;text-align:left;text-transform:none;vertical-align:baseline;border:0;direction:ltr;font-variant:inherit;font-stretch:inherit;-webkit-tap-highlight-color:rgba(255,255,255,0)}body .jw-error,body .jwplayer.jw-state-error{height:100%;width:100%}.jw-title{position:absolute;top:0}.jw-background-color{background:rgba(0,0,0,0.4)}.jw-text{color:rgba(255,255,255,0.8)}.jw-knob{color:rgba(255,255,255,0.8);background-color:#fff}.jw-button-color{color:rgba(255,255,255,0.8)}:not(.jw-flag-touch) .jw-button-color:not(.jw-logo-button):focus,:not(.jw-flag-touch) .jw-button-color:not(.jw-logo-button):hover{outline:none;color:#fff}.jw-toggle{color:#fff}.jw-toggle.jw-off{color:rgba(255,255,255,0.8)}.jw-toggle.jw-off:focus{color:#fff}.jw-toggle:focus{outline:none}:not(.jw-flag-touch) .jw-toggle.jw-off:hover{color:#fff}.jw-rail{background:rgba(255,255,255,0.3)}.jw-buffer{background:rgba(255,255,255,0.3)}.jw-progress{background:#f2f2f2}.jw-time-tip,.jw-volume-tip{border:0}.jw-slider-volume.jw-volume-tip.jw-background-color.jw-slider-vertical{background:none}.jw-skip{padding:.5em;outline:none}.jw-skip .jw-skiptext,.jw-skip .jw-skip-icon{color:rgba(255,255,255,0.8)}.jw-skip.jw-skippable:hover .jw-skip-icon,.jw-skip.jw-skippable:focus .jw-skip-icon{color:#fff}.jw-icon-cast button{--connected-color:#fff;--disconnected-color:rgba(255,255,255,0.8)}.jw-icon-cast button:focus{outline:none}.jw-icon-cast button.jw-off{--connected-color:rgba(255,255,255,0.8)}.jw-icon-cast:focus button{--connected-color:#fff;--disconnected-color:#fff}.jw-icon-cast:hover button{--connected-color:#fff;--disconnected-color:#fff}.jw-nextup-container{bottom:2.5em;padding:5px .5em}.jw-nextup{border-radius:0}.jw-color-active{color:#fff;stroke:#fff;border-color:#fff}:not(.jw-flag-touch) .jw-color-active-hover:hover{color:#fff;stroke:#fff;border-color:#fff}.jw-color-inactive{color:rgba(255,255,255,0.8);stroke:rgba(255,255,255,0.8);border-color:rgba(255,255,255,0.8)}:not(.jw-flag-touch) .jw-color-inactive-hover:hover{color:rgba(255,255,255,0.8);stroke:rgba(255,255,255,0.8);border-color:rgba(255,255,255,0.8)}.jw-option{color:rgba(255,255,255,0.8)}.jw-option.jw-active-option{color:#fff;background-color:rgba(255,255,255,0.1)}:not(.jw-flag-touch) .jw-option:hover{color:#fff}.jwplayer{width:100%;font-size:16px;position:relative;display:block;min-height:0;overflow:hidden;box-sizing:border-box;font-family:Arial,Helvetica,sans-serif;background-color:#000;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.jwplayer *{box-sizing:inherit}.jwplayer.jw-flag-aspect-mode{height:auto !important}.jwplayer.jw-flag-aspect-mode .jw-aspect{display:block}.jwplayer .jw-aspect{display:none}.jwplayer.jw-no-focus:focus,.jwplayer .jw-swf{outline:none}.jwplayer.jw-ie:focus{outline:#585858 dotted 1px}.jw-media,.jw-preview{position:absolute;width:100%;height:100%;top:0;left:0;bottom:0;right:0}.jw-media{overflow:hidden;cursor:pointer}.jw-plugin{position:absolute;bottom:66px}.jw-plugin .jw-banner{max-width:100%;opacity:0;cursor:pointer;position:absolute;margin:auto auto 0;left:0;right:0;bottom:0;display:block}.jw-preview,.jw-captions,.jw-title{pointer-events:none}.jw-media,.jw-logo{pointer-events:all}.jwplayer video{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;margin:auto;background:transparent}.jwplayer video::-webkit-media-controls-start-playback-button{display:none}.jwplayer.jw-stretch-uniform video{object-fit:contain}.jwplayer.jw-stretch-none video{object-fit:none}.jwplayer.jw-stretch-fill video{object-fit:cover}.jwplayer.jw-stretch-exactfit video{object-fit:fill}.jw-preview{position:absolute;display:none;opacity:1;visibility:visible;width:100%;height:100%;background:#000 no-repeat 50% 50%}.jwplayer .jw-preview,.jw-error .jw-preview{background-size:contain}.jw-stretch-none .jw-preview{background-size:auto auto}.jw-stretch-fill .jw-preview{background-size:cover}.jw-stretch-exactfit .jw-preview{background-size:100% 100%}.jw-title{display:none;padding-top:20px;width:100%;z-index:1}.jw-title-primary,.jw-title-secondary{color:#fff;padding-left:20px;padding-right:20px;padding-bottom:.5em;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%}.jw-title-primary{font-size:1.625em}.jw-breakpoint-2 .jw-title-primary,.jw-breakpoint-3 .jw-title-primary{font-size:1.5em}.jw-flag-small-player .jw-title-primary{font-size:1.25em}.jw-flag-small-player .jw-title-secondary,.jw-title-secondary:empty{display:none}.jw-captions{position:absolute;width:100%;height:100%;text-align:center;display:none;max-height:calc(100% - 60px);letter-spacing:normal;word-spacing:normal;text-transform:none;text-indent:0;text-decoration:none;pointer-events:none;overflow:hidden;top:0}.jw-captions.jw-captions-enabled{display:block}.jw-captions-window{display:none;padding:.25em;border-radius:.25em}.jw-captions-window.jw-captions-window-active{display:inline-block}.jw-captions-text{display:inline-block;color:#fff;background-color:#000;word-wrap:normal;word-break:normal;white-space:pre-line;font-style:normal;font-weight:normal;text-align:center;text-decoration:none}.jw-text-track-display{font-size:inherit;line-height:1.5}.jw-text-track-cue{background-color:rgba(0,0,0,0.5);color:#fff;padding:.1em .3em}.jwplayer video::-webkit-media-controls{display:none;justify-content:flex-start}.jwplayer video::-webkit-media-text-track-container{max-height:calc(100% - 60px);line-height:normal}.jwplayer video::-webkit-media-text-track-display{min-width:-webkit-min-content}.jwplayer video::cue{background-color:rgba(0,0,0,0.5)}.jwplayer video::-webkit-media-controls-panel-container{display:none}.jw-logo{position:absolute;margin:20px;cursor:pointer;pointer-events:all;background-repeat:no-repeat;background-size:contain;top:auto;right:auto;left:auto;bottom:auto}.jw-flag-audio-player .jw-logo{display:none}.jw-logo-top-right{top:0;right:0}.jw-logo-top-left{top:0;left:0}.jw-logo-bottom-left{left:0}.jw-logo-bottom-right{right:0}.jw-logo-bottom-left,.jw-logo-bottom-right{bottom:44px;transition:bottom 150ms cubic-bezier(0, -0.25, .25, 1)}.jw-state-idle .jw-logo{z-index:1}.jw-state-setup{background-color:transparent}.jw-state-setup .jw-logo,.jw-state-setup .jw-controls,.jw-state-setup .jw-controls-backdrop{visibility:hidden}body .jw-error,body .jwplayer.jw-state-error{background-color:#333;color:#fff;font-size:16px;display:table;opacity:1;overflow:hidden;position:relative}body .jw-error .jw-display,body .jwplayer.jw-state-error .jw-display{display:none}body .jw-error .jw-media,body .jwplayer.jw-state-error .jw-media{cursor:default}body .jw-error .jw-preview,body .jwplayer.jw-state-error .jw-preview{background-color:#333}body .jw-error .jw-error-msg,body .jwplayer.jw-state-error .jw-error-msg{top:50%;position:absolute;left:50%;align-items:center;background-color:#000;border-radius:2px;display:flex;padding:20px;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%)}body .jw-error .jw-error-msg .jw-icon,body .jwplayer.jw-state-error .jw-error-msg .jw-icon{height:30px;width:30px;margin-right:20px;flex:0 0 auto}body .jw-error .jw-error-msg .jw-icon:empty,body .jwplayer.jw-state-error .jw-error-msg .jw-icon:empty{display:none}body .jw-error .jw-error-msg .jw-title,body .jwplayer.jw-state-error .jw-error-msg .jw-title{display:block;position:static}body .jw-error .jw-error-msg .jw-title,body .jwplayer.jw-state-error .jw-error-msg .jw-title,body .jw-error .jw-error-msg .jw-title-primary,body .jwplayer.jw-state-error .jw-error-msg .jw-title-primary,body .jw-error .jw-error-msg .jw-title-secondary,body .jwplayer.jw-state-error .jw-error-msg .jw-title-secondary{font-size:14px;line-height:1.35;padding:0}body .jw-error .jw-error-msg .jw-title-primary,body .jwplayer.jw-state-error .jw-error-msg .jw-title-primary{font-weight:600;white-space:normal}.jwplayer.jw-state-error.jw-flag-audio-player .jw-error-msg{height:100%;width:100%;top:0;position:absolute;left:0;background:#000;-webkit-transform:none;transform:none;padding:0 16px;z-index:1}body .jwplayer.jw-state-error .jw-title,body .jw-error .jw-title,.jw-state-idle .jw-title,.jwplayer.jw-state-complete:not(.jw-flag-casting):not(.jw-flag-audio-player):not(.jw-flag-overlay-open-related) .jw-title{display:block}body .jwplayer.jw-state-error .jw-preview,body .jw-error .jw-preview,.jw-state-idle .jw-preview,.jwplayer.jw-state-complete:not(.jw-flag-casting):not(.jw-flag-audio-player):not(.jw-flag-overlay-open-related) .jw-preview{display:block}.jw-state-idle .jw-captions,.jwplayer.jw-state-complete .jw-captions,body .jwplayer.jw-state-error .jw-captions{display:none}.jw-state-idle video::-webkit-media-text-track-container,.jwplayer.jw-state-complete video::-webkit-media-text-track-container,body .jwplayer.jw-state-error video::-webkit-media-text-track-container{display:none}.jwplayer.jw-flag-fullscreen{width:100% !important;height:100% !important;top:0;right:0;bottom:0;left:0;z-index:1000;margin:0;position:fixed}body .jwplayer.jw-flag-flash-blocked .jw-title{display:block}.jwplayer.jw-flag-controls-hidden .jw-captions{max-height:none}.jwplayer.jw-flag-controls-hidden video::-webkit-media-text-track-container{max-height:none}.jwplayer.jw-flag-controls-hidden .jw-media{cursor:default}.jw-flag-audio-player:not(.jw-flag-flash-blocked) .jw-media{visibility:hidden}.jw-flag-audio-player .jw-title{background:none}.jw-flag-audio-player object{min-height:45px}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader!./node_modules/postcss-loader/lib!./node_modules/less-loader/dist/cjs.js?{\"compress\":true,\"strictMath\":true,\"noIeCompat\":true}!./src/css/jwplayer.less\n// module id = 162\n// module chunks = 0 1 2 3 5","export default function middleware(model, type, currentState) {\r\n    let newState = currentState;\r\n\r\n    switch (type) {\r\n        case 'time':\r\n        case 'beforePlay':\r\n        case 'pause':\r\n        case 'play':\r\n        case 'ready': {\r\n            const viewable = model.get('viewable');\r\n            // Don't add viewable to events if we don't know we're viewable\r\n            if (viewable !== undefined) {\r\n                // Emit viewable as 0 or 1\r\n                newState = Object.assign({}, currentState, { viewable: viewable });\r\n            }\r\n            break;\r\n        }\r\n        default: {\r\n            break;\r\n        }\r\n    }\r\n\r\n    return newState;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/controller/events-middleware.js","\r\n// It's DVR if the duration is above the minDvrWindow, Live otherwise\r\nexport function isDvr(duration, minDvrWindow) {\r\n    return Math.abs(duration) >= Math.max(minDvrWindow, 0);\r\n}\r\n\r\n// Determine the adaptive type - Live, DVR, or VOD\r\n// Duration can be positive or negative, but minDvrWindow should always be positive\r\nexport function streamType(duration, minDvrWindow) {\r\n    const _minDvrWindow = (minDvrWindow === undefined) ? 120 : minDvrWindow;\r\n    let type = 'VOD';\r\n\r\n    if (duration === Infinity) {\r\n        // Live streams are always Infinity duration\r\n        type = 'LIVE';\r\n    } else if (duration < 0) {\r\n        type = isDvr(duration, _minDvrWindow) ? 'DVR' : 'LIVE';\r\n    }\r\n\r\n    // Default option is VOD (i.e. positive or non-infinite)\r\n    return type;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/providers/utils/stream-type.js"],"sourceRoot":""}