{"version":3,"sources":["webpack:///webpack/bootstrap 700ef7800064d1e909f1","webpack:///./src/js/utils/underscore.js","webpack:///./src/js/utils/strings.js","webpack:///./src/js/events/events.js","webpack:///./src/js/utils/helpers.js","webpack:///./src/js/polyfills/promise.js","webpack:///./src/js/utils/backbone.events.js","webpack:///./src/js/utils/parser.js","webpack:///./src/js/api/core-loader.js","webpack:///./src/js/parsers/parsers.js","webpack:///./src/js/providers/providers-supported.js","webpack:///./src/js/utils/validator.js","webpack:///./src/js/api/api-settings.js","webpack:///./src/js/version.js","webpack:///./src/js/api/timer.js","webpack:///./src/js/utils/playerutils.js","webpack:///./src/js/providers/providers-register.js","webpack:///./src/js/playlist/item.js","webpack:///./src/js/utils/dom.js","webpack:///./src/js/environment/environment.js","webpack:///./src/js/utils/css.js","webpack:///./src/js/api/players.js","webpack:///./src/js/utils/browser.js","webpack:///./src/js/playlist/playlist.js","webpack:///./src/js/providers/providers.js","webpack:///./src/js/providers/providers-loaded.js","webpack:///./src/js/playlist/source.js","webpack:///./src/js/utils/scriptloader.js","webpack:///./src/js/plugins/plugins.js","webpack:///./src/js/api/set-playlist.js","webpack:///./node_modules/simple-style-loader/addStyles.js","webpack:///./src/js/view/error-container.js","webpack:///./src/js/utils/date.js","webpack:///./src/js/api/core-shim.js","webpack:///./src/js/api/api-queue.js","webpack:///./src/js/controller/controls-loader.js","webpack:///./src/js/playlist/loader.js","webpack:///./src/js/model/simplemodel.js","webpack:///./src/js/model/player-model.js","webpack:///./src/js/api/get-media-element.js","webpack:///./src/js/providers/html5-android-hls.js","webpack:///./src/js/providers/default.js","webpack:///./src/js/jwplayer.js","webpack:///./src/js/api/global-api.js","webpack:///./src/js/environment/browser-version.js","webpack:///./src/js/environment/os-version.js","webpack:///./src/js/utils/video.js","webpack:///./src/js/api/api.js","webpack:///./src/js/api/config.js","webpack:///./src/js/api/Setup.js","webpack:///./src/js/api/setup-steps.js","webpack:///./src/js/playlist/preload.js","webpack:///./src/js/playlist/track.js","webpack:///./src/js/utils/clock.js","webpack:///./src/js/utils/trycatch.js","webpack:///./src/js/utils/ajax.js","webpack:///./src/templates/error.js","webpack:///./src/js/parsers/rssparser.js","webpack:///./src/js/parsers/mediaparser.js","webpack:///./src/js/parsers/jwparser.js","webpack:///./src/js/plugins/loader.js","webpack:///./src/js/plugins/model.js","webpack:///./src/js/plugins/plugin.js","webpack:///./src/js/model/storage.js"],"names":["breaker","ArrayProto","Array","prototype","ObjProto","Object","FuncProto","Function","slice","concat","toString","hasOwnProperty","nativeMap","map","nativeReduce","reduce","nativeForEach","forEach","nativeFilter","filter","nativeEvery","every","nativeSome","some","nativeIndexOf","indexOf","nativeIsArray","isArray","nativeKeys","keys","nativeBind","bind","_","obj","each","iterator","context","i","length","call","collect","results","value","index","list","push","reduceError","foldl","inject","memo","initial","arguments","TypeError","find","detect","predicate","result","any","select","reject","compact","array","identity","all","size","last","n","guard","Math","max","after","times","func","apply","before","lookupIterator","isFunction","property","group","behavior","key","groupBy","has","indexBy","sortedIndex","low","high","mid","contains","include","target","values","pluck","where","attrs","matches","findWhere","Infinity","lastComputed","computed","difference","rest","without","item","isSorted","ctor","args","bound","self","partial","boundArgs","position","once","memoize","hasher","delay","wait","setTimeout","defer","throttle","options","timeout","previous","later","leading","remaining","clearTimeout","trailing","isObject","invert","defaults","source","prop","extend","pick","copy","omit","clone","name","isFinite","isNaN","parseFloat","isNumber","isBoolean","isNull","isUndefined","constant","propertyOf","now","object","trim","pad","xmlAttribute","extension","hms","seconds","prefix","suffix","inputString","replace","str","padder","xml","attribute","attrib","attributes","toLowerCase","getAzureFileFormat","path","test","substr","azureFormat","split","lastIndexOf","secondsNumber","h","parseInt","m","s","toFixed","frameRate","arr","arrLength","sec","secIndex","add","val","STATE_BUFFERING","STATE_IDLE","STATE_COMPLETE","STATE_PAUSED","STATE_PLAYING","STATE_ERROR","STATE_LOADING","STATE_STALLED","DRAG","DRAG_START","DRAG_END","CLICK","DOUBLE_CLICK","TAP","DOUBLE_TAP","OVER","MOVE","ENTER","OUT","ERROR","AD_CLICK","AD_COMPANIONS","AD_COMPLETE","AD_ERROR","AD_IMPRESSION","AD_META","AD_PAUSE","AD_PLAY","AD_SKIPPED","AD_TIME","MEDIA_COMPLETE","READY","MEDIA_SEEK","MEDIA_BEFOREPLAY","MEDIA_BEFORECOMPLETE","MEDIA_BUFFER_FULL","DISPLAY_CLICK","PLAYLIST_COMPLETE","CAST_SESSION","MEDIA_ERROR","MEDIA_FIRST_FRAME","MEDIA_PLAY_ATTEMPT","MEDIA_PLAY_ATTEMPT_FAILED","MEDIA_LOADED","MEDIA_SEEKED","SETUP_ERROR","PLAYER_STATE","CAST_AVAILABLE","MEDIA_BUFFER","MEDIA_TIME","MEDIA_RATE_CHANGE","MEDIA_TYPE","MEDIA_VOLUME","MEDIA_MUTE","MEDIA_META","MEDIA_LEVELS","MEDIA_LEVEL_CHANGED","CONTROLS","FULLSCREEN","RESIZE","PLAYLIST_ITEM","PLAYLIST_LOADED","AUDIO_TRACKS","AUDIO_TRACK_CHANGED","PLAYBACK_RATE_CHANGED","LOGO_CLICK","CAPTIONS_LIST","CAPTIONS_CHANGED","PROVIDER_CHANGED","PROVIDER_FIRST_FRAME","USER_ACTION","INSTREAM_CLICK","BREAKPOINT","playerutils","validator","parser","log","console","between","num","min","foreach","aData","fnEach","noop","helpers","addClass","hasClass","removeClass","replaceClass","toggleClass","classList","styleDimension","createElement","emptyElement","addStyleSheet","bounds","css","clearCss","style","transform","getRgba","ajax","crossdomain","tryCatch","Error","Timer","flashVersion","isIframe","setTimeoutFunc","window","setImmediateFunc","setImmediate","fn","thisArg","PromisePolyfill","_state","_handled","_value","undefined","_deferreds","doResolve","handle","deferred","_immediateFn","cb","onFulfilled","onRejected","resolvePromise","rejectPromise","promise","ret","e","newValue","then","finale","_unhandledRejectionFn","len","Handler","done","reason","ex","prom","constructor","resolve","res","resultVal","race","err","warn","Promise","resolved","on","off","trigger","triggerSafe","callback","eventsApi","_events","events","count","onceCallback","_callback","names","l","retain","j","k","ev","allEvents","triggerEvents","eventSplitter","action","catchExceptionsForName","getAbsolutePath","isAbsolutePath","parseXML","serialize","parseDimension","timeFormat","base","document","location","href","protocol","substring","domain","patharray","basepath","pop","join","containsParserErrors","childNodes","node","nodeName","input","parsedXML","DOMParser","parseFromString","ActiveXObject","async","loadXML","lowercaseVal","Number","dimension","allowNegative","abs","hrs","floor","mins","secs","loadCoreBundle","chunkLoadErrorHandler","selectBundle","requiresPolyfills","requiresProvider","bundlePromise","bundleContainsProviders","model","controls","get","polyfills","html5Provider","loadControlsPolyfillHtml5Bundle","loadControlsHtml5Bundle","loadControlsPolyfillBundle","loadControlsBundle","loadCore","IntersectionObserverEntry","providerName","playlist","sources","providersManager","getProviders","provider","providerSupports","html5","require","CoreMixin","default","loadIntersectionObserverIfNeeded","localName","textContent","getChildNode","numChildren","baseName","text","parent","MimeTypes","aac","mp4","f4v","m4v","mov","mp3","mpeg","ogv","ogg","oga","vorbis","webm","f4a","m3u8","m3u","hls","SupportsMatrix","supports","canPlayType","file","type","mimeType","exists","isHTTPS","isRtmp","isYouTube","typeOf","typeofString","debug","version","startTimes","sum","counts","ticks","start","methodName","end","dump","runningSums","sums","tick","event","clear","left","right","getScriptPath","scriptName","scripts","getElementsByTagName","src","repo","playerRepo","versionCheck","tParts","jParts","tMajor","jMajor","loadFrom","registerProvider","getName","unshift","Item","config","tracks","playlistItem","minDvrWindow","levels","def","label","captions","track","empty","prependChild","element","searchClass","className","nodeType","html","newElement","innerHTML","firstChild","classNameArray","isString","setClassName","classes","originalClasses","addClasses","c","removeClasses","pattern","replaceWith","toggleTo","hasIt","removeChild","url","link","rel","appendChild","boundsRect","width","height","top","bottom","body","rect","getBoundingClientRect","scrollOffsetY","pageYOffset","scrollOffsetX","pageXOffset","parentElement","childElement","insertBefore","userAgent","navigator","Browser","OS","Features","isWindows","defineProperties","androidNative","enumerable","chrome","edge","facebook","firefox","ie","msie","safari","android","iOS","mobile","mac","iPad","iPhone","windows","flash","iframe","selector","styles","playerId","important","cssText","el","styleCSSText","elements","cssRules","_styleValue","styleName","_styleAttributeName","charAt","toUpperCase","ceil","webkitTransform","msTransform","mozTransform","oTransform","canvasColorContext","color","opacity","colorFn","hasAlpha","canvas","getContext","clearRect","fillStyle","fillRect","data","getImageData","instances","isInt","isFlashSupported","isEdge","isMSIE","isChrome","isIE","isSafari","isIOS","isAndroidNative","isAndroid","isMobile","userAgentMatch","regex","match","lazyUserAgentMatch","isFF","isIETrident","isIPod","isIPad","isOSX","isFacebook","plugins","description","GetVariable","filterPlaylist","Playlist","feedData","providers","preload","itemFeedData","allSources","formatSources","filterSources","androidhls","itemDrm","drm","withCredentials","fallbackIfUndefined","hlsjsdefault","originalSource","cascadedWithCredentials","choose","chosenProviderAndType","chooseProviderAndType","bestType","chosenProvider","providerToCheck","fallback","Providers","Loaders","load","providersToLoad","providerLoaderMethod","required","loadProvider","supported","splice","priority","ProvidersLoaded","Source","mimetypeRegEx","ScriptPromises","SCRIPT_LOAD_TIMEOUT","SCRIPT_LOAD_STATUS_NEW","SCRIPT_LOAD_STATUS_LOADING","SCRIPT_LOAD_STATUS_ERROR","SCRIPT_LOAD_STATUS_COMPLETE","makeStyleLink","styleUrl","makeScriptTag","scriptUrl","scriptTag","charset","ScriptLoader","isStyle","_this","status","onError","evt","onComplete","getStatus","catch","makeTag","doneLoading","onerror","onload","onScriptLoadingError","error","head","documentElement","loadPlugins","pluginsModel","pluginLoaders","getPluginLoader","id","registerPlugin","minimumVersion","pluginClass","plugin","addPlugin","js","api","pluginsConfig","jwplayerPluginJsonp","pluginLoader","message","loadProvidersForPlaylist","setPlaylist","set","filteredPlaylist","providersNeeded","ErrorContainer","title","Date","getTime","showView","ModelShim","CoreShim","originalContainer","modelShim","_qoeItem","setup","currentContainer","apiQueue","init","storage","persisted","getAllItems","configuration","setProvider","mediaElement","allPromises","commandQueue","queue","destroy","coreModel","_model","setItemIndex","playerReady","setupError","playerDestroy","getContainer","getItemQoe","getConfig","getCurrentCaptions","getWidth","getHeight","getMute","getProvider","getState","getAudioTracks","getCaptionsList","getQualityLevels","getVisualQuality","getCurrentQuality","getCurrentAudioTrack","getSafeRegion","x","y","isBeforeComplete","isBeforePlay","createInstream","skipAd","attachMedia","detachMedia","core","code","errorContainer","cloneIcon","querySelector","errorEvent","viewElement","newContainer","getElementById","replaceChild","ApiQueueDecorator","instance","queuedCommands","undecoratedMethods","command","method","executeQueuedCommands","shift","defineProperty","flush","controlsPromise","module","ControlsModule","PlaylistLoader","playlistfile","playlistLoaded","playlistError","loadedEvent","responseXML","rss","jsonObj","nextSibling","rssPlaylist","pl","JSON","parse","responseText","msg","SimpleModel","attr","oldVal","cloned","change","currentVal","INITIAL_PLAYER_STATE","itemMeta","state","flashBlocked","duration","buffer","getMediaElement","media","isAndroidHls","returnFalse","DefaultProvider","play","stop","volume","mute","seek","resize","remove","setVisibility","setFullscreen","getFullscreen","setContainer","setCurrentQuality","setCurrentAudioTrack","setPlaybackRate","getPlaybackRate","checkComplete","setControls","setState","newstate","sendMediaType","isAudioFile","mediaType","__webpack_public_path__","jwplayer","query","player","domElement","playerById","p","availableProviders","browserVersion","browserEnvironment","agent","major","minor","ix","osVersion","execResult","osEnvironment","exec","versionNumbers","video","Api","Environment","instancesCreated","coreFactory","_qoe","setupTime","resetPlayer","removePlayer","uniqueId","qoeTimer","pluginsMap","Events","utils","qoe","qoeItem","firstFrame","getFirstFrame","getBuffer","getCaptions","getControls","getDuration","getEnvironment","getItemMeta","getPlaylist","getPlaylistIndex","getPlaylistItem","getPosition","excludeControlbar","getStretching","getViewable","getVolume","setCaptions","captionsStyles","setConfig","toggle","setCurrentCaptions","setMute","playbackRate","setCues","sliderCues","setVolume","level","toLoad","meta","pause","playToggle","playlistNext","playlistPrev","next","castToggle","addButton","img","tooltip","btnClass","removeButton","getPlugin","pluginInstance","addToPlayer","resizeHandler","getAdBlock","playAd","adBreak","pauseAd","Defaults","autostart","displaytitle","displaydescription","mobilecontrols","defaultPlaybackRate","playbackRateControls","playbackRates","repeat","castAvailable","stretching","audioMode","localization","playback","prev","cast","airplay","fullscreen","hd","cc","audioTracks","replay","more","liveBroadcast","loadingAd","rewind","nextUp","nextUpClose","related","close","settings","unmute","renderCaptionsNatively","nextUpDisplay","_deserialize","_normalizeSize","Config","allOptions","aspectratio","_evaluateAspectRatio","rateControls","rates","rate","round","sort","configPlaylist","qualityLabels","hlslabels","ar","w","SETUP_TIMEOUT_SECONDS","Setup","_setupFailureTimeout","setupPromise","loadPlaylist","playlistLoader","loadedPlaylist","destroyed","firstProviderNeeded","isSkinLoaded","skinPath","ss","styleSheets","loadSkin","skinUrl","isStylesheet","loader","_destroyed","startSetup","getPreload","preloadValues","none","metadata","auto","Track","kind","dateTime","performance","timing","startDate","navigationStart","JwError","ctx","abortAjax","useDomParser","uri","a","b","host","completeCallback","errorCallback","xhr","retryWithoutCredentials","timeoutId","oncomplete","responseType","requireValidXML","plainText","XDomainRequest","_ajaxComplete","ontimeout","onprogress","XMLHttpRequest","onreadystatechange","_readyStateChangeHandler","requestError","_requestError","overrideMimeType","open","onabort","send","abort","currentTarget","readyState","statusText","_jsonResponse","_xmlResponse","response","doc","parseRss","dat","subNode","parseItem","mediaid","date","tags","mediaparser","PREFIX","getLabel","LANGS","zh","nl","en","fr","de","it","ja","pt","ru","es","mediaTypes","findMediaTypes","image","entry","contentNode","parseEntry","itm","_localName","configurePlugin","pluginObj","pluginConfig","pluginName","div","pluginOptions","getNewInstance","PluginLoader","pluginUrl","pluginsRegistered","getPluginName","PluginModel","fromLoader","getPlugins","PLUGIN_PATH_TYPE_ABSOLUTE","PLUGIN_PATH_TYPE_RELATIVE","PLUGIN_PATH_TYPE_CDN","getPluginPathType","folder","fileExtension","getJSPath","Plugin","PluginClass","overlaysElement","displayArea","displayarea","clientWidth","clientHeight","removeItem","localStorage","Storage","namespace","persistItems","items","changeModel"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAQ,oBAAoB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kDAA0C,WAAW,EAAE;AACvD;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAI;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uDAA+C,kSAAkS;AACjV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA,kDAA0C,oBAAoB,WAAW;;AAEzE;AACA;;;;;;;;;;;;;;;;;;;AC/IA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAIA,UAAU,EAAd;;AAEA;AACA,IAAIC,aAAaC,MAAMC,SAAvB;AACA,IAAIC,WAAWC,OAAOF,SAAtB;AACA,IAAIG,YAAYC,SAASJ,SAAzB;;AAEA;AACA,IAAIK,QAAQP,WAAWO,KAAvB;AACA,IAAIC,SAASR,WAAWQ,MAAxB;AACA,IAAIC,WAAWN,SAASM,QAAxB;AACA,IAAIC,iBAAiBP,SAASO,cAA9B;;AAEA;AACA;AACA,IAAIC,YAAYX,WAAWY,GAA3B;AACA,IAAIC,eAAeb,WAAWc,MAA9B;AACA,IAAIC,gBAAgBf,WAAWgB,OAA/B;AACA,IAAIC,eAA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","file":"jwplayer.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tvar parentJsonpFunction = window[\"webpackJsonpjwplayer\"];\n \twindow[\"webpackJsonpjwplayer\"] = function webpackJsonpCallback(chunkIds, moreModules, executeModules) {\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [], result;\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(chunkIds, moreModules, executeModules);\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t};\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// objects to store loaded and loading chunks\n \tvar installedChunks = {\n \t\t10: 0\n \t};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData === 0) {\n \t\t\treturn new Promise(function(resolve) { resolve(); });\n \t\t}\n\n \t\t// a Promise means \"currently loading\".\n \t\tif(installedChunkData) {\n \t\t\treturn installedChunkData[2];\n \t\t}\n\n \t\t// setup Promise in chunk cache\n \t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t});\n \t\tinstalledChunkData[2] = promise;\n\n \t\t// start chunk loading\n \t\tvar head = document.getElementsByTagName('head')[0];\n \t\tvar script = document.createElement('script');\n \t\tscript.type = 'text/javascript';\n \t\tscript.charset = 'utf-8';\n \t\tscript.async = true;\n \t\tscript.timeout = 120000;\n\n \t\tif (__webpack_require__.nc) {\n \t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t}\n \t\tscript.src = __webpack_require__.p + \"\" + ({\"0\":\"jwplayer.core.controls.polyfills.html5\",\"1\":\"jwplayer.core.controls.html5\",\"2\":\"jwplayer.core.controls.polyfills\",\"3\":\"jwplayer.core.controls\",\"4\":\"jwplayer.controls\",\"5\":\"jwplayer.core\",\"6\":\"provider.html5\",\"7\":\"polyfills.intersection-observer\",\"8\":\"vttparser\",\"9\":\"polyfills.webvtt\"}[chunkId]||chunkId) + \".js\";\n \t\tvar timeout = setTimeout(onScriptComplete, 120000);\n \t\tscript.onerror = script.onload = onScriptComplete;\n \t\tfunction onScriptComplete() {\n \t\t\t// avoid mem leaks in IE.\n \t\t\tscript.onerror = script.onload = null;\n \t\t\tclearTimeout(timeout);\n \t\t\tvar chunk = installedChunks[chunkId];\n \t\t\tif(chunk !== 0) {\n \t\t\t\tif(chunk) {\n \t\t\t\t\tchunk[1](new Error('Loading chunk ' + chunkId + ' failed.'));\n \t\t\t\t}\n \t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t}\n \t\t};\n \t\thead.appendChild(script);\n\n \t\treturn promise;\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 45);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 700ef7800064d1e909f1","import { now } from 'utils/date';\r\n\r\n/* eslint-disable no-unused-expressions,new-cap */\r\n//     Underscore.js 1.6.0\r\n//     http://underscorejs.org\r\n//     (c) 2009-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\r\n//     Underscore may be freely distributed under the MIT license.\r\n\r\n// https://github.com/jashkenas/underscore/blob/1f4bf626f23a99f7a676f5076dc1b1475554c8f7/underscore.js\r\n\r\n/* eslint no-eq-null: 0 */\r\n/* eslint eqeqeq: 0 */\r\n/* eslint no-void: 0 */\r\n/* eslint guard-for-in: 0 */\r\n/* eslint no-constant-condition: 0 */\r\n\r\n// Establish the object that gets returned to break out of a loop iteration.\r\nvar breaker = {};\r\n\r\n// Save bytes in the minified (but not gzipped) version:\r\nvar ArrayProto = Array.prototype;\r\nvar ObjProto = Object.prototype;\r\nvar FuncProto = Function.prototype;\r\n\r\n// Create quick reference variables for speed access to core prototypes.\r\nvar slice = ArrayProto.slice;\r\nvar concat = ArrayProto.concat;\r\nvar toString = ObjProto.toString;\r\nvar hasOwnProperty = ObjProto.hasOwnProperty;\r\n\r\n// All **ECMAScript 5** native function implementations that we hope to use\r\n// are declared here.\r\nvar nativeMap = ArrayProto.map;\r\nvar nativeReduce = ArrayProto.reduce;\r\nvar nativeForEach = ArrayProto.forEach;\r\nvar nativeFilter = ArrayProto.filter;\r\nvar nativeEvery = ArrayProto.every;\r\nvar nativeSome = ArrayProto.some;\r\nvar nativeIndexOf = ArrayProto.indexOf;\r\nvar nativeIsArray = Array.isArray;\r\nvar nativeKeys = Object.keys;\r\nvar nativeBind = FuncProto.bind;\r\n\r\n\r\n// Create a safe reference to the Underscore object for use below.\r\nvar _ = function (obj) {\r\n    if (obj instanceof _) {\r\n        return obj;\r\n    }\r\n    if (!(this instanceof _)) {\r\n        return new _(obj);\r\n    }\r\n};\r\n\r\n// Collection Functions\r\n// --------------------\r\n\r\n// The cornerstone, an `each` implementation, aka `forEach`.\r\n// Handles objects with the built-in `forEach`, arrays, and raw objects.\r\n// Delegates to **ECMAScript 5**'s native `forEach` if available.\r\nvar each = _.each = _.forEach = function (obj, iterator, context) {\r\n    var i;\r\n    var length;\r\n    if (obj == null) {\r\n        return obj;\r\n    }\r\n    if (nativeForEach && obj.forEach === nativeForEach) {\r\n        obj.forEach(iterator, context);\r\n    } else if (obj.length === +obj.length) {\r\n        for (i = 0, length = obj.length; i < length; i++) {\r\n            if (iterator.call(context, obj[i], i, obj) === breaker) {\r\n                return;\r\n            }\r\n        }\r\n    } else {\r\n        var keys = _.keys(obj);\r\n        for (i = 0, length = keys.length; i < length; i++) {\r\n            if (iterator.call(context, obj[keys[i]], keys[i], obj) === breaker) {\r\n                return;\r\n            }\r\n        }\r\n    }\r\n    return obj;\r\n};\r\n\r\n// Return the results of applying the iterator to each element.\r\n// Delegates to **ECMAScript 5**'s native `map` if available.\r\n_.map = _.collect = function (obj, iterator, context) {\r\n    var results = [];\r\n    if (obj == null) {\r\n        return results;\r\n    }\r\n    if (nativeMap && obj.map === nativeMap) {\r\n        return obj.map(iterator, context);\r\n    }\r\n    each(obj, function (value, index, list) {\r\n        results.push(iterator.call(context, value, index, list));\r\n    });\r\n    return results;\r\n};\r\n\r\nvar reduceError = 'Reduce of empty array with no initial value';\r\n\r\n// **Reduce** builds up a single result from a list of values, aka `inject`,\r\n// or `foldl`. Delegates to **ECMAScript 5**'s native `reduce` if available.\r\n_.reduce = _.foldl = _.inject = function(obj, iterator, memo, context) {\r\n    var initial = arguments.length > 2;\r\n    if (obj == null) {\r\n        obj = [];\r\n    }\r\n    if (nativeReduce && obj.reduce === nativeReduce) {\r\n        if (context) {\r\n            iterator = _.bind(iterator, context);\r\n        }\r\n        return initial ? obj.reduce(iterator, memo) : obj.reduce(iterator);\r\n    }\r\n    each(obj, function(value, index, list) {\r\n        if (!initial) {\r\n            memo = value;\r\n            initial = true;\r\n        } else {\r\n            memo = iterator.call(context, memo, value, index, list);\r\n        }\r\n    });\r\n    if (!initial) {\r\n        throw new TypeError(reduceError);\r\n    }\r\n    return memo;\r\n};\r\n\r\n// Return the first value which passes a truth test. Aliased as `detect`.\r\n_.find = _.detect = function (obj, predicate, context) {\r\n    var result;\r\n    any(obj, function (value, index, list) {\r\n        if (predicate.call(context, value, index, list)) {\r\n            result = value;\r\n            return true;\r\n        }\r\n    });\r\n    return result;\r\n};\r\n\r\n\r\n// Return all the elements that pass a truth test.\r\n// Delegates to **ECMAScript 5**'s native `filter` if available.\r\n// Aliased as `select`.\r\n_.filter = _.select = function (obj, predicate, context) {\r\n    var results = [];\r\n    if (obj == null) {\r\n        return results;\r\n    }\r\n    if (nativeFilter && obj.filter === nativeFilter) {\r\n        return obj.filter(predicate, context);\r\n    }\r\n    each(obj, function (value, index, list) {\r\n        if (predicate.call(context, value, index, list)) {\r\n            results.push(value);\r\n        }\r\n    });\r\n    return results;\r\n};\r\n\r\n// Return all the elements for which a truth test fails.\r\n_.reject = function(obj, predicate, context) {\r\n    return _.filter(obj, function(value, index, list) {\r\n        return !predicate.call(context, value, index, list);\r\n    }, context);\r\n};\r\n\r\n// Trim out all falsy values from an array.\r\n_.compact = function(array) {\r\n    return _.filter(array, _.identity);\r\n};\r\n\r\n\r\n// Determine whether all of the elements match a truth test.\r\n// Delegates to **ECMAScript 5**'s native `every` if available.\r\n// Aliased as `all`.\r\n_.every = _.all = function (obj, predicate, context) {\r\n    predicate || (predicate = _.identity);\r\n    var result = true;\r\n    if (obj == null) {\r\n        return result;\r\n    }\r\n    if (nativeEvery && obj.every === nativeEvery) {\r\n        return obj.every(predicate, context);\r\n    }\r\n    each(obj, function (value, index, list) {\r\n        if (!(result = result && predicate.call(context, value, index, list))) {\r\n            return breaker;\r\n        }\r\n    });\r\n    return !!result;\r\n};\r\n\r\n// Determine if at least one element in the object matches a truth test.\r\n// Delegates to **ECMAScript 5**'s native `some` if available.\r\n// Aliased as `any`.\r\nvar any = _.some = _.any = function (obj, predicate, context) {\r\n    predicate || (predicate = _.identity);\r\n    var result = false;\r\n    if (obj == null) {\r\n        return result;\r\n    }\r\n    if (nativeSome && obj.some === nativeSome) {\r\n        return obj.some(predicate, context);\r\n    }\r\n    each(obj, function (value, index, list) {\r\n        if (result || (result = predicate.call(context, value, index, list))) {\r\n            return breaker;\r\n        }\r\n    });\r\n    return !!result;\r\n};\r\n\r\n// returns the size of an object\r\n_.size = function (obj) {\r\n    if (obj == null) {\r\n        return 0;\r\n    }\r\n    return obj.length === +obj.length ? obj.length : _.keys(obj).length;\r\n};\r\n\r\n\r\n// Array Functions\r\n// ---------------\r\n\r\n\r\n// Get the last element of an array. Passing **n** will return the last N\r\n// values in the array. The **guard** check allows it to work with `_.map`.\r\n_.last = function(array, n, guard) {\r\n    if (array == null) {\r\n        return void 0;\r\n    }\r\n    if ((n == null) || guard) {\r\n        return array[array.length - 1];\r\n    }\r\n    return slice.call(array, Math.max(array.length - n, 0));\r\n};\r\n\r\n\r\n// Returns a function that will only be executed after being called N times.\r\n_.after = function (times, func) {\r\n    return function () {\r\n        if (--times < 1) {\r\n            return func.apply(this, arguments);\r\n        }\r\n    };\r\n};\r\n\r\n// Returns a function that will only be executed up to (but not including) the Nth call.\r\n_.before = function(times, func) {\r\n    var memo;\r\n    return function() {\r\n        if (--times > 0) {\r\n            memo = func.apply(this, arguments);\r\n        }\r\n        if (times <= 1) {\r\n            func = null;\r\n        }\r\n        return memo;\r\n    };\r\n};\r\n\r\n// An internal function to generate lookup iterators.\r\nvar lookupIterator = function (value) {\r\n    if (value == null) {\r\n        return _.identity;\r\n    }\r\n    if (_.isFunction(value)) {\r\n        return value;\r\n    }\r\n    return _.property(value);\r\n};\r\n\r\n\r\n// An internal function used for aggregate \"group by\" operations.\r\nvar group = function(behavior) {\r\n    return function(obj, iterator, context) {\r\n        var result = {};\r\n        iterator = lookupIterator(iterator);\r\n        each(obj, function(value, index) {\r\n            var key = iterator.call(context, value, index, obj);\r\n            behavior(result, key, value);\r\n        });\r\n        return result;\r\n    };\r\n};\r\n\r\n// Groups the object's values by a criterion. Pass either a string attribute\r\n// to group by, or a function that returns the criterion.\r\n_.groupBy = group(function(result, key, value) {\r\n    _.has(result, key) ? result[key].push(value) : result[key] = [value];\r\n});\r\n\r\n\r\n// Indexes the object's values by a criterion, similar to `groupBy`, but for\r\n// when you know that your index values will be unique.\r\n_.indexBy = group(function(result, key, value) {\r\n    result[key] = value;\r\n});\r\n\r\n\r\n// Use a comparator function to figure out the smallest index at which\r\n// an object should be inserted so as to maintain order. Uses binary search.\r\n_.sortedIndex = function (array, obj, iterator, context) {\r\n    iterator = lookupIterator(iterator);\r\n    var value = iterator.call(context, obj);\r\n    var low = 0;\r\n    var high = array.length;\r\n    while (low < high) {\r\n        var mid = (low + high) >>> 1;\r\n        iterator.call(context, array[mid]) < value ? low = mid + 1 : high = mid;\r\n    }\r\n    return low;\r\n};\r\n\r\n_.contains = _.include = function (obj, target) {\r\n    if (obj == null) {\r\n        return false;\r\n    }\r\n    if (obj.length !== +obj.length) {\r\n        obj = _.values(obj);\r\n    }\r\n    return _.indexOf(obj, target) >= 0;\r\n};\r\n\r\n// Convenience version of a common use case of `map`: fetching a property.\r\n_.pluck = function(obj, key) {\r\n    return _.map(obj, _.property(key));\r\n};\r\n\r\n// Convenience version of a common use case of `filter`: selecting only objects\r\n// containing specific `key:value` pairs.\r\n_.where = function (obj, attrs) {\r\n    return _.filter(obj, _.matches(attrs));\r\n};\r\n\r\n// Convenience version of a common use case of `find`: getting the first object\r\n// containing specific `key:value` pairs.\r\n_.findWhere = function(obj, attrs) {\r\n    return _.find(obj, _.matches(attrs));\r\n};\r\n\r\n// Return the maximum element or (element-based computation).\r\n// Can't optimize arrays of integers longer than 65,535 elements.\r\n// See [WebKit Bug 80797](https://bugs.webkit.org/show_bug.cgi?id=80797)\r\n_.max = function(obj, iterator, context) {\r\n    if (!iterator && _.isArray(obj) && obj[0] === +obj[0] && obj.length < 65535) {\r\n        return Math.max.apply(Math, obj);\r\n    }\r\n    var result = -Infinity;\r\n    var lastComputed = -Infinity;\r\n    each(obj, function(value, index, list) {\r\n        var computed = iterator ? iterator.call(context, value, index, list) : value;\r\n        if (computed > lastComputed) {\r\n            result = value;\r\n            lastComputed = computed;\r\n        }\r\n    });\r\n    return result;\r\n};\r\n\r\n// Take the difference between one array and a number of other arrays.\r\n// Only the elements present in just the first array will remain.\r\n_.difference = function (array) {\r\n    var rest = concat.apply(ArrayProto, slice.call(arguments, 1));\r\n    return _.filter(array, function (value) {\r\n        return !_.contains(rest, value);\r\n    });\r\n};\r\n\r\n// Return a version of the array that does not contain the specified value(s).\r\n_.without = function (array) {\r\n    return _.difference(array, slice.call(arguments, 1));\r\n};\r\n\r\n// If the browser doesn't supply us with indexOf (I'm looking at you, **MSIE**),\r\n// we need this function. Return the position of the first occurrence of an\r\n// item in an array, or -1 if the item is not included in the array.\r\n// Delegates to **ECMAScript 5**'s native `indexOf` if available.\r\n// If the array is large and already in sort order, pass `true`\r\n// for **isSorted** to use binary search.\r\n_.indexOf = function (array, item, isSorted) {\r\n    if (array == null) {\r\n        return -1;\r\n    }\r\n    var i = 0;\r\n    var length = array.length;\r\n    if (isSorted) {\r\n        if (typeof isSorted == 'number') {\r\n            i = (isSorted < 0 ? Math.max(0, length + isSorted) : isSorted);\r\n        } else {\r\n            i = _.sortedIndex(array, item);\r\n            return array[i] === item ? i : -1;\r\n        }\r\n    }\r\n    if (nativeIndexOf && array.indexOf === nativeIndexOf) {\r\n        return array.indexOf(item, isSorted);\r\n    }\r\n    for (; i < length; i++) {\r\n        if (array[i] === item) {\r\n            return i;\r\n        }\r\n    }\r\n    return -1;\r\n};\r\n\r\n\r\n// Function (ahem) Functions\r\n// ------------------\r\n\r\n\r\n// Reusable constructor function for prototype setting.\r\nvar ctor = function() {};\r\n\r\n// Create a function bound to a given object (assigning `this`, and arguments,\r\n// optionally). Delegates to **ECMAScript 5**'s native `Function.bind` if\r\n// available.\r\n_.bind = function(func, context) {\r\n    var args;\r\n    var bound;\r\n    if (nativeBind && func.bind === nativeBind) {\r\n        return nativeBind.apply(func, slice.call(arguments, 1));\r\n    }\r\n    if (!_.isFunction(func)) {\r\n        throw new TypeError();\r\n    }\r\n    args = slice.call(arguments, 2);\r\n    bound = function() {\r\n        if (!(this instanceof bound)) {\r\n            return func.apply(context, args.concat(slice.call(arguments)));\r\n        }\r\n        ctor.prototype = func.prototype;\r\n        var self = new ctor();\r\n        ctor.prototype = null;\r\n        var result = func.apply(self, args.concat(slice.call(arguments)));\r\n        if (Object(result) === result) {\r\n            return result;\r\n        }\r\n        return self;\r\n    };\r\n    return bound;\r\n};\r\n\r\n// Partially apply a function by creating a version that has had some of its\r\n// arguments pre-filled, without changing its dynamic `this` context. _ acts\r\n// as a placeholder, allowing any combination of arguments to be pre-filled.\r\n_.partial = function (func) {\r\n    var boundArgs = slice.call(arguments, 1);\r\n    return function () {\r\n        var position = 0;\r\n        var args = boundArgs.slice();\r\n        for (var i = 0, length = args.length; i < length; i++) {\r\n            if (args[i] === _) {\r\n                args[i] = arguments[position++];\r\n            }\r\n        }\r\n        while (position < arguments.length) {\r\n            args.push(arguments[position++]);\r\n        }\r\n        return func.apply(this, args);\r\n    };\r\n};\r\n\r\n// Returns a function that will be executed at most one time, no matter how\r\n// often you call it. Useful for lazy initialization.\r\n_.once = _.partial(_.before, 2);\r\n\r\n// Returns the first function passed as an argument to the second,\r\n// allowing you to adjust arguments, run code before and after, and\r\n// conditionally execute the original function.\r\n// _.wrap = function(func, wrapper) {\r\n//    return _.partial(wrapper, func);\r\n// };\r\n\r\n\r\n// Memoize an expensive function by storing its results.\r\n_.memoize = function (func, hasher) {\r\n    var memo = {};\r\n    hasher || (hasher = _.identity);\r\n    return function () {\r\n        var key = hasher.apply(this, arguments);\r\n        return _.has(memo, key) ? memo[key] : (memo[key] = func.apply(this, arguments));\r\n    };\r\n};\r\n\r\n// Delays a function for the given number of milliseconds, and then calls\r\n// it with the arguments supplied.\r\n_.delay = function (func, wait) {\r\n    var args = slice.call(arguments, 2);\r\n    return setTimeout(function () {\r\n        return func.apply(null, args);\r\n    }, wait);\r\n};\r\n\r\n// Defers a function, scheduling it to run after the current call stack has\r\n// cleared.\r\n_.defer = function (func) {\r\n    return _.delay.apply(_, [func, 1].concat(slice.call(arguments, 1)));\r\n};\r\n\r\n\r\n// Returns a function, that, when invoked, will only be triggered at most once\r\n// during a given window of time. Normally, the throttled function will run\r\n// as much as it can, without ever going more than once per `wait` duration;\r\n// but if you'd like to disable the execution on the leading edge, pass\r\n// `{leading: false}`. To disable execution on the trailing edge, ditto.\r\n_.throttle = function(func, wait, options) {\r\n    var context;\r\n    var args;\r\n    var result;\r\n    var timeout = null;\r\n    var previous = 0;\r\n    options || (options = {});\r\n    var later = function() {\r\n        previous = options.leading === false ? 0 : now();\r\n        timeout = null;\r\n        result = func.apply(context, args);\r\n        context = args = null;\r\n    };\r\n    return function() {\r\n        if (!previous && options.leading === false) {\r\n            previous = now;\r\n        }\r\n        var remaining = wait - (now - previous);\r\n        context = this;\r\n        args = arguments;\r\n        if (remaining <= 0) {\r\n            clearTimeout(timeout);\r\n            timeout = null;\r\n            previous = now;\r\n            result = func.apply(context, args);\r\n            context = args = null;\r\n        } else if (!timeout && options.trailing !== false) {\r\n            timeout = setTimeout(later, remaining);\r\n        }\r\n        return result;\r\n    };\r\n};\r\n\r\n\r\n// Retrieve the names of an object's properties.\r\n// Delegates to **ECMAScript 5**'s native `Object.keys`\r\n_.keys = function (obj) {\r\n    if (!_.isObject(obj)) {\r\n        return [];\r\n    }\r\n    if (nativeKeys) {\r\n        return nativeKeys(obj);\r\n    }\r\n    var keys = [];\r\n    for (var key in obj) {\r\n        if (_.has(obj, key)) {\r\n            keys.push(key);\r\n        }\r\n    }\r\n    return keys;\r\n};\r\n\r\n_.invert = function (obj) {\r\n    var result = {};\r\n    var keys = _.keys(obj);\r\n    for (var i = 0, length = keys.length; i < length; i++) {\r\n        result[obj[keys[i]]] = keys[i];\r\n    }\r\n    return result;\r\n};\r\n\r\n// Fill in a given object with default properties.\r\n_.defaults = function(obj) {\r\n    each(slice.call(arguments, 1), function(source) {\r\n        if (source) {\r\n            for (var prop in source) {\r\n                if (obj[prop] === void 0) {\r\n                    obj[prop] = source[prop];\r\n                }\r\n            }\r\n        }\r\n    });\r\n    return obj;\r\n};\r\n\r\n// Extend a given object with all the properties in passed-in object(s).\r\n_.extend = function(obj) {\r\n    each(slice.call(arguments, 1), function(source) {\r\n        if (source) {\r\n            for (var prop in source) {\r\n                obj[prop] = source[prop];\r\n            }\r\n        }\r\n    });\r\n    return obj;\r\n};\r\n\r\n// Return a copy of the object only containing the whitelisted properties.\r\n_.pick = function (obj) {\r\n    var copy = {};\r\n    var keys = concat.apply(ArrayProto, slice.call(arguments, 1));\r\n    each(keys, function (key) {\r\n        if (key in obj) {\r\n            copy[key] = obj[key];\r\n        }\r\n    });\r\n    return copy;\r\n};\r\n\r\n// Return a copy of the object without the blacklisted properties.\r\n_.omit = function(obj) {\r\n    var copy = {};\r\n    var keys = concat.apply(ArrayProto, slice.call(arguments, 1));\r\n    for (var key in obj) {\r\n        if (!_.contains(keys, key)) {\r\n            copy[key] = obj[key];\r\n        }\r\n    }\r\n    return copy;\r\n};\r\n\r\n// Create a (shallow-cloned) duplicate of an object.\r\n_.clone = function(obj) {\r\n    if (!_.isObject(obj)) {\r\n        return obj;\r\n    }\r\n    return _.isArray(obj) ? obj.slice() : _.extend({}, obj);\r\n};\r\n\r\n// Is a given value an array?\r\n// Delegates to ECMA5's native Array.isArray\r\n_.isArray = nativeIsArray || function (obj) {\r\n    return toString.call(obj) == '[object Array]';\r\n};\r\n\r\n// Is a given variable an object?\r\n_.isObject = function (obj) {\r\n    return obj === Object(obj);\r\n};\r\n\r\n// Add some isType methods: isFunction, isString, isNumber, isDate, isRegExp.\r\neach(['Function', 'String', 'Number', 'Date', 'RegExp'], function (name) {\r\n    _['is' + name] = function (obj) {\r\n        return toString.call(obj) == '[object ' + name + ']';\r\n    };\r\n});\r\n\r\n// Optimize `isFunction` if appropriate.\r\nif (typeof (/./) !== 'function') {\r\n    _.isFunction = function (obj) {\r\n        return typeof obj === 'function';\r\n    };\r\n}\r\n\r\n// Is a given object a finite number?\r\n_.isFinite = function (obj) {\r\n    return isFinite(obj) && !isNaN(parseFloat(obj));\r\n};\r\n\r\n// Is the given value `NaN`? (NaN is the only number which does not equal itself).\r\n_.isNaN = function (obj) {\r\n    return _.isNumber(obj) && obj != +obj;\r\n};\r\n\r\n// Is a given value a boolean?\r\n_.isBoolean = function (obj) {\r\n    return obj === true || obj === false || toString.call(obj) == '[object Boolean]';\r\n};\r\n\r\n// Is a given value equal to null?\r\n_.isNull = function (obj) {\r\n    return obj === null;\r\n};\r\n\r\n// Is a given variable undefined?\r\n_.isUndefined = function (obj) {\r\n    return obj === void 0;\r\n};\r\n\r\n// Shortcut function for checking if an object has a given property directly\r\n// on itself (in other words, not on a prototype).\r\n_.has = function (obj, key) {\r\n    return hasOwnProperty.call(obj, key);\r\n};\r\n\r\n// Keep the identity function around for default iterators.\r\n_.identity = function (value) {\r\n    return value;\r\n};\r\n\r\n_.constant = function (value) {\r\n    return function () {\r\n        return value;\r\n    };\r\n};\r\n\r\n_.property = function (key) {\r\n    return function (obj) {\r\n        return obj[key];\r\n    };\r\n};\r\n\r\n_.propertyOf = function(obj) {\r\n    return obj == null ? function() {} : function(key) {\r\n        return obj[key];\r\n    };\r\n};\r\n\r\n// Returns a predicate for checking whether an object has a given set of `key:value` pairs.\r\n_.matches = function (attrs) {\r\n    return function (obj) {\r\n        // avoid comparing an object to itself.\r\n        if (obj === attrs) {\r\n            return true;\r\n        }\r\n        for (var key in attrs) {\r\n            if (attrs[key] !== obj[key]) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n};\r\n\r\n// A (possibly faster) way to get the current timestamp as an integer.\r\n_.now = now;\r\n\r\n// If the value of the named `property` is a function then invoke it with the\r\n// `object` as context; otherwise, return it.\r\n_.result = function (object, property) {\r\n    if (object == null) {\r\n        return void 0;\r\n    }\r\n    var value = object[property];\r\n    return _.isFunction(value) ? value.call(object) : value;\r\n};\r\n\r\nexport default _;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/underscore.js","import _ from 'utils/underscore';\r\n\r\nexport function trim(inputString) {\r\n    return inputString.replace(/^\\s+|\\s+$/g, '');\r\n}\r\n\r\nexport function pad(str, length, padder) {\r\n    str = '' + str;\r\n    padder = padder || '0';\r\n    while (str.length < length) {\r\n        str = padder + str;\r\n    }\r\n    return str;\r\n}\r\n\r\n// Get the value of a case-insensitive attribute in an XML node\r\nexport function xmlAttribute(xml, attribute) {\r\n    for (var attrib = 0; attrib < xml.attributes.length; attrib++) {\r\n        if (xml.attributes[attrib].name && xml.attributes[attrib].name.toLowerCase() === attribute.toLowerCase()) {\r\n            return xml.attributes[attrib].value.toString();\r\n        }\r\n    }\r\n    return '';\r\n}\r\n\r\n// This does not return the file extension, instead it returns a media type extension\r\nfunction getAzureFileFormat(path) {\r\n    if ((/[(,]format=m3u8-/i).test(path)) {\r\n        return 'm3u8';\r\n    } else if ((/[(,]format=mpd-/i).test(path)) {\r\n        return 'mpd';\r\n    }\r\n    return false;\r\n}\r\n\r\nexport function extension(path) {\r\n    if (!path || path.substr(0, 4) === 'rtmp') {\r\n        return '';\r\n    }\r\n\r\n    var azureFormat = getAzureFileFormat(path);\r\n    if (azureFormat) {\r\n        return azureFormat;\r\n    }\r\n\r\n    path = path.split('?')[0].split('#')[0];\r\n    if (path.lastIndexOf('.') > -1) {\r\n        return path.substr(path.lastIndexOf('.') + 1, path.length).toLowerCase();\r\n    }\r\n}\r\n\r\n// Convert seconds to HH:MN:SS.sss\r\nexport function hms(secondsNumber) {\r\n    var h = parseInt(secondsNumber / 3600);\r\n    var m = parseInt(secondsNumber / 60) % 60;\r\n    var s = secondsNumber % 60;\r\n    return pad(h, 2) + ':' + pad(m, 2) + ':' + pad(s.toFixed(3), 6);\r\n}\r\n\r\n// Convert a time-representing string to a number\r\nexport function seconds(str, frameRate) {\r\n    if (!str) {\r\n        return 0;\r\n    }\r\n    if (_.isNumber(str) && !_.isNaN(str)) {\r\n        return str;\r\n    }\r\n\r\n    str = str.replace(',', '.');\r\n    var arr = str.split(':');\r\n    var arrLength = arr.length;\r\n    var sec = 0;\r\n    if (str.slice(-1) === 's') {\r\n        sec = parseFloat(str);\r\n    } else if (str.slice(-1) === 'm') {\r\n        sec = parseFloat(str) * 60;\r\n    } else if (str.slice(-1) === 'h') {\r\n        sec = parseFloat(str) * 3600;\r\n    } else if (arrLength > 1) {\r\n        var secIndex = arrLength - 1;\r\n        if (arrLength === 4) {\r\n            // if frame is included in the string, calculate seconds by dividing by frameRate\r\n            if (frameRate) {\r\n                sec = parseFloat(arr[secIndex]) / frameRate;\r\n            }\r\n            secIndex -= 1;\r\n        }\r\n        sec += parseFloat(arr[secIndex]);\r\n        sec += parseFloat(arr[secIndex - 1]) * 60;\r\n        if (arrLength >= 3) {\r\n            sec += parseFloat(arr[secIndex - 2]) * 3600;\r\n        }\r\n    } else {\r\n        sec = parseFloat(str);\r\n    }\r\n    if (_.isNaN(sec)) {\r\n        return 0;\r\n    }\r\n    return sec;\r\n}\r\n\r\n\r\nexport function prefix(arr, add) {\r\n    return _.map(arr, function(val) {\r\n        return add + val;\r\n    });\r\n}\r\n\r\nexport function suffix(arr, add) {\r\n    return _.map(arr, function(val) {\r\n        return val + add;\r\n    });\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/strings.js","// States\r\n\r\n/**\r\n * The user pressed play, but sufficient data to start playback has not yet loaded.\r\n   The buffering icon is visible in the display.\r\n*/\r\nexport const STATE_BUFFERING = 'buffering';\r\n\r\n/**\r\n * Either playback has not started or playback was stopped due to a stop() call or an error.\r\n   In this state, either the play or the error icon is visible in the display.\r\n*/\r\nexport const STATE_IDLE = 'idle';\r\n\r\n/**\r\n * Playback has ended. The replay icon is visible in the display.\r\n*/\r\nexport const STATE_COMPLETE = 'complete';\r\n\r\n/**\r\n * The video is currently paused. The play icon is visible in the display.\r\n*/\r\nexport const STATE_PAUSED = 'paused';\r\n\r\n/**\r\n * The video is currently playing. No icon is visible in the display.\r\n*/\r\nexport const STATE_PLAYING = 'playing';\r\n\r\n/**\r\n * Playback was stopped due to an error.\r\n   In this state the error icon and a message are visible in the display.\r\n*/\r\nexport const STATE_ERROR = 'error';\r\n\r\n/**\r\n * The user pressed play, but media has not yet loaded.\r\n*/\r\nexport const STATE_LOADING = 'loading';\r\n\r\n/**\r\n * The user pressed play, but data is not being loaded.\r\n*/\r\nexport const STATE_STALLED = 'stalled';\r\n\r\n// Touch Events\r\n\r\n/**\r\n * Event triggered while dragging the observed element.\r\n*/\r\nexport const DRAG = 'drag';\r\n\r\n/**\r\n * Event triggered when dragging the observed element begins.\r\n*/\r\nexport const DRAG_START = 'dragStart';\r\n\r\n/**\r\n * Event triggered when dragging the observed element ends.\r\n*/\r\nexport const DRAG_END = 'dragEnd';\r\n\r\n/**\r\n * Event triggered when a user clicks the observed element once.\r\n*/\r\nexport const CLICK = 'click';\r\n\r\n/**\r\n * Event triggered when a user clicks the observed element twice consecutively.\r\n*/\r\nexport const DOUBLE_CLICK = 'doubleClick';\r\n\r\n/**\r\n * Event triggered when a user taps the observed element once.\r\n*/\r\nexport const TAP = 'tap';\r\n\r\n/**\r\n * Event triggered when a user taps the observed element twice consecutively.\r\n*/\r\nexport const DOUBLE_TAP = 'doubleTap';\r\n\r\n/**\r\n * Event triggered when the mouse is over the observed element.\r\n*/\r\nexport const OVER = 'over';\r\n\r\n/**\r\n * Event triggered while the mouse moves over the observed element.\r\n*/\r\nexport const MOVE = 'move';\r\n\r\n/**\r\n * Event triggered when a user presses the enter key on the observed element.\r\n */\r\nexport const ENTER = 'enter';\r\n\r\n/**\r\n * Event triggered when the mouse is no longer over the observed element.\r\n*/\r\nexport const OUT = 'out';\r\n\r\n// Script Loaders\r\n\r\n/**\r\n * Event stream reproduction is stopped because of an error.\r\n*/\r\nexport const ERROR = STATE_ERROR;\r\n\r\n// Ad events\r\n\r\n/**\r\n * Event triggered when an ad is clicked.\r\n*/\r\nexport const AD_CLICK = 'adClick';\r\n\r\n/**\r\n * Event triggered once an ad tag is loaded containing companion creatives.\r\n*/\r\nexport const AD_COMPANIONS = 'adCompanions';\r\n\r\n/**\r\n * Event triggered when an ad has completed playback.\r\n*/\r\nexport const AD_COMPLETE = 'adComplete';\r\n\r\n/**\r\n * Event triggered when an error prevents the ad from playing.\r\n*/\r\nexport const AD_ERROR = 'adError';\r\n\r\n/**\r\n * Event triggered based on the IAB definition of an ad impression. This occurs the instant a video ad begins to play.\r\n*/\r\nexport const AD_IMPRESSION = 'adImpression';\r\n\r\n/**\r\n * Event triggered when metadata is obtained during ad playback.\r\n*/\r\nexport const AD_META = 'adMeta';\r\n\r\n/**\r\n * Event triggered when an ad is paused.\r\n*/\r\nexport const AD_PAUSE = 'adPause';\r\n\r\n/**\r\n * Event triggered when an ad starts or is resumed.\r\n*/\r\nexport const AD_PLAY = 'adPlay';\r\n\r\n/**\r\n * Event triggered when an ad is skipped.\r\n*/\r\nexport const AD_SKIPPED = 'adSkipped';\r\n\r\n/**\r\n * Event triggered while ad playback is in progress.\r\n*/\r\nexport const AD_TIME = 'adTime';\r\n\r\n// Events\r\n\r\n/**\r\n * Event triggered when media playback ends because the last segment has been played.\r\n*/\r\nexport const MEDIA_COMPLETE = STATE_COMPLETE;\r\n\r\n/**\r\n * Event triggered when the player's setup is complete and is ready to be used.\r\n    This is the earliest point at which any API calls should be made.\r\n*/\r\nexport const READY = 'ready';\r\n\r\n/**\r\n * Event triggered when the playback position is either altered via API call, or due to user interaction.\r\n*/\r\nexport const MEDIA_SEEK = 'seek';\r\n\r\n/**\r\n * Fired just before the player begins playing. At this point the player will not have begun playing or buffering.\r\n    This is the ideal moment to insert preroll ads using the playAd() API\r\n*/\r\nexport const MEDIA_BEFOREPLAY = 'beforePlay';\r\n\r\n/**\r\n * Fired just before the player completes playing. At this point the player will not have moved on to\r\n    either showing the replay screen or advancing to the next playlistItem.\r\n    This is the ideal moment to insert postroll ads using the playAd() API\r\n*/\r\nexport const MEDIA_BEFORECOMPLETE = 'beforeComplete';\r\n\r\n/**\r\n * Fired when buffer has reached the maximum capacity.\r\n*/\r\nexport const MEDIA_BUFFER_FULL = 'bufferFull';\r\n\r\n/**\r\n * Fired when a click on the video display is detected.\r\n*/\r\nexport const DISPLAY_CLICK = 'displayClick';\r\n\r\n/**\r\n * Fired when the final item in a playlist has played its final segment and has ended.\r\n*/\r\nexport const PLAYLIST_COMPLETE = 'playlistComplete';\r\n\r\n/**\r\n * Fired when changes to the casting status are detected, i.e. when connected or disconnected from a device.\r\n*/\r\nexport const CAST_SESSION = 'cast';\r\n\r\n/**\r\n * Fired when an attempt to reproduce media results in a failure, causing the player to stop playback and go into idle mode.\r\n*/\r\nexport const MEDIA_ERROR = 'mediaError';\r\n\r\n/**\r\n * Triggered by a video's first frame event, or the instant an audio file begins playback.\r\n*/\r\nexport const MEDIA_FIRST_FRAME = 'firstFrame';\r\n\r\n/**\r\n * Triggered the moment a request to play content is made.\r\n*/\r\nexport const MEDIA_PLAY_ATTEMPT = 'playAttempt';\r\n\r\n/**\r\n * Fired when playback is aborted or blocked. Pausing the video or changing the media results\r\n * in play attempts being aborted. In mobile browsers play attempts are blocked when not started by\r\n * a user gesture.\r\n */\r\nexport const MEDIA_PLAY_ATTEMPT_FAILED = 'playAttemptFailed';\r\n\r\n/**\r\n * Fired when media has been loaded into the player.\r\n*/\r\nexport const MEDIA_LOADED = 'loaded';\r\n\r\n/**\r\n * Triggered when the video position changes after seeking, as opposed to MEDIA_SEEK which is triggered as a seek occurs.\r\n*/\r\nexport const MEDIA_SEEKED = 'seeked';\r\n\r\n// Setup Events\r\n\r\n/**\r\n * Triggered when the player's setup results in a failure.\r\n*/\r\nexport const SETUP_ERROR = 'setupError';\r\n\r\n// Utility\r\n\r\n/**\r\n * Triggered when the player's playback state changes.\r\n*/\r\nexport const PLAYER_STATE = 'state';\r\n\r\n/**\r\n * Fired when devices are available for casting.\r\n*/\r\nexport const CAST_AVAILABLE = 'castAvailable';\r\n\r\n// Model Changes\r\n\r\n/**\r\n * Fired when the currently playing item loads additional data into its buffer.\r\n    This only applies to VOD media; live streaming media (HLS/DASH) does not expose this behavior.\r\n*/\r\nexport const MEDIA_BUFFER = 'bufferChange';\r\n\r\n/**\r\n * Fired as the playback position gets updated, while the player is playing.\r\n*/\r\nexport const MEDIA_TIME = 'time';\r\n\r\n/**\r\n * Fired when the playbackRate of the video tag changes.\r\n */\r\nexport const MEDIA_RATE_CHANGE = 'ratechange';\r\n\r\n/**\r\n * Fired when a loaded item's media type is detected.\r\n*/\r\nexport const MEDIA_TYPE = 'mediaType';\r\n\r\n/**\r\n * Fired when the playback volume is altered.\r\n*/\r\nexport const MEDIA_VOLUME = 'volume';\r\n\r\n/**\r\n * Fired when media is muted;\r\n*/\r\nexport const MEDIA_MUTE = 'mute';\r\n\r\n/**\r\n * Fired when metadata embedded in the media file is obtained.\r\n*/\r\nexport const MEDIA_META = 'meta';\r\n\r\n/**\r\n * Fired when the list of available quality levels is updated.\r\n*/\r\nexport const MEDIA_LEVELS = 'levels';\r\n\r\n/**\r\n * Fired when the active quality level is changed.\r\n*/\r\nexport const MEDIA_LEVEL_CHANGED = 'levelsChanged';\r\n\r\n/**\r\n * Fired when controls are enabled or disabled by a script.\r\n*/\r\nexport const CONTROLS = 'controls';\r\n\r\n/**\r\n * Fired when the player toggles to/from fullscreen.\r\n*/\r\nexport const FULLSCREEN = 'fullscreen';\r\n\r\n/**\r\n * Fired when the player's on-page dimensions have changed. Is not fired in response to a fullscreen change.\r\n*/\r\nexport const RESIZE = 'resize';\r\n\r\n/**\r\n * Fired when a new playlist item has been loaded into the player.\r\n*/\r\nexport const PLAYLIST_ITEM = 'playlistItem';\r\n\r\n/**\r\n * Fired when an entirely new playlist has been loaded into the player.\r\n*/\r\nexport const PLAYLIST_LOADED = 'playlist';\r\n\r\n/**\r\n * Fired when the list of available audio tracks is updated. Happens shortly after a playlist item starts playing.\r\n*/\r\nexport const AUDIO_TRACKS = 'audioTracks';\r\n\r\n/**\r\n * Fired when the active audio track is changed.\r\n    Happens in response to e.g. a user clicking the audio tracks menu or a script calling setCurrentAudioTrack().\r\n*/\r\nexport const AUDIO_TRACK_CHANGED = 'audioTrackChanged';\r\n\r\n/**\r\n * Fired when the playback rate has been changed.\r\n*/\r\nexport const PLAYBACK_RATE_CHANGED = 'playbackRateChanged';\r\n\r\n// View Component Actions\r\n\r\n/**\r\n * Fired when a click has been detected on the logo element.\r\n*/\r\nexport const LOGO_CLICK = 'logoClick';\r\n\r\n// Model - Captions\r\n\r\n/**\r\n * Fired when the list of available captions tracks changes.\r\n    This event is the ideal time to set default captions with the API.\r\n*/\r\nexport const CAPTIONS_LIST = 'captionsList';\r\n\r\n/**\r\n * Triggered whenever the active captions track is changed manually or via API.\r\n*/\r\nexport const CAPTIONS_CHANGED = 'captionsChanged';\r\n\r\n// Provider Communication\r\n\r\n/**\r\n * Fired the provider being utilized by JW Player for a particular media file is replaced by a new provider.\r\n*/\r\nexport const PROVIDER_CHANGED = 'providerChanged';\r\n\r\n/**\r\n * Triggered when a provider begins playback to signal availability of first frame.\r\n*/\r\nexport const PROVIDER_FIRST_FRAME = 'providerFirstFrame';\r\n\r\n// UI Events\r\n\r\n/**\r\n * Fired when user activity is detected on the targeted element.\r\n*/\r\nexport const USER_ACTION = 'userAction';\r\n\r\n/**\r\n * Fired when the instream adapter detects a click.\r\n*/\r\nexport const INSTREAM_CLICK = 'instreamClick';\r\n\r\n/**\r\n * Triggered when the player is resized to a width in a different breakpoint category.\r\n*/\r\nexport const BREAKPOINT = 'breakpoint';\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/events/events.js","/* eslint-disable no-console */\r\n\r\nimport * as playerutils from 'utils/playerutils';\r\nimport * as validator from 'utils/validator';\r\nimport * as parser from 'utils/parser';\r\nimport {\r\n    trim,\r\n    pad,\r\n    extension,\r\n    hms,\r\n    seconds,\r\n    prefix,\r\n    suffix,\r\n} from 'utils/strings';\r\nimport Timer from 'api/timer';\r\nimport { tryCatch, JwError as Error } from 'utils/trycatch';\r\nimport _ from 'utils/underscore';\r\nimport { isIframe, flashVersion } from 'utils/browser';\r\nimport {\r\n    addClass,\r\n    hasClass,\r\n    removeClass,\r\n    replaceClass,\r\n    toggleClass,\r\n    classList,\r\n    styleDimension,\r\n    createElement,\r\n    emptyElement,\r\n    addStyleSheet,\r\n    bounds,\r\n} from 'utils/dom';\r\nimport {\r\n    css,\r\n    clearCss,\r\n    style,\r\n    transform,\r\n    getRgba\r\n} from 'utils/css';\r\nimport { ajax, crossdomain } from 'utils/ajax';\r\n\r\nexport const log = (typeof console.log === 'function') ? console.log.bind(console) : function() {};\r\n\r\nconst between = function (num, min, max) {\r\n    return Math.max(Math.min(num, max), min);\r\n};\r\n\r\n// The predicate received the arguments (key, value) instead of (value, key)\r\nconst foreach = function (aData, fnEach) {\r\n    for (let key in aData) {\r\n        if (Object.prototype.hasOwnProperty.call(aData, key)) {\r\n            fnEach(key, aData[key]);\r\n        }\r\n    }\r\n};\r\n\r\nconst indexOf = _.indexOf;\r\n\r\nconst noop = function () {};\r\n\r\nconst helpers = Object.assign({}, parser, validator, playerutils, {\r\n    addClass,\r\n    hasClass,\r\n    removeClass,\r\n    replaceClass,\r\n    toggleClass,\r\n    classList,\r\n    styleDimension,\r\n    createElement,\r\n    emptyElement,\r\n    addStyleSheet,\r\n    bounds,\r\n    css,\r\n    clearCss,\r\n    style,\r\n    transform,\r\n    getRgba,\r\n    ajax,\r\n    crossdomain,\r\n    tryCatch,\r\n    Error,\r\n    Timer,\r\n    log,\r\n    between,\r\n    foreach,\r\n    flashVersion,\r\n    isIframe,\r\n    indexOf,\r\n    trim,\r\n    pad,\r\n    extension,\r\n    hms,\r\n    seconds,\r\n    prefix,\r\n    suffix,\r\n    noop,\r\n});\r\n\r\nexport default helpers;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/helpers.js","// https://github.com/taylorhakes/promise-polyfill\r\n// v6.0.2\r\n\r\n// Store setTimeout reference so promise-polyfill will be unaffected by\r\n// other code modifying setTimeout (like sinon.useFakeTimers())\r\nconst setTimeoutFunc = window.setTimeout;\r\nconst setImmediateFunc = window.setImmediate;\r\n\r\nfunction noop() {}\r\n\r\n// Polyfill for Function.prototype.bind\r\nfunction bind(fn, thisArg) {\r\n    return function () {\r\n        fn.apply(thisArg, arguments);\r\n    };\r\n}\r\n\r\nfunction PromisePolyfill(fn) {\r\n    if (typeof this !== 'object') {\r\n        throw new TypeError('Promises must be constructed via new');\r\n    }\r\n    if (typeof fn !== 'function') {\r\n        throw new TypeError('not a function');\r\n    }\r\n    this._state = 0;\r\n    this._handled = false;\r\n    this._value = undefined;\r\n    this._deferreds = [];\r\n\r\n    doResolve(fn, this);\r\n}\r\n\r\nfunction handle(self, deferred) {\r\n    while (self._state === 3) {\r\n        self = self._value;\r\n    }\r\n    if (self._state === 0) {\r\n        self._deferreds.push(deferred);\r\n        return;\r\n    }\r\n    self._handled = true;\r\n    PromisePolyfill._immediateFn(function () {\r\n        var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\r\n        if (cb === null) {\r\n            (self._state === 1 ? resolvePromise : rejectPromise)(deferred.promise, self._value);\r\n            return;\r\n        }\r\n        var ret;\r\n        try {\r\n            ret = cb(self._value);\r\n        } catch (e) {\r\n            rejectPromise(deferred.promise, e);\r\n            return;\r\n        }\r\n        resolvePromise(deferred.promise, ret);\r\n    });\r\n}\r\n\r\nfunction resolvePromise(self, newValue) {\r\n    try {\r\n        // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\r\n        if (newValue === self) {\r\n            throw new TypeError('A promise cannot be resolved with itself.');\r\n        }\r\n        if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\r\n            var then = newValue.then;\r\n            if (newValue instanceof PromisePolyfill) {\r\n                self._state = 3;\r\n                self._value = newValue;\r\n                finale(self);\r\n                return;\r\n            } else if (typeof then === 'function') {\r\n                doResolve(bind(then, newValue), self);\r\n                return;\r\n            }\r\n        }\r\n        self._state = 1;\r\n        self._value = newValue;\r\n        finale(self);\r\n    } catch (e) {\r\n        rejectPromise(self, e);\r\n    }\r\n}\r\n\r\nfunction rejectPromise(self, newValue) {\r\n    self._state = 2;\r\n    self._value = newValue;\r\n    finale(self);\r\n}\r\n\r\nfunction finale(self) {\r\n    if (self._state === 2 && self._deferreds.length === 0) {\r\n        PromisePolyfill._immediateFn(function() {\r\n            if (!self._handled) {\r\n                PromisePolyfill._unhandledRejectionFn(self._value);\r\n            }\r\n        });\r\n    }\r\n\r\n    for (var i = 0, len = self._deferreds.length; i < len; i++) {\r\n        handle(self, self._deferreds[i]);\r\n    }\r\n    self._deferreds = null;\r\n}\r\n\r\nfunction Handler(onFulfilled, onRejected, promise) {\r\n    this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\r\n    this.onRejected = typeof onRejected === 'function' ? onRejected : null;\r\n    this.promise = promise;\r\n}\r\n\r\n/**\r\n * Take a potentially misbehaving resolver function and make sure\r\n * onFulfilled and onRejected are only called once.\r\n *\r\n * Makes no guarantees about asynchrony.\r\n */\r\nfunction doResolve(fn, self) {\r\n    var done = false;\r\n    try {\r\n        fn(function (value) {\r\n            if (done) {\r\n                return;\r\n            }\r\n            done = true;\r\n            resolvePromise(self, value);\r\n        }, function (reason) {\r\n            if (done) {\r\n                return;\r\n            }\r\n            done = true;\r\n            rejectPromise(self, reason);\r\n        });\r\n    } catch (ex) {\r\n        if (done) {\r\n            return;\r\n        }\r\n        done = true;\r\n        rejectPromise(self, ex);\r\n    }\r\n}\r\n\r\n/* eslint dot-notation: 0 */\r\nPromisePolyfill.prototype['catch'] = function (onRejected) {\r\n    return this.then(null, onRejected);\r\n};\r\n\r\nPromisePolyfill.prototype.then = function (onFulfilled, onRejected) {\r\n    var prom = new (this.constructor)(noop);\r\n\r\n    handle(this, new Handler(onFulfilled, onRejected, prom));\r\n    return prom;\r\n};\r\n\r\nPromisePolyfill.all = function (arr) {\r\n    var args = Array.prototype.slice.call(arr);\r\n\r\n    return new PromisePolyfill(function (resolve, reject) {\r\n        if (args.length === 0) {\r\n            return resolve([]);\r\n        }\r\n        var remaining = args.length;\r\n\r\n        function res(i, val) {\r\n            try {\r\n                if (val && (typeof val === 'object' || typeof val === 'function')) {\r\n                    var then = val.then;\r\n                    if (typeof then === 'function') {\r\n                        then.call(val, function (resultVal) {\r\n                            res(i, resultVal);\r\n                        }, reject);\r\n                        return;\r\n                    }\r\n                }\r\n                args[i] = val;\r\n                if (--remaining === 0) {\r\n                    resolve(args);\r\n                }\r\n            } catch (ex) {\r\n                reject(ex);\r\n            }\r\n        }\r\n\r\n        for (var i = 0; i < args.length; i++) {\r\n            res(i, args[i]);\r\n        }\r\n    });\r\n};\r\n\r\nPromisePolyfill.resolve = function (value) {\r\n    if (value && typeof value === 'object' && value.constructor === PromisePolyfill) {\r\n        return value;\r\n    }\r\n\r\n    return new PromisePolyfill(function (resolve) {\r\n        resolve(value);\r\n    });\r\n};\r\n\r\nPromisePolyfill.reject = function (value) {\r\n    return new PromisePolyfill(function (resolve, reject) {\r\n        reject(value);\r\n    });\r\n};\r\n\r\nPromisePolyfill.race = function (values) {\r\n    return new PromisePolyfill(function (resolve, reject) {\r\n        for (var i = 0, len = values.length; i < len; i++) {\r\n            values[i].then(resolve, reject);\r\n        }\r\n    });\r\n};\r\n\r\n// Use polyfill for setImmediate for performance gains\r\nPromisePolyfill._immediateFn = (typeof setImmediateFunc === 'function' &&\r\n    function (fn) {\r\n        setImmediateFunc(fn);\r\n    }) ||\r\n    function (fn) {\r\n        setTimeoutFunc(fn, 0);\r\n    };\r\n\r\nPromisePolyfill._unhandledRejectionFn = function _unhandledRejectionFn(err) {\r\n    if (typeof console !== 'undefined' && console) {\r\n        console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console\r\n    }\r\n};\r\n\r\nconst Promise = window.Promise || (window.Promise = PromisePolyfill);\r\n\r\nexport const resolved = Promise.resolve();\r\n\r\nexport default Promise;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/polyfills/promise.js","//     Backbone.js 1.1.2\r\n\r\n// Backbone.Events\r\n// ---------------\r\n\r\n// A module that can be mixed in to *any object* in order to provide it with\r\n// custom events. You may bind with `on` or remove with `off` callback\r\n// functions to an event; `trigger`-ing an event fires all callbacks in\r\n// succession.\r\n//\r\n//     var object = {};\r\n//     Object.assign(object, Backbone.Events);\r\n//     object.on('expand', function(){ alert('expanded'); });\r\n//     object.trigger('expand');\r\n//\r\n\r\nconst slice = [].slice;\r\n\r\n// Bind an event to a `callback` function. Passing `\"all\"` will bind\r\n// the callback to all events fired.\r\nexport function on(name, callback, context) {\r\n    if (!eventsApi(this, 'on', name, [callback, context]) || !callback) {\r\n        return this;\r\n    }\r\n    const _events = this._events || (this._events = {});\r\n    const events = _events[name] || (_events[name] = []);\r\n    events.push({ callback: callback, context: context });\r\n    return this;\r\n}\r\n\r\n// Bind an event to only be triggered a single time. After the first time\r\n// the callback is invoked, it will be removed.\r\nexport function once(name, callback, context) {\r\n    if (!eventsApi(this, 'once', name, [callback, context]) || !callback) {\r\n        return this;\r\n    }\r\n    let count = 0;\r\n    const self = this;\r\n    const onceCallback = function() {\r\n        if (count++) {\r\n            return;\r\n        }\r\n        self.off(name, onceCallback);\r\n        callback.apply(this, arguments);\r\n    };\r\n    onceCallback._callback = callback;\r\n    return this.on(name, onceCallback, context);\r\n}\r\n\r\n// Remove one or many callbacks. If `context` is null, removes all\r\n// callbacks with that function. If `callback` is null, removes all\r\n// callbacks for the event. If `name` is null, removes all bound\r\n// callbacks for all events.\r\nexport function off(name, callback, context) {\r\n    if (!this._events || !eventsApi(this, 'off', name, [callback, context])) {\r\n        return this;\r\n    }\r\n    if (!name && !callback && !context) {\r\n        delete this._events;\r\n        return this;\r\n    }\r\n    const names = name ? [name] : Object.keys(this._events);\r\n    for (let i = 0, l = names.length; i < l; i++) {\r\n        name = names[i];\r\n        const events = this._events[name];\r\n        if (events) {\r\n            const retain = this._events[name] = [];\r\n            if (callback || context) {\r\n                for (let j = 0, k = events.length; j < k; j++) {\r\n                    const ev = events[j];\r\n                    if ((callback && callback !== ev.callback && callback !== ev.callback._callback) ||\r\n                        (context && context !== ev.context)) {\r\n                        retain.push(ev);\r\n                    }\r\n                }\r\n            }\r\n            if (!retain.length) {\r\n                delete this._events[name];\r\n            }\r\n        }\r\n    }\r\n    return this;\r\n}\r\n\r\n// Trigger one or many events, firing all bound callbacks. Callbacks are\r\n// passed the same arguments as `trigger` is, apart from the event name\r\n// (unless you're listening on `\"all\"`, which will cause your callback to\r\n// receive the true name of the event as the first argument).\r\nexport function trigger(name) {\r\n    if (!this._events) {\r\n        return this;\r\n    }\r\n    const args = slice.call(arguments, 1);\r\n    if (!eventsApi(this, 'trigger', name, args)) {\r\n        return this;\r\n    }\r\n    const events = this._events[name];\r\n    const allEvents = this._events.all;\r\n    if (events) {\r\n        triggerEvents(events, args, this);\r\n    }\r\n    if (allEvents) {\r\n        triggerEvents(allEvents, arguments, this);\r\n    }\r\n    return this;\r\n}\r\n\r\nexport function triggerSafe(name) {\r\n    if (!this._events) {\r\n        return this;\r\n    }\r\n    const args = slice.call(arguments, 1);\r\n    if (!eventsApi(this, 'trigger', name, args)) {\r\n        return this;\r\n    }\r\n    const events = this._events[name];\r\n    const allEvents = this._events.all;\r\n    if (events) {\r\n        triggerEvents(events, args, this, name);\r\n    }\r\n    if (allEvents) {\r\n        triggerEvents(allEvents, arguments, this, name);\r\n    }\r\n    return this;\r\n}\r\n\r\n// Regular expression used to split event strings.\r\nconst eventSplitter = /\\s+/;\r\n\r\n// Implement fancy features of the Events API such as multiple event\r\n// names `\"change blur\"` and jQuery-style event maps `{change: action}`\r\n// in terms of the existing API.\r\nfunction eventsApi(obj, action, name, rest) {\r\n    if (!name) {\r\n        return true;\r\n    }\r\n    // Handle event maps.\r\n    if (typeof name === 'object') {\r\n        for (var key in name) {\r\n            if (Object.prototype.hasOwnProperty.call(name, key)) {\r\n                obj[action].apply(obj, [key, name[key]].concat(rest));\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    // Handle space separated event names.\r\n    if (eventSplitter.test(name)) {\r\n        const names = name.split(eventSplitter);\r\n        for (let i = 0, l = names.length; i < l; i++) {\r\n            obj[action].apply(obj, [names[i]].concat(rest));\r\n        }\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\n\r\nfunction triggerEvents(events, args, context, catchExceptionsForName) {\r\n    let i = -1;\r\n    const l = events.length;\r\n    while (++i < l) {\r\n        const ev = events[i];\r\n        if (catchExceptionsForName) {\r\n            try {\r\n                ev.callback.apply(ev.context || context, args);\r\n            } catch (e) {\r\n                /* eslint-disable no-console */\r\n                console.log('Error in \"' + catchExceptionsForName + '\" event handler:', e);\r\n            }\r\n        } else {\r\n            ev.callback.apply(ev.context || context, args);\r\n        }\r\n    }\r\n}\r\n\r\nexport default {\r\n    on, once, off, trigger\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/backbone.events.js","import { exists } from 'utils/validator';\r\nimport _ from 'utils/underscore';\r\n\r\n// Gets an absolute file path based on a relative filepath\r\nexport function getAbsolutePath(path, base) {\r\n    if (!exists(base)) {\r\n        base = document.location.href;\r\n    }\r\n\r\n    if (!exists(path)) {\r\n        return;\r\n    }\r\n\r\n    if (isAbsolutePath(path)) {\r\n        return path;\r\n    }\r\n\r\n    const protocol = base.substring(0, base.indexOf('://') + 3);\r\n    const domain = base.substring(protocol.length, base.indexOf('/', protocol.length + 1));\r\n    let patharray;\r\n\r\n    if (path.indexOf('/') === 0) {\r\n        patharray = path.split('/');\r\n    } else {\r\n        let basepath = base.split('?')[0];\r\n        basepath = basepath.substring(protocol.length + domain.length + 1, basepath.lastIndexOf('/'));\r\n        patharray = basepath.split('/').concat(path.split('/'));\r\n    }\r\n    const result = [];\r\n    for (let i = 0; i < patharray.length; i++) {\r\n        if (patharray[i] && exists(patharray[i]) && patharray[i] !== '.') {\r\n            if (patharray[i] === '..') {\r\n                result.pop();\r\n            } else {\r\n                result.push(patharray[i]);\r\n            }\r\n        }\r\n    }\r\n    return protocol + domain + '/' + result.join('/');\r\n}\r\n\r\nexport function isAbsolutePath(path) {\r\n    return /^(?:(?:https?|file):)?\\/\\//.test(path);\r\n}\r\n\r\nfunction containsParserErrors(childNodes) {\r\n    return _.some(childNodes, function(node) {\r\n        return node.nodeName === 'parsererror';\r\n    });\r\n}\r\n\r\n/** Takes an XML string and returns an XML object **/\r\nexport function parseXML(input) {\r\n    let parsedXML = null;\r\n    try {\r\n        // Parse XML in FF/Chrome/Safari/Opera\r\n        if ('DOMParser' in window) {\r\n            parsedXML = (new window.DOMParser()).parseFromString(input, 'text/xml');\r\n            // In Firefox the XML doc may contain the parsererror, other browsers it's further down\r\n            if (containsParserErrors(parsedXML.childNodes) ||\r\n                (parsedXML.childNodes && containsParserErrors(parsedXML.childNodes[0].childNodes))) {\r\n                parsedXML = null;\r\n            }\r\n        } else {\r\n            // Internet Explorer\r\n            parsedXML = new window.ActiveXObject('Microsoft.XMLDOM');\r\n            parsedXML.async = 'false';\r\n            parsedXML.loadXML(input);\r\n        }\r\n    } catch (e) {/* Expected when content is not XML */}\r\n\r\n    return parsedXML;\r\n}\r\n\r\n/**\r\n * String representations of booleans and numbers that are 5 characters in length or less\r\n * are returned typed\r\n */\r\nexport function serialize(val) {\r\n    if (val === undefined) {\r\n        return null;\r\n    }\r\n    if (typeof val === 'string' && val.length < 6) {\r\n        const lowercaseVal = val.toLowerCase();\r\n        if (lowercaseVal === 'true') {\r\n            return true;\r\n        }\r\n        if (lowercaseVal === 'false') {\r\n            return false;\r\n        }\r\n        if (!isNaN(Number(val)) && !isNaN(parseFloat(val))) {\r\n            return Number(val);\r\n        }\r\n    }\r\n    return val;\r\n}\r\n\r\n/**\r\n * Cleans up a css dimension (e.g. '420px') and returns an integer.\r\n */\r\nexport function parseDimension(dimension) {\r\n    if (typeof dimension === 'string') {\r\n        if (dimension === '') {\r\n            return 0;\r\n        } else if (dimension.lastIndexOf('%') > -1) {\r\n            return dimension;\r\n        }\r\n        return parseInt(dimension.replace('px', ''), 10);\r\n    }\r\n    return dimension;\r\n}\r\n\r\n/** Format the elapsed / remaining text. **/\r\nexport function timeFormat(sec, allowNegative) {\r\n    if ((sec <= 0 && !allowNegative) || _.isNaN(parseInt(sec))) {\r\n        return '00:00';\r\n    }\r\n\r\n    // If negative add a minus sign\r\n    const prefix = (sec < 0) ? '-' : '';\r\n    sec = Math.abs(sec);\r\n\r\n    const hrs = Math.floor(sec / 3600);\r\n    const mins = Math.floor((sec - hrs * 3600) / 60);\r\n    const secs = Math.floor(sec % 60);\r\n\r\n    return prefix + (hrs ? hrs + ':' : '') + (mins < 10 ? '0' : '') + mins + ':' + (secs < 10 ? '0' : '') + secs;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/parser.js","import Item from 'playlist/item';\r\nimport ProvidersSupported from 'providers/providers-supported';\r\nimport registerProvider from 'providers/providers-register';\r\nimport { module as ControlsModule } from 'controller/controls-loader';\r\nimport { resolved } from 'polyfills/promise';\r\n\r\nlet bundlePromise = null;\r\n\r\nexport const bundleContainsProviders = {};\r\n\r\nexport default function loadCoreBundle(model) {\r\n    if (!bundlePromise) {\r\n        bundlePromise = selectBundle(model);\r\n    }\r\n    return bundlePromise;\r\n}\r\n\r\nexport function chunkLoadErrorHandler(/* error */) {\r\n    // Webpack require.ensure error: \"Loading chunk 3 failed\"\r\n    throw new Error('Network error');\r\n}\r\n\r\nexport function selectBundle(model) {\r\n    const controls = model.get('controls');\r\n    const polyfills = requiresPolyfills();\r\n    const html5Provider = requiresProvider(model, 'html5');\r\n\r\n    if (controls && polyfills && html5Provider) {\r\n        return loadControlsPolyfillHtml5Bundle();\r\n    }\r\n    if (controls && html5Provider) {\r\n        return loadControlsHtml5Bundle();\r\n    }\r\n    if (controls && polyfills) {\r\n        return loadControlsPolyfillBundle();\r\n    }\r\n    if (controls) {\r\n        return loadControlsBundle();\r\n    }\r\n    return loadCore();\r\n}\r\n\r\nexport function requiresPolyfills() {\r\n    const IntersectionObserverEntry = window.IntersectionObserverEntry;\r\n    return !IntersectionObserverEntry ||\r\n        !('IntersectionObserver' in window) ||\r\n        !('intersectionRatio' in IntersectionObserverEntry.prototype);\r\n}\r\n\r\nexport function requiresProvider(model, providerName) {\r\n    const playlist = model.get('playlist');\r\n    if (Array.isArray(playlist) && playlist.length) {\r\n        const sources = Item(playlist[0]).sources;\r\n        for (let i = 0; i < sources.length; i++) {\r\n            const source = sources[i];\r\n            const providersManager = model.getProviders();\r\n            for (let j = 0; j < ProvidersSupported.length; j++) {\r\n                const provider = ProvidersSupported[j];\r\n                if (providersManager.providerSupports(provider, source)) {\r\n                    return (provider.name === providerName);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return false;\r\n}\r\n\r\nfunction loadControlsPolyfillHtml5Bundle() {\r\n    bundleContainsProviders.html5 = true;\r\n    return require.ensure([\r\n        'controller/controller',\r\n        'view/controls/controls',\r\n        'intersection-observer',\r\n        'providers/html5'\r\n    ], function (require) {\r\n        // These modules should be required in this order\r\n        require('intersection-observer');\r\n        const CoreMixin = require('controller/controller').default;\r\n        ControlsModule.controls = require('view/controls/controls').default;\r\n        registerProvider(require('providers/html5').default);\r\n        return CoreMixin;\r\n    }, chunkLoadErrorHandler, 'jwplayer.core.controls.polyfills.html5');\r\n}\r\n\r\nfunction loadControlsHtml5Bundle() {\r\n    bundleContainsProviders.html5 = true;\r\n    return require.ensure([\r\n        'controller/controller',\r\n        'view/controls/controls',\r\n        'providers/html5'\r\n    ], function (require) {\r\n        const CoreMixin = require('controller/controller').default;\r\n        ControlsModule.controls = require('view/controls/controls').default;\r\n        registerProvider(require('providers/html5').default);\r\n        return CoreMixin;\r\n    }, chunkLoadErrorHandler, 'jwplayer.core.controls.html5');\r\n}\r\n\r\nfunction loadControlsPolyfillBundle() {\r\n    return require.ensure([\r\n        'controller/controller',\r\n        'view/controls/controls',\r\n        'intersection-observer'\r\n    ], function (require) {\r\n        require('intersection-observer');\r\n        const CoreMixin = require('controller/controller').default;\r\n        ControlsModule.controls = require('view/controls/controls').default;\r\n        return CoreMixin;\r\n    }, chunkLoadErrorHandler, 'jwplayer.core.controls.polyfills');\r\n}\r\n\r\nfunction loadControlsBundle() {\r\n    return require.ensure([\r\n        'controller/controller',\r\n        'view/controls/controls'\r\n    ], function (require) {\r\n        const CoreMixin = require('controller/controller').default;\r\n        ControlsModule.controls = require('view/controls/controls').default;\r\n        return CoreMixin;\r\n    }, chunkLoadErrorHandler, 'jwplayer.core.controls');\r\n}\r\n\r\nfunction loadCore() {\r\n    return loadIntersectionObserverIfNeeded().then(() => {\r\n        return require.ensure([\r\n            'controller/controller'\r\n        ], function (require) {\r\n            return require('controller/controller').default;\r\n        }, chunkLoadErrorHandler, 'jwplayer.core');\r\n    });\r\n}\r\n\r\nfunction loadIntersectionObserverIfNeeded() {\r\n    if (requiresPolyfills()) {\r\n        return require.ensure([\r\n            'intersection-observer'\r\n        ], function (require) {\r\n            return require('intersection-observer');\r\n        }, chunkLoadErrorHandler, 'polyfills.intersection-observer');\r\n    }\r\n    return resolved;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/api/core-loader.js","import { trim } from 'utils/strings';\r\n\r\nexport function localName(node) {\r\n    let name = '';\r\n    if (node) {\r\n        if (node.localName) {\r\n            name = node.localName;\r\n        } else if (node.baseName) {\r\n            name = node.baseName;\r\n        }\r\n    }\r\n    return name;\r\n}\r\n\r\nexport function textContent(node) {\r\n    let text = '';\r\n    if (node) {\r\n        if (node.textContent) {\r\n            text = trim(node.textContent);\r\n        } else if (node.text) {\r\n            text = trim(node.text);\r\n        }\r\n    }\r\n\r\n    return text;\r\n}\r\n\r\nexport function getChildNode(parent, index) {\r\n    return parent.childNodes[index];\r\n}\r\n\r\nexport function numChildren(parent) {\r\n    if (parent.childNodes) {\r\n        return parent.childNodes.length;\r\n    }\r\n    return 0;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/parsers/parsers.js","import { isAndroidHls } from 'providers/html5-android-hls';\r\nimport { isRtmp } from 'utils/validator';\r\nimport video from 'utils/video';\r\n\r\nconst MimeTypes = {\r\n    aac: 'audio/mp4',\r\n    mp4: 'video/mp4',\r\n    f4v: 'video/mp4',\r\n    m4v: 'video/mp4',\r\n    mov: 'video/mp4',\r\n    mp3: 'audio/mpeg',\r\n    mpeg: 'audio/mpeg',\r\n    ogv: 'video/ogg',\r\n    ogg: 'video/ogg',\r\n    oga: 'video/ogg',\r\n    vorbis: 'video/ogg',\r\n    webm: 'video/webm',\r\n    // The following are not expected to work in Chrome\r\n    f4a: 'video/aac',\r\n    m3u8: 'application/vnd.apple.mpegurl',\r\n    m3u: 'application/vnd.apple.mpegurl',\r\n    hls: 'application/vnd.apple.mpegurl'\r\n};\r\n\r\nconst SupportsMatrix = [\r\n    {\r\n        name: 'html5',\r\n        supports: function (source) {\r\n            if (isAndroidHls(source) === false) {\r\n                return false;\r\n            }\r\n\r\n            if (!video.canPlayType) {\r\n                return false;\r\n            }\r\n\r\n            const file = source.file;\r\n            const type = source.type;\r\n\r\n            // Ensure RTMP files are not seen as videos\r\n            if (isRtmp(file, type)) {\r\n                return false;\r\n            }\r\n\r\n            const mimeType = source.mimeType || MimeTypes[type];\r\n\r\n            // Not OK to use HTML5 with no extension\r\n            if (!mimeType) {\r\n                return false;\r\n            }\r\n\r\n            // Last, but not least, we ask the browser\r\n            // (But only if it's a video with an extension known to work in HTML5)\r\n            return !!video.canPlayType(mimeType);\r\n        }\r\n    }\r\n];\r\n\r\nexport default SupportsMatrix;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/providers/providers-supported.js","\r\n// Returns true if the value of the object is null, undefined or the empty string\r\nexport function exists(item) {\r\n    switch (typeof (item)) {\r\n        case 'string':\r\n            return (item.length > 0);\r\n        case 'object':\r\n            return (item !== null);\r\n        case 'undefined':\r\n            return false;\r\n        default:\r\n            return true;\r\n    }\r\n}\r\n\r\n/** Determines if the current page is HTTPS **/\r\nexport function isHTTPS() {\r\n    return (window.location.protocol === 'https:');\r\n}\r\n\r\n/**\r\n * Determines if a URL is an RTMP link\r\n */\r\nexport function isRtmp(file, type) {\r\n    return (file.indexOf('rtmp:') === 0 || type === 'rtmp');\r\n}\r\n\r\n/**\r\n * Determines if a URL is a YouTube link\r\n */\r\nexport function isYouTube(path, type) {\r\n    return (type === 'youtube') || (/^(http|\\/\\/).*(youtube\\.com|youtu\\.be)\\/.+/).test(path);\r\n}\r\n\r\n/** Returns the true type of an object * */\r\nexport function typeOf(value) {\r\n    if (value === null) {\r\n        return 'null';\r\n    }\r\n    var typeofString = typeof value;\r\n    if (typeofString === 'object') {\r\n        if (Array.isArray(value)) {\r\n            return 'array';\r\n        }\r\n    }\r\n    return typeofString;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/validator.js","export default {\r\n    debug: false // __DEBUG__\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/api/api-settings.js","export const version = __BUILD_VERSION__;\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/version.js","import { dateTime } from 'utils/clock';\r\n\r\n/**\r\n * QoE metrics returned by `jwplayer()._qoe.dump()`.\r\n * {@link Api#qoe jwplayer().qoe():PlayerQoE} returns these for the player and the current playlist item.\r\n * @typedef {object} TimerMetrics\r\n * @property {object} counts - Lists event counts by event name\r\n * @property {object} events - Lists last event timestamps (epoch ms) by event name\r\n * @property {object} sums - Lists total event/state duration by event/state name\r\n */\r\n\r\n/**\r\n * The Timer used to measure player and playlist item QoE\r\n * @class Timer\r\n */\r\nconst Timer = function() {\r\n    const startTimes = {};\r\n    const sum = {};\r\n    const counts = {};\r\n\r\n    const ticks = {};\r\n\r\n    /** @lends Timer */\r\n    return {\r\n        // Profile methods\r\n        /**\r\n         * Start timing a method. Increment {@link TimerMetrics} count.\r\n         * If the method was already started, but not finished, it's start will be reset.\r\n         * @memberOf Timer\r\n         * @instance\r\n         * @param {string} methodName - The method or player state name.\r\n         */\r\n        start: function(methodName) {\r\n            startTimes[methodName] = dateTime();\r\n            counts[methodName] = counts[methodName] + 1 || 1;\r\n        },\r\n        /**\r\n         * Finish timing a method. The time since `start` is added to {@link TimerMetrics#sums} sums.\r\n         * @memberOf Timer\r\n         * @instance\r\n         * @param {string} methodName - The method or player state name.\r\n         */\r\n        end: function(methodName) {\r\n            if (!startTimes[methodName]) {\r\n                return;\r\n            }\r\n            const now = dateTime();\r\n            const e = now - startTimes[methodName];\r\n            delete startTimes[methodName];\r\n            sum[methodName] = sum[methodName] + e || e;\r\n        },\r\n        /**\r\n         * Output the timer metrics.\r\n         * @memberOf Timer\r\n         * @instance\r\n         * @returns {TimerMetrics}\r\n         */\r\n        dump: function() {\r\n            // Add running sum of latest method\r\n            // This lets `jwplayer().qoe().item.sums` return a tally of running playing/paused time\r\n            const runningSums = Object.assign({}, sum);\r\n            for (const methodName in startTimes) {\r\n                if (Object.prototype.hasOwnProperty.call(startTimes, methodName)) {\r\n                    const now = dateTime();\r\n                    const e = now - startTimes[methodName];\r\n                    runningSums[methodName] = runningSums[methodName] + e || e;\r\n                }\r\n            }\r\n            return {\r\n                counts: Object.assign({}, counts),\r\n                sums: runningSums,\r\n                events: Object.assign({}, ticks)\r\n            };\r\n        },\r\n\r\n        // Profile events\r\n        /**\r\n         * Add or update an event timestamp. The timestamp \"tick\" is added to {@link TimerMetrics#events} events.\r\n         * @memberOf Timer\r\n         * @instance\r\n         * @param {string} event - The event name.\r\n         */\r\n        tick: function(event) {\r\n            ticks[event] = dateTime();\r\n        },\r\n\r\n        /**\r\n         * Remove an event timestamp. The timestamp \"tick\" is removed from {@link TimerMetrics#events} events.\r\n         * @memberOf Timer\r\n         * @instance\r\n         * @param {string} event - The event name.\r\n         */\r\n        clear: function(event) {\r\n            delete ticks[event];\r\n        },\r\n\r\n        /**\r\n         * Get the difference between two events.\r\n         * @memberOf Timer\r\n         * @instance\r\n         * @param left - The first event name.\r\n         * @param right - The second event name.\r\n         * @returns {number|null}\r\n         */\r\n        between: function(left, right) {\r\n            if (ticks[right] && ticks[left]) {\r\n                return ticks[right] - ticks[left];\r\n            }\r\n            return null;\r\n        }\r\n    };\r\n};\r\n\r\nexport default Timer;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/api/timer.js","import { version } from 'version';\r\n\r\nexport const getScriptPath = function(scriptName) {\r\n    const scripts = document.getElementsByTagName('script');\r\n    for (let i = 0; i < scripts.length; i++) {\r\n        const src = scripts[i].src;\r\n        if (src) {\r\n            const index = src.lastIndexOf('/' + scriptName);\r\n            if (index >= 0) {\r\n                return src.substr(0, index + 1);\r\n            }\r\n        }\r\n    }\r\n    return '';\r\n};\r\n\r\n/** Gets the repository location **/\r\nexport const repo = function () {\r\n    if (__SELF_HOSTED__) {\r\n        return getScriptPath('jwplayer.js');\r\n    }\r\n\r\n    const playerRepo = __REPO__;\r\n    const protocol = (playerRepo && window.location.protocol === 'file:') ? 'https:' : '';\r\n    return `${protocol}${playerRepo}`;\r\n};\r\n\r\n// Is the player at least a minimum required version?\r\nexport const versionCheck = function (target) {\r\n    const tParts = ('0' + target).split(/\\W/);\r\n    const jParts = version.split(/\\W/);\r\n    const tMajor = parseFloat(tParts[0]);\r\n    const jMajor = parseFloat(jParts[0]);\r\n    if (tMajor > jMajor) {\r\n        return false;\r\n    } else if (tMajor === jMajor) {\r\n        if (parseFloat('0' + tParts[1]) > parseFloat(jParts[1])) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n};\r\n\r\nexport const loadFrom = function () {\r\n    if (__DEBUG__ || __SELF_HOSTED__) {\r\n        return getScriptPath('jwplayer.js');\r\n    }\r\n    return repo();\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/playerutils.js","import ProvidersLoaded from 'providers/providers-loaded';\r\nimport ProvidersSupported from 'providers/providers-supported';\r\nimport DefaultProvider from 'providers/default';\r\nimport _ from 'utils/underscore';\r\n\r\nexport default function registerProvider(provider) {\r\n    var name = provider.getName().name;\r\n\r\n    // Only register the provider if it isn't registered already.  This is an issue on pages with multiple embeds.\r\n    if (ProvidersLoaded[name]) {\r\n        return;\r\n    }\r\n\r\n    // If there isn't a \"supports\" val for this guy\r\n    if (!_.find(ProvidersSupported, _.matches({ name: name }))) {\r\n        if (!_.isFunction(provider.supports)) {\r\n            throw new Error('Tried to register a provider with an invalid object');\r\n        }\r\n\r\n        // The most recent provider will be in the front of the array, and chosen first\r\n        ProvidersSupported.unshift({\r\n            name: name,\r\n            supports: provider.supports\r\n        });\r\n    }\r\n\r\n    // Fill in any missing properties with the defaults - looks at the prototype chain\r\n    _.defaults(provider.prototype, DefaultProvider);\r\n\r\n    // After registration, it is loaded\r\n    ProvidersLoaded[name] = provider;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/providers/providers-register.js","import Source from 'playlist/source';\r\nimport Track from 'playlist/track';\r\n\r\nconst isArray = Array.isArray;\r\n/**\r\n * An item in the playlist\r\n * @typedef {object} PlaylistItem\r\n * @property {Array.<PlaylistItemSource>} sources - A list of alternative media sources for the player to choose from.\r\n * @property {Array.<PlaylistItemTrack>} tracks - A list of tracks associated with this item.\r\n * @property {string} file - The selected source URL to be played.\r\n * @property {string} [image] - The poster image.\r\n * @property {'none'|'metadata'|'auto'} preload - The selected preload setting.\r\n * @property {number} minDvrWindow - For live streams, the threshold at which the available media should be seekable,\r\n * and treated as a DVR stream.\r\n */\r\n\r\nconst Item = function(config) {\r\n    config = config || {};\r\n    if (!isArray(config.tracks)) {\r\n        delete config.tracks;\r\n    }\r\n\r\n    var playlistItem = Object.assign({}, {\r\n        sources: [],\r\n        tracks: [],\r\n        minDvrWindow: 120\r\n    }, config);\r\n\r\n\r\n    if ((playlistItem.sources === Object(playlistItem.sources)) && !isArray(playlistItem.sources)) {\r\n        playlistItem.sources = [Source(playlistItem.sources)];\r\n    }\r\n\r\n    if (!isArray(playlistItem.sources) || playlistItem.sources.length === 0) {\r\n        if (config.levels) {\r\n            playlistItem.sources = config.levels;\r\n        } else {\r\n            playlistItem.sources = [Source(config)];\r\n        }\r\n    }\r\n\r\n    /** Each source should be a named object **/\r\n    for (var i = 0; i < playlistItem.sources.length; i++) {\r\n        var s = playlistItem.sources[i];\r\n        if (!s) {\r\n            continue;\r\n        }\r\n\r\n        var def = s.default;\r\n        if (def) {\r\n            s.default = (def.toString() === 'true');\r\n        } else {\r\n            s.default = false;\r\n        }\r\n\r\n        // If the source doesn't have a label, number it\r\n        if (!playlistItem.sources[i].label) {\r\n            playlistItem.sources[i].label = i.toString();\r\n        }\r\n\r\n        playlistItem.sources[i] = Source(playlistItem.sources[i]);\r\n    }\r\n\r\n    playlistItem.sources = playlistItem.sources.filter(source => !!source);\r\n\r\n\r\n    if (!isArray(playlistItem.tracks)) {\r\n        playlistItem.tracks = [];\r\n    }\r\n\r\n    if (isArray(playlistItem.captions)) {\r\n        playlistItem.tracks = playlistItem.tracks.concat(playlistItem.captions);\r\n        delete playlistItem.captions;\r\n    }\r\n\r\n    playlistItem.tracks = playlistItem.tracks.map(Track).filter(track => !!track);\r\n\r\n    return playlistItem;\r\n};\r\n\r\nexport default Item;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/playlist/item.js","import { trim } from 'utils/strings';\r\nimport _ from 'utils/underscore';\r\n\r\n// hasClass uses code from jQuery\r\n// jQuery v1.11.2 | (c) 2005, 2014 jQuery Foundation, Inc. | Released under the MIT license | jquery.org/license\r\nexport function hasClass(element, searchClass) {\r\n    const className = ' ' + searchClass + ' ';\r\n    return (element.nodeType === 1 && (' ' + element.className + ' ')\r\n        .replace(/[\\t\\r\\n\\f]/g, ' ').indexOf(className) >= 0);\r\n}\r\n\r\n// Given a string, convert to element and return\r\nexport function createElement(html) {\r\n    const newElement = document.createElement('div');\r\n    newElement.innerHTML = html;\r\n    return newElement.firstChild;\r\n}\r\n\r\n// Used for styling dimensions in CSS\r\n// Return the string unchanged if it's a percentage width; add 'px' otherwise\r\nexport function styleDimension(dimension) {\r\n    return dimension + (dimension.toString().indexOf('%') > 0 ? '' : 'px');\r\n}\r\n\r\nfunction classNameArray(element) {\r\n    return _.isString(element.className) ? element.className.split(' ') : [];\r\n}\r\n\r\nfunction setClassName(element, className) {\r\n    className = trim(className);\r\n    if (element.className !== className) {\r\n        element.className = className;\r\n    }\r\n}\r\n\r\nexport function classList(element) {\r\n    if (element.classList) {\r\n        return element.classList;\r\n    }\r\n    /* ie9 does not support classList http://caniuse.com/#search=classList */\r\n    return classNameArray(element);\r\n}\r\n\r\nexport function addClass(element, classes) {\r\n    // TODO:: use _.union on the two arrays\r\n\r\n    var originalClasses = classNameArray(element);\r\n    var addClasses = _.isArray(classes) ? classes : classes.split(' ');\r\n\r\n    _.each(addClasses, function (c) {\r\n        if (!_.contains(originalClasses, c)) {\r\n            originalClasses.push(c);\r\n        }\r\n    });\r\n\r\n    setClassName(element, originalClasses.join(' '));\r\n}\r\n\r\nexport function removeClass(element, c) {\r\n    var originalClasses = classNameArray(element);\r\n    var removeClasses = _.isArray(c) ? c : c.split(' ');\r\n\r\n    setClassName(element, _.difference(originalClasses, removeClasses).join(' '));\r\n}\r\n\r\nexport function replaceClass(element, pattern, replaceWith) {\r\n    var classes = (element.className || '');\r\n    if (pattern.test(classes)) {\r\n        classes = classes.replace(pattern, replaceWith);\r\n    } else if (replaceWith) {\r\n        classes += ' ' + replaceWith;\r\n    }\r\n    setClassName(element, classes);\r\n}\r\n\r\nexport function toggleClass(element, c, toggleTo) {\r\n    const hasIt = hasClass(element, c);\r\n    toggleTo = _.isBoolean(toggleTo) ? toggleTo : !hasIt;\r\n\r\n    // short circuit if nothing to do\r\n    if (toggleTo === hasIt) {\r\n        return;\r\n    }\r\n\r\n    if (toggleTo) {\r\n        addClass(element, c);\r\n    } else {\r\n        removeClass(element, c);\r\n    }\r\n}\r\n\r\nexport function emptyElement(element) {\r\n    while (element.firstChild) {\r\n        element.removeChild(element.firstChild);\r\n    }\r\n}\r\n\r\nexport function addStyleSheet(url) {\r\n    var link = document.createElement('link');\r\n    link.rel = 'stylesheet';\r\n    link.href = url;\r\n    document.getElementsByTagName('head')[0].appendChild(link);\r\n}\r\n\r\nexport function empty(element) {\r\n    if (!element) {\r\n        return;\r\n    }\r\n    emptyElement(element);\r\n}\r\n\r\nexport function bounds(element) {\r\n    const boundsRect = {\r\n        left: 0,\r\n        right: 0,\r\n        width: 0,\r\n        height: 0,\r\n        top: 0,\r\n        bottom: 0\r\n    };\r\n\r\n    if (!element || !document.body.contains(element)) {\r\n        return boundsRect;\r\n    }\r\n\r\n    var rect = element.getBoundingClientRect();\r\n    var scrollOffsetY = window.pageYOffset;\r\n    var scrollOffsetX = window.pageXOffset;\r\n\r\n    if (!rect.width && !rect.height && !rect.left && !rect.top) {\r\n        // element is not visible / no layout\r\n        return boundsRect;\r\n    }\r\n\r\n    boundsRect.left = rect.left + scrollOffsetX;\r\n    boundsRect.right = rect.right + scrollOffsetX;\r\n    boundsRect.top = rect.top + scrollOffsetY;\r\n    boundsRect.bottom = rect.bottom + scrollOffsetY;\r\n    boundsRect.width = rect.right - rect.left;\r\n    boundsRect.height = rect.bottom - rect.top;\r\n\r\n    return boundsRect;\r\n}\r\n\r\nexport function prependChild(parentElement, childElement) {\r\n    parentElement.insertBefore(childElement, parentElement.firstChild);\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/dom.js","import {\r\n    isChrome,\r\n    isEdge,\r\n    isFacebook,\r\n    isFF,\r\n    isIE,\r\n    isMSIE,\r\n    isSafari,\r\n    isAndroid,\r\n    isAndroidNative,\r\n    isIOS,\r\n    isMobile,\r\n    isOSX,\r\n    isIPad,\r\n    isIPod,\r\n    isFlashSupported,\r\n    flashVersion,\r\n    isIframe,\r\n} from 'utils/browser';\r\nimport { browserVersion } from './browser-version';\r\nimport { osVersion } from './os-version';\r\nimport _ from 'utils/underscore';\r\n\r\nconst memoize = _.memoize;\r\nconst userAgent = navigator.userAgent;\r\n\r\n/**\r\n * @typedef {object} EnvironmentVersion\r\n * @property {string} version - The full version string.\r\n * @property {number} major - The major version.\r\n * @property {number} minor - The minor version.\r\n */\r\n\r\n/**\r\n * @typedef {object} BrowserEnvironment\r\n * @property {boolean} androidNative - Is the browser Android Native?\r\n * @property {boolean} chrome - Is the browser Chrome?\r\n * @property {boolean} edge - Is the browser Edge?\r\n * @property {boolean} facebook - Is the browser a Facebook webview?\r\n * @property {boolean} firefox - Is the browser Firefox?\r\n * @property {boolean} ie - Is the browser Internet Explorer?\r\n * @property {boolean} msie - Is the browser MSIE?\r\n * @property {boolean} safari - Is the browser Safari?\r\n * @property {EnvironmentVersion} version - The browser version.\r\n */\r\nexport const Browser = {};\r\n\r\n/**\r\n * @typedef {object} OSEnvironment\r\n * @property {boolean} android - Is the operating system Android?\r\n * @property {boolean} iOS - Is the operating system iOS?\r\n * @property {boolean} mobile - Is the operating system iOS or Android?\r\n * @property {boolean} osx - Is the operating system Mac OS X?\r\n * @property {boolean} iPad - Is the device an iPad?\r\n * @property {boolean} iPhone - Is the device an iPhone?\r\n * @property {boolean} windows - Is the operating system Windows?\r\n * @property {EnvironmentVersion} version - The operating system version.\r\n */\r\nexport const OS = {};\r\n\r\n/**\r\n * @typedef {object} FeatureEnvironment\r\n * @property {boolean} flash - Does the browser environment support Flash?\r\n * @property {number} flashVersion - The version of Flash.\r\n * @property {boolean} iframe - Is the session in an iframe?\r\n */\r\nexport const Features = {};\r\n\r\nconst isWindows = () => {\r\n    return userAgent.indexOf('Windows') > -1;\r\n};\r\n\r\nObject.defineProperties(Browser, {\r\n    androidNative: {\r\n        get: memoize(isAndroidNative),\r\n        enumerable: true\r\n    },\r\n    chrome: {\r\n        get: memoize(isChrome),\r\n        enumerable: true\r\n    },\r\n    edge: {\r\n        get: memoize(isEdge),\r\n        enumerable: true\r\n    },\r\n    facebook: {\r\n        get: memoize(isFacebook),\r\n        enumerable: true\r\n    },\r\n    firefox: {\r\n        get: memoize(isFF),\r\n        enumerable: true\r\n    },\r\n    ie: {\r\n        get: memoize(isIE),\r\n        enumerable: true\r\n    },\r\n    msie: {\r\n        get: memoize(isMSIE),\r\n        enumerable: true\r\n    },\r\n    safari: {\r\n        get: memoize(isSafari),\r\n        enumerable: true\r\n    },\r\n    version: {\r\n        get: memoize(browserVersion.bind(this, Browser, userAgent)),\r\n        enumerable: true\r\n    }\r\n});\r\n\r\nObject.defineProperties(OS, {\r\n    android: {\r\n        get: memoize(isAndroid),\r\n        enumerable: true\r\n    },\r\n    iOS: {\r\n        get: memoize(isIOS),\r\n        enumerable: true\r\n    },\r\n    mobile: {\r\n        get: memoize(isMobile),\r\n        enumerable: true\r\n    },\r\n    mac: {\r\n        get: memoize(isOSX),\r\n        enumerable: true\r\n    },\r\n    iPad: {\r\n        get: memoize(isIPad),\r\n        enumerable: true\r\n    },\r\n    iPhone: {\r\n        get: memoize(isIPod),\r\n        enumerable: true\r\n    },\r\n    windows: {\r\n        get: memoize(isWindows),\r\n        enumerable: true\r\n    },\r\n    version: {\r\n        get: memoize(osVersion.bind(this, OS, userAgent)),\r\n        enumerable: true\r\n    }\r\n});\r\n\r\nObject.defineProperties(Features, {\r\n    flash: {\r\n        get: memoize(isFlashSupported),\r\n        enumerable: true,\r\n    },\r\n    flashVersion: {\r\n        get: memoize(flashVersion),\r\n        enumerable: true\r\n    },\r\n    iframe: {\r\n        get: memoize(isIframe),\r\n        enumerable: true\r\n    }\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/environment/environment.js","import { pad } from 'utils/strings';\r\nimport styleLoader from 'simple-style-loader/addStyles';\r\n\r\nexport const clearCss = styleLoader.clear;\r\n\r\nexport function css(selector, styles, playerId, important) {\r\n    playerId = playerId || 'all-players';\r\n    var cssText = '';\r\n    if (typeof styles === 'object') {\r\n        var el = document.createElement('div');\r\n        style(el, styles);\r\n        var styleCSSText = el.style.cssText;\r\n        if (important && styleCSSText) {\r\n            styleCSSText = styleCSSText.replace(/;/g, ' !important;');\r\n        }\r\n        cssText = '{' + styleCSSText + '}';\r\n    } else if (typeof styles === 'string') {\r\n        cssText = styles;\r\n    }\r\n\r\n    if (cssText === '' || cssText === '{}') {\r\n        styleLoader.clear(playerId, selector);\r\n        return;\r\n    }\r\n\r\n    styleLoader.style([[selector, selector + cssText]], playerId);\r\n}\r\n\r\nexport function style(elements, styles) {\r\n    if (elements === undefined || elements === null) {\r\n        return;\r\n    }\r\n    if (elements.length === undefined) {\r\n        elements = [elements];\r\n    }\r\n\r\n    var property;\r\n    var cssRules = {};\r\n    for (property in styles) {\r\n        if (Object.prototype.hasOwnProperty.call(styles, property)) {\r\n            cssRules[property] = _styleValue(property, styles[property]);\r\n        }\r\n    }\r\n\r\n    for (var i = 0; i < elements.length; i++) {\r\n        var element = elements[i];\r\n        var styleName;\r\n\r\n        if (element !== undefined && element !== null) {\r\n            for (property in cssRules) {\r\n                if (Object.prototype.hasOwnProperty.call(cssRules, property)) {\r\n                    styleName = _styleAttributeName(property);\r\n                    if (element.style[styleName] !== cssRules[property]) {\r\n                        element.style[styleName] = cssRules[property];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction _styleAttributeName(name) {\r\n    name = name.split('-');\r\n    for (var i = 1; i < name.length; i++) {\r\n        name[i] = name[i].charAt(0).toUpperCase() + name[i].slice(1);\r\n    }\r\n    return name.join('');\r\n}\r\n\r\nfunction _styleValue(property, value) {\r\n    if (value === '' || value === undefined || value === null) {\r\n        return '';\r\n    }\r\n    // string\r\n    if (typeof value === 'string' && isNaN(value)) {\r\n        if ((/png|gif|jpe?g/i).test(value) && value.indexOf('url') < 0) {\r\n            return 'url(' + value + ')';\r\n        }\r\n        return value;\r\n    }\r\n    // number\r\n    if (value === 0 ||\r\n        property === 'z-index' ||\r\n        property === 'opacity') {\r\n        return '' + value;\r\n    }\r\n    if ((/color/i).test(property)) {\r\n        return '#' + pad(value.toString(16).replace(/^0x/i, ''), 6);\r\n    }\r\n    return Math.ceil(value) + 'px';\r\n}\r\n\r\nexport function transform(element, value) {\r\n    style(element, {\r\n        transform: value,\r\n        webkitTransform: value,\r\n        msTransform: value,\r\n        mozTransform: value,\r\n        oTransform: value\r\n    });\r\n}\r\n\r\nlet canvasColorContext;\r\n\r\nexport function getRgba(color, opacity) {\r\n    var colorFn = 'rgb';\r\n    var hasAlpha = (opacity !== undefined && opacity !== 100);\r\n    if (hasAlpha) {\r\n        colorFn += 'a';\r\n    }\r\n    if (!canvasColorContext) {\r\n        var canvas = document.createElement('canvas');\r\n        canvas.height = 1;\r\n        canvas.width = 1;\r\n        canvasColorContext = canvas.getContext('2d');\r\n    }\r\n    if (!color) {\r\n        color = '#000000';\r\n    } else if (!isNaN(parseInt(color, 16))) {\r\n        color = '#' + color;\r\n    }\r\n    canvasColorContext.clearRect(0, 0, 1, 1);\r\n    canvasColorContext.fillStyle = color;\r\n    canvasColorContext.fillRect(0, 0, 1, 1);\r\n    var data = canvasColorContext.getImageData(0, 0, 1, 1).data;\r\n    colorFn += '(' + data[0] + ', ' + data[1] + ', ' + data[2];\r\n    if (hasAlpha) {\r\n        colorFn += ', ' + (opacity / 100);\r\n    }\r\n    return colorFn + ')';\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/css.js","const instances = [];\r\n\r\nexport default instances;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/api/players.js","const userAgent = navigator.userAgent;\r\n\r\nfunction userAgentMatch(regex) {\r\n    return userAgent.match(regex) !== null;\r\n}\r\n\r\nfunction lazyUserAgentMatch(regex) {\r\n    return function () {\r\n        return userAgentMatch(regex);\r\n    };\r\n}\r\n\r\nexport function isInt(value) {\r\n    return parseFloat(value) % 1 === 0;\r\n}\r\n\r\nexport function isFlashSupported() {\r\n    const version = flashVersion();\r\n    return !!(version && version >= __FLASH_VERSION__);\r\n}\r\n\r\nexport const isFF = lazyUserAgentMatch(/gecko\\//i);\r\nexport const isIETrident = lazyUserAgentMatch(/trident\\/.+rv:\\s*11/i);\r\nexport const isIPod = lazyUserAgentMatch(/iP(hone|od)/i);\r\nexport const isIPad = lazyUserAgentMatch(/iPad/i);\r\nexport const isOSX = lazyUserAgentMatch(/Macintosh/i);\r\n// Check for Facebook App Version to see if it's Facebook\r\nexport const isFacebook = lazyUserAgentMatch(/FBAV/i);\r\n\r\nexport function isEdge() {\r\n    return userAgentMatch(/\\sEdge\\/\\d+/i);\r\n}\r\n\r\nexport function isMSIE() {\r\n    return userAgentMatch(/msie/i);\r\n}\r\n\r\nexport function isChrome() {\r\n    return userAgentMatch(/\\s(?:Chrome|CriOS)\\//i) && !isEdge();\r\n}\r\n\r\nexport function isIE() {\r\n    return isEdge() || isIETrident() || isMSIE();\r\n}\r\n\r\nexport function isSafari() {\r\n    return userAgentMatch(/safari/i) && !userAgentMatch(/(?:Chrome|CriOS|chromium|android)/i);\r\n}\r\n\r\n/** Matches iOS devices **/\r\nexport function isIOS() {\r\n    return userAgentMatch(/iP(hone|ad|od)/i);\r\n}\r\n\r\n/** Matches Android devices **/\r\nexport function isAndroidNative() {\r\n    // Android Browser appears to include a user-agent string for Chrome/18\r\n    if (userAgentMatch(/chrome\\/[123456789]/i) && !userAgentMatch(/chrome\\/18/i) && !isFF()) {\r\n        return false;\r\n    }\r\n    return isAndroid();\r\n}\r\n\r\nexport function isAndroid() {\r\n    return userAgentMatch(/Android/i);\r\n}\r\n\r\n/** Matches iOS and Android devices **/\r\nexport function isMobile() {\r\n    return isIOS() || isAndroid();\r\n}\r\n\r\nexport function isIframe() {\r\n    try {\r\n        return window.self !== window.top;\r\n    } catch (e) {\r\n        return true;\r\n    }\r\n}\r\n\r\n/**\r\n * If the browser has flash capabilities, return the flash version\r\n */\r\nexport function flashVersion() {\r\n    if (isAndroid()) {\r\n        return 0;\r\n    }\r\n\r\n    var plugins = navigator.plugins;\r\n    var flash;\r\n\r\n    if (plugins) {\r\n        flash = plugins['Shockwave Flash'];\r\n        if (flash && flash.description) {\r\n            return parseFloat(flash.description.replace(/\\D+(\\d+\\.?\\d*).*/, '$1'));\r\n        }\r\n    }\r\n\r\n    if (typeof window.ActiveXObject !== 'undefined') {\r\n        try {\r\n            flash = new window.ActiveXObject('ShockwaveFlash.ShockwaveFlash');\r\n            if (flash) {\r\n                return parseFloat(flash.GetVariable('$version').split(' ')[1].replace(/\\s*,\\s*/, '.'));\r\n            }\r\n        } catch (e) {\r\n            return 0;\r\n        }\r\n\r\n        return flash;\r\n    }\r\n    return 0;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/browser.js","import { getPreload } from './preload';\r\nimport PlaylistItem from 'playlist/item';\r\nimport Source from 'playlist/source';\r\nimport Providers from 'providers/providers';\r\n\r\nconst Playlist = function(playlist) {\r\n    // Can be either an array of items or a single item.\r\n    return (Array.isArray(playlist) ? playlist : [playlist]).map(PlaylistItem);\r\n};\r\n\r\n/** Go through the playlist and choose a single playable type to play; remove sources of a different type **/\r\nexport function filterPlaylist(playlist, model, feedData) {\r\n    const list = [];\r\n    const providers = model.getProviders();\r\n    const preload = model.get('preload');\r\n    const itemFeedData = Object.assign({}, feedData);\r\n    delete itemFeedData.playlist;\r\n\r\n    playlist.forEach(function(item) {\r\n        item = Object.assign({}, item);\r\n\r\n        item.preload = getPreload(item.preload, preload);\r\n\r\n        item.allSources = formatSources(item, model);\r\n\r\n        item.sources = filterSources(item.allSources, providers);\r\n\r\n        if (!item.sources.length) {\r\n            return;\r\n        }\r\n\r\n        // include selected file in item for backwards compatibility\r\n        item.file = item.sources[0].file;\r\n\r\n        if (feedData) {\r\n            item.feedData = itemFeedData;\r\n        }\r\n\r\n        list.push(item);\r\n    });\r\n\r\n    return list;\r\n}\r\n\r\nfunction formatSources(item, model) {\r\n    const sources = item.sources;\r\n    const androidhls = model.get('androidhls');\r\n    const itemDrm = item.drm || model.get('drm');\r\n    const withCredentials = fallbackIfUndefined(item.withCredentials, model.get('withCredentials'));\r\n    const hlsjsdefault = model.get('hlsjsdefault') !== false;\r\n\r\n    return sources.map(function(originalSource) {\r\n        if (originalSource !== Object(originalSource)) {\r\n            return null;\r\n        }\r\n        if (androidhls !== undefined && androidhls !== null) {\r\n            originalSource.androidhls = androidhls;\r\n        }\r\n\r\n        if (originalSource.drm || itemDrm) {\r\n            originalSource.drm = originalSource.drm || itemDrm;\r\n        }\r\n\r\n        originalSource.preload = getPreload(originalSource.preload, item.preload);\r\n\r\n        // withCredentials is assigned in ascending priority order, source > playlist > model\r\n        // a false value that is a higher priority than true must result in a false withCredentials value\r\n        // we don't want undefined if all levels have withCredentials as undefined\r\n        const cascadedWithCredentials = fallbackIfUndefined(originalSource.withCredentials, withCredentials);\r\n        if (cascadedWithCredentials !== undefined) {\r\n            originalSource.withCredentials = cascadedWithCredentials;\r\n        }\r\n\r\n        if (hlsjsdefault) {\r\n            originalSource.hlsjsdefault = hlsjsdefault;\r\n        }\r\n\r\n        return Source(originalSource);\r\n    }).filter(source => !!source);\r\n}\r\n\r\n// A playlist item may have multiple different sources, but we want to stick with one.\r\nfunction filterSources(sources, providers) {\r\n    if (!providers || !providers.choose) {\r\n        providers = new Providers();\r\n    }\r\n\r\n    const chosenProviderAndType = chooseProviderAndType(sources, providers);\r\n    if (!chosenProviderAndType) {\r\n        return [];\r\n    }\r\n    const provider = chosenProviderAndType.provider;\r\n    const bestType = chosenProviderAndType.type;\r\n    return sources.filter(function(source) {\r\n        return source.type === bestType && providers.providerSupports(provider, source);\r\n    });\r\n}\r\n\r\n//  Choose from the sources a type which matches our most preferred provider\r\nfunction chooseProviderAndType(sources, providers) {\r\n    for (let i = 0; i < sources.length; i++) {\r\n        const source = sources[i];\r\n        const chosenProvider = providers.choose(source);\r\n        if (chosenProvider) {\r\n            return { type: source.type, provider: chosenProvider.providerToCheck };\r\n        }\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\nfunction fallbackIfUndefined(value, fallback) {\r\n    return (value === undefined) ? fallback : value;\r\n}\r\n\r\nexport default Playlist;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/playlist/playlist.js","import ProvidersSupported from 'providers/providers-supported';\r\nimport registerProvider from 'providers/providers-register';\r\nimport ProvidersLoaded from 'providers/providers-loaded';\r\nimport { chunkLoadErrorHandler } from '../api/core-loader';\r\n\r\nfunction Providers(config) {\r\n    this.config = config || {};\r\n}\r\n\r\nexport const Loaders = {\r\n    html5: function() {\r\n        return require.ensure(['providers/html5'], function(require) {\r\n            const provider = require('providers/html5').default;\r\n            registerProvider(provider);\r\n            return provider;\r\n        }, chunkLoadErrorHandler, 'provider.html5');\r\n    }\r\n};\r\n\r\nObject.assign(Providers.prototype, {\r\n\r\n    load: function(providersToLoad) {\r\n        return Promise.all(providersToLoad.filter(provider => !!Loaders[provider.name]).map(provider => {\r\n            // Resolve event for unknown registered providers\r\n            const providerLoaderMethod = Loaders[provider.name];\r\n            return providerLoaderMethod();\r\n        }));\r\n    },\r\n\r\n    providerSupports: function(provider, source) {\r\n        return provider.supports(source);\r\n    },\r\n\r\n    required: function(playlist) {\r\n        playlist = playlist.slice();\r\n        return ProvidersSupported.filter((provider) => {\r\n            // remove items from copied playlist that can be played by provider\r\n            // remaining providers will be checked against any remaining items\r\n            // provider will be loaded if there are matches\r\n            let loadProvider = false;\r\n            for (let i = playlist.length; i--;) {\r\n                const item = playlist[i];\r\n                const supported = this.providerSupports(provider, item.sources[0]);\r\n                if (supported) {\r\n                    playlist.splice(i, 1);\r\n                }\r\n                loadProvider = loadProvider || supported;\r\n            }\r\n            return loadProvider;\r\n        });\r\n    },\r\n\r\n    // Find the name of the first provider which can support the media source-type\r\n    choose: function(source) {\r\n        // prevent throw on missing source\r\n        source = (source === Object(source)) ? source : {};\r\n        const count = ProvidersSupported.length;\r\n        for (let i = 0; i < count; i++) {\r\n            const provider = ProvidersSupported[i];\r\n            if (this.providerSupports(provider, source)) {\r\n                // prefer earlier providers\r\n                const priority = count - i - 1;\r\n\r\n                return {\r\n                    priority: priority,\r\n                    name: provider.name,\r\n                    type: source.type,\r\n                    providerToCheck: provider,\r\n                    // If provider isn't loaded, this will be undefined\r\n                    provider: ProvidersLoaded[provider.name]\r\n                };\r\n            }\r\n        }\r\n\r\n        return null;\r\n    }\r\n});\r\n\r\nexport default Providers;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/providers/providers.js","const ProvidersLoaded = {};\r\nexport default ProvidersLoaded;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/providers/providers-loaded.js","import { isYouTube, isRtmp } from 'utils/validator';\r\nimport { trim, extension } from 'utils/strings';\r\n\r\n/**\r\n * A media source variant present in a playlist item\r\n * @typedef {object} PlaylistItemSource\r\n * @property {string} file - The media URL.\r\n * @property {string} type - The type (common file extension) of media.\r\n * @property {boolean} default - Default sources are prioritized over others.\r\n * @property {string} label - The quality label to be used with multiple mp4/webm sources.\r\n */\r\n\r\nconst Source = function(config) {\r\n    // file is the only hard requirement\r\n    if (!config || !config.file) {\r\n        return;\r\n    }\r\n\r\n    const source = Object.assign({}, {\r\n        'default': false\r\n    }, config);\r\n\r\n    // normalize for odd strings\r\n    source.file = trim('' + source.file);\r\n\r\n    // regex to check if mimetype is given\r\n    const mimetypeRegEx = /^[^/]+\\/(?:x-)?([^/]+)$/;\r\n\r\n    if (mimetypeRegEx.test(source.type)) {\r\n        // if type is given as a mimetype\r\n        source.mimeType = source.type;\r\n        source.type = source.type.replace(mimetypeRegEx, '$1');\r\n    }\r\n\r\n    // check if the source is youtube or rtmp\r\n    if (isYouTube(source.file)) {\r\n        source.type = 'youtube';\r\n    } else if (isRtmp(source.file)) {\r\n        source.type = 'rtmp';\r\n    } else if (!source.type) {\r\n        source.type = extension(source.file);\r\n    }\r\n\r\n    if (!source.type) {\r\n        return;\r\n    }\r\n\r\n    // normalize types\r\n    switch (source.type) {\r\n        case 'm3u8':\r\n        case 'vnd.apple.mpegurl':\r\n            source.type = 'hls';\r\n            break;\r\n        case 'dash+xml':\r\n            source.type = 'dash';\r\n            break;\r\n        // Although m4a is a container format, it is most often used for aac files\r\n        // http://en.wikipedia.org/w/index.php?title=MPEG-4_Part_14\r\n        case 'm4a':\r\n            source.type = 'aac';\r\n            break;\r\n        case 'smil':\r\n            source.type = 'rtmp';\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n\r\n    // remove empty strings\r\n    Object.keys(source).forEach(function(key) {\r\n        if (source[key] === '') {\r\n            delete source[key];\r\n        }\r\n    });\r\n\r\n    return source;\r\n};\r\n\r\nexport default Source;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/playlist/source.js","import Events from 'utils/backbone.events';\r\nimport { ERROR, STATE_COMPLETE } from 'events/events';\r\nimport Promise from 'polyfills/promise';\r\n\r\nconst ScriptPromises = {};\r\n\r\nconst SCRIPT_LOAD_TIMEOUT = 15000;\r\n\r\nexport const SCRIPT_LOAD_STATUS_NEW = 0;\r\nexport const SCRIPT_LOAD_STATUS_LOADING = 1;\r\nexport const SCRIPT_LOAD_STATUS_ERROR = 2;\r\nexport const SCRIPT_LOAD_STATUS_COMPLETE = 3;\r\n\r\nfunction makeStyleLink(styleUrl) {\r\n    const link = document.createElement('link');\r\n    link.type = 'text/css';\r\n    link.rel = 'stylesheet';\r\n    link.href = styleUrl;\r\n    return link;\r\n}\r\n\r\nfunction makeScriptTag(scriptUrl) {\r\n    const scriptTag = document.createElement('script');\r\n    scriptTag.type = 'text/javascript';\r\n    scriptTag.charset = 'utf-8';\r\n    scriptTag.async = true;\r\n    scriptTag.timeout = SCRIPT_LOAD_TIMEOUT;\r\n    scriptTag.src = scriptUrl;\r\n    return scriptTag;\r\n}\r\n\r\nconst ScriptLoader = function (url, isStyle) {\r\n    const _this = this;\r\n    let status = SCRIPT_LOAD_STATUS_NEW;\r\n\r\n\r\n    function onError(evt) {\r\n        status = SCRIPT_LOAD_STATUS_ERROR;\r\n        _this.trigger(ERROR, evt).off();\r\n    }\r\n\r\n    function onComplete(evt) {\r\n        status = SCRIPT_LOAD_STATUS_COMPLETE;\r\n        _this.trigger(STATE_COMPLETE, evt).off();\r\n    }\r\n\r\n    this.getStatus = function () {\r\n        return status;\r\n    };\r\n\r\n    this.load = function () {\r\n        // Only execute on the first run\r\n        if (status !== SCRIPT_LOAD_STATUS_NEW) {\r\n            return;\r\n        }\r\n\r\n        // If we already have a scriptloader loading the same script, don't create a new one;\r\n        let promise = ScriptPromises[url];\r\n        if (promise) {\r\n            promise.then(onComplete).catch(onError);\r\n        }\r\n\r\n        status = SCRIPT_LOAD_STATUS_LOADING;\r\n\r\n        promise = new Promise((resolve, reject) => {\r\n            const makeTag = (isStyle ? makeStyleLink : makeScriptTag);\r\n            const scriptTag = makeTag(url);\r\n            const doneLoading = function() {\r\n                // Handle memory leak in IE\r\n                scriptTag.onerror = scriptTag.onload = null;\r\n                clearTimeout(timeout);\r\n            };\r\n            const onScriptLoadingError = function(error) {\r\n                doneLoading();\r\n                onError(error);\r\n                reject(error);\r\n            };\r\n            const timeout = setTimeout(() => {\r\n                onScriptLoadingError(new Error(`Network timeout ${url}`));\r\n            }, SCRIPT_LOAD_TIMEOUT);\r\n\r\n            scriptTag.onerror = function() {\r\n                onScriptLoadingError(new Error(`Failed to load ${url}`));\r\n            };\r\n\r\n            scriptTag.onload = function(evt) {\r\n                doneLoading();\r\n                onComplete(evt);\r\n                resolve(evt);\r\n            };\r\n\r\n            const head = document.getElementsByTagName('head')[0] || document.documentElement;\r\n            head.insertBefore(scriptTag, head.firstChild);\r\n        });\r\n\r\n        ScriptPromises[url] = promise;\r\n\r\n        return promise;\r\n    };\r\n};\r\n\r\nObject.assign(ScriptLoader.prototype, Events);\r\n\r\nexport default ScriptLoader;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/scriptloader.js","import PluginsLoader from 'plugins/loader';\r\nimport PluginsModel from 'plugins/model';\r\nimport { log } from 'utils/helpers';\r\n\r\nconst pluginsModel = new PluginsModel();\r\nconst pluginLoaders = {};\r\n\r\nfunction getPluginLoader(id) {\r\n    pluginLoaders[id] = new PluginsLoader();\r\n    return pluginLoaders[id];\r\n}\r\n\r\nexport const registerPlugin = function(name, minimumVersion, pluginClass) {\r\n    let plugin = pluginsModel.addPlugin(name);\r\n    if (!plugin.js) {\r\n        plugin.registerPlugin(name, minimumVersion, pluginClass);\r\n    }\r\n};\r\n\r\nexport default function loadPlugins(model, api) {\r\n    const playerId = model.get('id');\r\n    const pluginsConfig = model.get('plugins');\r\n\r\n    window.jwplayerPluginJsonp = registerPlugin;\r\n\r\n    const pluginLoader = getPluginLoader(playerId);\r\n    return pluginLoader.load(api, pluginsModel, pluginsConfig).then(events => {\r\n        if (pluginLoader !== pluginLoaders[playerId]) {\r\n            // Player and plugin loader was replaced\r\n            return;\r\n        }\r\n        if (events) {\r\n            events.forEach(object => {\r\n                if (object instanceof Error) {\r\n                    log(object.message);\r\n                }\r\n            });\r\n        }\r\n        delete window.jwplayerPluginJsonp;\r\n    });\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/plugins/plugins.js","import { filterPlaylist } from 'playlist/playlist';\r\n\r\nconst setPlaylist = function(model, playlist, feedData = {}) {\r\n\r\n    model.set('feedData', feedData);\r\n    if (feedData.error instanceof Error) {\r\n        throw feedData.error;\r\n    }\r\n\r\n    const filteredPlaylist = filterPlaylist(playlist, model, feedData);\r\n\r\n    model.set('playlist', filteredPlaylist);\r\n\r\n    if (!Array.isArray(filteredPlaylist) || filteredPlaylist.length === 0) {\r\n        throw new Error('No playable sources found');\r\n    }\r\n};\r\n\r\nexport function loadProvidersForPlaylist(model) {\r\n    const playlist = model.get('playlist');\r\n    const providersManager = model.getProviders();\r\n    const providersNeeded = providersManager.required(playlist);\r\n\r\n    return providersManager.load(providersNeeded);\r\n}\r\n\r\nexport default setPlaylist;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/api/set-playlist.js","define(function (require, exports, module) {/*\r\n MIT License http://www.opensource.org/licenses/mit-license.php\r\n Author Tobias Koppers @sokra\r\n */\r\n\r\n\tvar stylesInDom = {},\r\n\t\tplayerStyleElements = {},\r\n\t\tmemoize = function(fn) {\r\n\t\t\tvar memo;\r\n\t\t\treturn function () {\r\n\t\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\t\treturn memo;\r\n\t\t\t};\r\n\t\t},\r\n\t\tgetHeadElement = memoize(function () {\r\n\t\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t\t});\r\n\r\n\tmodule.exports = {\r\n\t\tstyle: style,\r\n\t\tclear: clear\r\n\t};\r\n\r\n\tfunction style (list, playerId) {\r\n\t\taddStylesToDom(playerId, listToStyles(list));\r\n\t}\r\n\r\n\tfunction clear (playerId, selector) {\r\n\t\tvar playerStyles = stylesInDom[playerId];\r\n\t\tif (!playerStyles) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (selector) {\r\n\t\t\t// delete all rules for a specific selector\r\n\t\t\tvar ruleObj = playerStyles[selector];\r\n\t\t\tif (ruleObj) {\r\n\t\t\t\tfor (var h = 0; h < ruleObj.parts.length; h += 1) {\r\n\t\t\t\t\truleObj.parts[h]();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar styleKeys = Object.keys(playerStyles);\r\n\t\tfor (var i = 0; i < styleKeys.length; i += 1) {\r\n\t\t\tvar styleObj = playerStyles[styleKeys[i]];\r\n\t\t\tfor (var j = 0; j < styleObj.parts.length; j += 1) {\r\n\t\t\t\tstyleObj.parts[j]();\r\n\t\t\t}\r\n\t\t}\r\n\t\tdelete stylesInDom[playerId];\r\n\t}\r\n\r\n\tfunction addStylesToDom(playerId, styles) {\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = (stylesInDom[playerId] || {})[item.id];\r\n\t\t\tif(domStyle) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t\t}\r\n\t\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\t\tdomStyle.parts.push(addStyle(playerId, item.parts[j]));\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tvar parts = [];\r\n\t\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\t\tparts.push(addStyle(playerId, item.parts[j]));\r\n\t\t\t\t}\r\n\t\t\t\tstylesInDom[playerId] = stylesInDom[playerId] || {};\r\n\t\t\t\tstylesInDom[playerId][item.id] = {id: item.id, parts: parts};\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction listToStyles(list) {\r\n\t\tvar styles = [];\r\n\t\tvar newStyles = {};\r\n\t\tfor(var i = 0; i < list.length; i++) {\r\n\t\t\tvar item = list[i];\r\n\t\t\t// The id isn't a css selector - it's just used internally\r\n\t\t\tvar id = item[0];\r\n\t\t\tvar css = item[1];\r\n\t\t\tvar media = item[2];\r\n\t\t\tvar part = {css: css, media: media};\r\n\t\t\tif(!newStyles[id])\r\n\t\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\t\telse\r\n\t\t\t\tnewStyles[id].parts.push(part);\r\n\t\t}\r\n\t\treturn styles;\r\n\t}\r\n\r\n\tfunction insertStyleElement(styleElement) {\r\n\t\tgetHeadElement().appendChild(styleElement);\r\n\t}\r\n\r\n\tfunction createStyleElement(playerId) {\r\n\t\tvar styleElement = document.createElement(\"style\");\r\n\t\tstyleElement.type = \"text/css\";\r\n\t\tstyleElement.setAttribute('data-jwplayer-id', playerId);\r\n\t\tinsertStyleElement(styleElement);\r\n\t\treturn styleElement;\r\n\t}\r\n\r\n\tfunction addStyle(playerId, obj) {\r\n\t\tvar styleElement, update, remove;\r\n\t\tvar singleton = playerStyleElements[playerId];\r\n\r\n\t\tif (!singleton) {\r\n\t\t\tsingleton = playerStyleElements[playerId] = {\r\n\t\t\t\telement: createStyleElement(playerId),\r\n\t\t\t\tcounter: 0\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tvar styleIndex = singleton.counter++;\r\n\t\tstyleElement = singleton.element;\r\n\t\tupdate = function(css) {\r\n\t\t\tapplyToSingletonTag(styleElement, styleIndex, css);\r\n        };\r\n\t\tremove = function() {\r\n\t\t\tapplyToSingletonTag(styleElement, styleIndex, '');\r\n        };\r\n\r\n\t\tupdate(obj.css);\r\n\r\n\t\treturn function updateStyle(newObj) {\r\n\t\t\tif(newObj) {\r\n\t\t\t\tif(newObj.css === obj.css && newObj.media === obj.media)\r\n\t\t\t\t\treturn;\r\n                obj = newObj;\r\n\t\t\t\tupdate(obj.css);\r\n\t\t\t} else {\r\n\t\t\t\tremove();\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\tvar replaceText = (function () {\r\n\t\tvar textStore = [];\r\n\r\n\t\treturn function (index, replacement) {\r\n\t\t\ttextStore[index] = replacement;\r\n\t\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t\t};\r\n\t})();\r\n\r\n\tfunction applyToSingletonTag(styleElement, index, css) {\r\n\t\tif (styleElement.styleSheet) {\r\n\t\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t\t} else {\r\n\t\t\tvar cssNode = document.createTextNode(css);\r\n\t\t\tvar childNodes = styleElement.childNodes;\r\n\t\t\tvar child = childNodes[index];\r\n\t\t\tif (child) {\r\n\t\t\t\tstyleElement.replaceChild(cssNode, child);\r\n\t\t\t} else {\r\n\t\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/simple-style-loader/addStyles.js\n// module id = 33\n// module chunks = 10","import errorContainerTemplate from 'templates/error';\r\nimport { createElement } from 'utils/dom';\r\nimport { style } from 'utils/css';\r\n\r\nexport default function ErrorContainer(model, message) {\r\n    const index = message.indexOf(':') + 1;\r\n    const title = (index > 0) ? message.substr(0, index) : 'Error loading player:';\r\n    const description = message.substr(index);\r\n    const html = errorContainerTemplate(model.get('id'), title, description);\r\n    const width = model.get('width');\r\n    const height = model.get('height');\r\n    const element = createElement(html);\r\n\r\n    style(element, {\r\n        width: width.toString().indexOf('%') > 0 ? width : `${width}px`,\r\n        height: height.toString().indexOf('%') > 0 ? height : `${height}px`\r\n    });\r\n\r\n    return element;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/view/error-container.js","export const now = Date.now || function() {\r\n    return new Date().getTime();\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/date.js","import ApiQueueDecorator from 'api/api-queue';\r\nimport Config from 'api/config';\r\nimport Setup from 'api/Setup';\r\nimport Providers from 'providers/providers';\r\nimport loadPlugins from 'plugins/plugins';\r\nimport Timer from 'api/timer';\r\nimport Storage from 'model/storage';\r\nimport SimpleModel from 'model/simplemodel';\r\nimport { INITIAL_PLAYER_STATE } from 'model/player-model';\r\nimport { SETUP_ERROR, STATE_ERROR } from 'events/events';\r\nimport Events from 'utils/backbone.events';\r\nimport loadCoreBundle from 'api/core-loader';\r\nimport Promise, { resolved } from 'polyfills/promise';\r\nimport ErrorContainer from 'view/error-container';\r\nimport getMediaElement from 'api/get-media-element';\r\n\r\nconst ModelShim = function() {};\r\nObject.assign(ModelShim.prototype, SimpleModel);\r\n\r\nconst CoreShim = function(originalContainer) {\r\n    this._events = {};\r\n    this.modelShim = new ModelShim();\r\n    this.modelShim._qoeItem = new Timer();\r\n    this.setup = new Setup(this.modelShim);\r\n    this.currentContainer =\r\n        this.originalContainer = originalContainer;\r\n    this.apiQueue = new ApiQueueDecorator(this, [\r\n        // These commands require a provider instance to be available\r\n        'load',\r\n        'play',\r\n        'pause',\r\n        'seek',\r\n        'stop',\r\n        'playlistItem',\r\n        'playlistNext',\r\n        'playlistPrev',\r\n        'next',\r\n\r\n        // These should just update state that could be acted on later, but need to be queued given v7 model\r\n        'setConfig',\r\n        'setCurrentAudioTrack',\r\n        'setCurrentCaptions',\r\n        'setCurrentQuality',\r\n        'setFullscreen',\r\n        'addButton',\r\n        'removeButton',\r\n        'castToggle',\r\n        'setMute',\r\n        'setVolume',\r\n        'setPlaybackRate',\r\n\r\n        // These commands require the view instance to be available\r\n        'resize',\r\n        'setCaptions',\r\n        'setControls',\r\n        'setCues',\r\n    ], () => true);\r\n};\r\n\r\nObject.assign(CoreShim.prototype, {\r\n    on: Events.on,\r\n    once: Events.once,\r\n    off: Events.off,\r\n    trigger: Events.trigger,\r\n    init(options, api) {\r\n        const model = this.modelShim;\r\n        const storage = new Storage('jwplayer', [\r\n            'volume',\r\n            'mute',\r\n            'captionLabel',\r\n            'qualityLabel'\r\n        ]);\r\n        const persisted = storage && storage.getAllItems();\r\n        model.attributes = model.attributes || {};\r\n\r\n        // Assigning config properties to the model needs to be synchronous for chained get API methods\r\n        const configuration = Config(options, persisted);\r\n        Object.assign(model.attributes, configuration, INITIAL_PLAYER_STATE);\r\n        model.getProviders = function() {\r\n            return new Providers(configuration);\r\n        };\r\n        model.setProvider = function() {};\r\n\r\n        // Create/get click-to-play media element, and call .load() to unblock user-gesture to play requirement\r\n        const mediaElement =\r\n            model.attributes.mediaElement = getMediaElement(this.originalContainer);\r\n        mediaElement.load();\r\n\r\n        return Promise.all([\r\n            loadCoreBundle(model),\r\n            this.setup.start(),\r\n            loadPlugins(model, api)\r\n        ]).then(allPromises => {\r\n            const CoreMixin = allPromises[0];\r\n            if (!this.setup) {\r\n                // Exit if `playerDestroy` was called on CoreLoader clearing the config\r\n                return;\r\n            }\r\n            const config = this.modelShim.clone();\r\n            // Exit if embed config encountered an error\r\n            if (config.error instanceof Error) {\r\n                throw config.error;\r\n            }\r\n            // copy queued commands\r\n            const commandQueue = this.apiQueue.queue.slice(0);\r\n            this.apiQueue.destroy();\r\n\r\n            // Assign CoreMixin.prototype (formerly controller) properties to this instance making api.core the controller\r\n            Object.assign(this, CoreMixin.prototype);\r\n            this.setup(config, api, this.originalContainer, this._events, commandQueue);\r\n\r\n            const coreModel = this._model;\r\n            storage.track(coreModel);\r\n\r\n            // Set the active playlist item after plugins are loaded and the view is setup\r\n            return coreModel.setItemIndex(coreModel.get('item'));\r\n        }).then(() => {\r\n            if (!this.setup) {\r\n                return;\r\n            }\r\n            this.playerReady();\r\n        }).catch((error) => {\r\n            if (!this.setup) {\r\n                return;\r\n            }\r\n            setupError(this, error);\r\n        });\r\n    },\r\n    playerDestroy() {\r\n        if (this.apiQueue) {\r\n            this.apiQueue.destroy();\r\n        }\r\n\r\n        if (this.setup) {\r\n            this.setup.destroy();\r\n        }\r\n        this.off();\r\n        this._events =\r\n            this._model =\r\n            this.modelShim =\r\n            this.originalContainer =\r\n            this.apiQueue =\r\n            this.setup = null;\r\n    },\r\n    getContainer() {\r\n        return this.currentContainer;\r\n    },\r\n\r\n    // These methods read from the model\r\n    get(property) {\r\n        return this.modelShim.get(property);\r\n    },\r\n    getItemQoe() {\r\n        return this.modelShim._qoeItem;\r\n    },\r\n    getConfig() {\r\n        return Object.assign({}, this.modelShim.attributes);\r\n    },\r\n    getCurrentCaptions() {\r\n        return this.get('captionsIndex');\r\n    },\r\n    getWidth() {\r\n        return this.get('containerWidth');\r\n    },\r\n    getHeight() {\r\n        return this.get('containerHeight');\r\n    },\r\n    getMute() {\r\n        return this.get('mute');\r\n    },\r\n    getProvider() {\r\n        return this.get('provider');\r\n    },\r\n    getState() {\r\n        return this.get('state');\r\n    },\r\n\r\n    // These methods require a provider\r\n    getAudioTracks() {\r\n        return null;\r\n    },\r\n    getCaptionsList() {\r\n        return null;\r\n    },\r\n    getQualityLevels() {\r\n        return null;\r\n    },\r\n    getVisualQuality() {\r\n        return null;\r\n    },\r\n    getCurrentQuality() {\r\n        return -1;\r\n    },\r\n    getCurrentAudioTrack() {\r\n        return -1;\r\n    },\r\n\r\n    // These methods require the view\r\n    getSafeRegion(/* excludeControlbar */) {\r\n        return {\r\n            x: 0,\r\n            y: 0,\r\n            width: 0,\r\n            height: 0\r\n        };\r\n    },\r\n\r\n    // Ads specific\r\n    isBeforeComplete() {\r\n        return false;\r\n    },\r\n    isBeforePlay() {\r\n        return false;\r\n    },\r\n    createInstream() {\r\n        return null;\r\n    },\r\n    skipAd() {},\r\n    attachMedia() {},\r\n    detachMedia() {\r\n        return null; // video tag;\r\n    }\r\n});\r\n\r\nfunction setupError(core, error) {\r\n    resolved.then(() => {\r\n        const { message, code } = error;\r\n        const errorContainer = ErrorContainer(core, message);\r\n        if (ErrorContainer.cloneIcon) {\r\n            errorContainer.querySelector('.jw-icon').appendChild(ErrorContainer.cloneIcon('error'));\r\n        }\r\n        showView(core, errorContainer);\r\n\r\n        const errorEvent = { message, code, error };\r\n        const model = core._model || core.modelShim;\r\n        model.set('errorEvent', errorEvent);\r\n        model.set('state', STATE_ERROR);\r\n\r\n        core.trigger(SETUP_ERROR, errorEvent);\r\n    });\r\n}\r\n\r\nexport function showView(core, viewElement) {\r\n    if (!document.body.contains(core.currentContainer)) {\r\n        // This implies the player was removed from the DOM before setup completed\r\n        //   or a player has been \"re\" setup after being removed from the DOM\r\n        const newContainer = document.getElementById(core.get('id'));\r\n        if (newContainer) {\r\n            core.currentContainer = newContainer;\r\n        }\r\n    }\r\n\r\n    if (core.currentContainer.parentElement) {\r\n        core.currentContainer.parentElement.replaceChild(viewElement, core.currentContainer);\r\n    }\r\n    core.currentContainer = viewElement;\r\n}\r\n\r\nexport default CoreShim;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/api/core-shim.js","\r\nexport default function ApiQueueDecorator(instance, queuedCommands, predicate) {\r\n    const commandQueue = [];\r\n    const undecoratedMethods = {};\r\n\r\n    queuedCommands.forEach((command) => {\r\n        const method = instance[command];\r\n        undecoratedMethods[command] = method;\r\n\r\n        instance[command] = function() {\r\n            const args = Array.prototype.slice.call(arguments, 0);\r\n\r\n            if (predicate()) {\r\n                commandQueue.push({ command, args });\r\n            } else {\r\n                executeQueuedCommands();\r\n                if (method) {\r\n                    method.apply(this, args);\r\n                }\r\n            }\r\n        };\r\n    });\r\n\r\n    function executeQueuedCommands() {\r\n        while (commandQueue.length > 0) {\r\n            const { command, args } = commandQueue.shift();\r\n            (undecoratedMethods[command] || instance[command]).apply(instance, args);\r\n        }\r\n    }\r\n\r\n    Object.defineProperty(this, 'queue', {\r\n        enumerable: true,\r\n        get: function() {\r\n            return commandQueue;\r\n        }\r\n    });\r\n\r\n    this.flush = executeQueuedCommands;\r\n\r\n    this.empty = function() {\r\n        commandQueue.length = 0;\r\n    };\r\n\r\n    this.destroy = function() {\r\n        commandQueue.forEach(({ command }) => {\r\n            const method = undecoratedMethods[command];\r\n            if (method) {\r\n                instance[command] = method;\r\n                delete undecoratedMethods[command];\r\n            }\r\n        });\r\n        this.empty();\r\n    };\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/api/api-queue.js","import { chunkLoadErrorHandler } from '../api/core-loader';\r\n\r\nlet controlsPromise = null;\r\n\r\nexport const module = {};\r\n\r\nexport function load() {\r\n    if (!controlsPromise) {\r\n        controlsPromise = require.ensure(['view/controls/controls'], function (require) {\r\n            const ControlsModule = require('view/controls/controls').default;\r\n            module.controls = ControlsModule;\r\n            return ControlsModule;\r\n        }, function() {\r\n            controlsPromise = null;\r\n            chunkLoadErrorHandler();\r\n        }, 'jwplayer.controls');\r\n    }\r\n    return controlsPromise;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/controller/controls-loader.js","import { PLAYLIST_LOADED, ERROR } from 'events/events';\r\nimport { localName } from 'parsers/parsers';\r\nimport parseRss from 'parsers/rssparser';\r\nimport utils from 'utils/helpers';\r\nimport Events from 'utils/backbone.events';\r\n\r\nconst PlaylistLoader = function() {\r\n    var _this = Object.assign(this, Events);\r\n\r\n    this.load = function(playlistfile) {\r\n        utils.ajax(playlistfile, playlistLoaded, playlistError);\r\n    };\r\n\r\n    this.destroy = function() {\r\n        this.off();\r\n    };\r\n\r\n    function playlistLoaded(loadedEvent) {\r\n        try {\r\n            var childNodes = loadedEvent.responseXML ? loadedEvent.responseXML.childNodes : null;\r\n            var rss = '';\r\n            var jsonObj;\r\n            if (childNodes) {\r\n                for (var i = 0; i < childNodes.length; i++) {\r\n                    rss = childNodes[i];\r\n                    // 8: Node.COMMENT_NODE (IE8 doesn't have the Node.COMMENT_NODE constant)\r\n                    if (rss.nodeType !== 8) {\r\n                        break;\r\n                    }\r\n                }\r\n                if (localName(rss) === 'xml') {\r\n                    rss = rss.nextSibling;\r\n                }\r\n                if (localName(rss) === 'rss') {\r\n                    var rssPlaylist = parseRss(rss);\r\n                    jsonObj = Object.assign({ playlist: rssPlaylist }, rssPlaylist.feedData);\r\n                }\r\n            }\r\n\r\n            // If the response is not valid RSS, check if it is JSON\r\n            if (!jsonObj) {\r\n                try {\r\n                    var pl = JSON.parse(loadedEvent.responseText);\r\n                    // If the response is not a JSON array, try to read playlist of the response\r\n                    if (Array.isArray(pl)) {\r\n                        jsonObj = { playlist: pl };\r\n                    } else if (Array.isArray(pl.playlist)) {\r\n                        jsonObj = pl;\r\n                    } else {\r\n                        throw Error;\r\n                    }\r\n                } catch (e) {\r\n                    throw new Error('Not a valid RSS/JSON feed');\r\n                }\r\n            }\r\n\r\n            _this.trigger(PLAYLIST_LOADED, jsonObj);\r\n        } catch (error) {\r\n            playlistError(error.message);\r\n        }\r\n    }\r\n\r\n    function playlistError(msg) {\r\n        _this.trigger(ERROR, {\r\n            message: msg ? msg : 'Error loading file'\r\n        });\r\n    }\r\n};\r\n\r\nexport default PlaylistLoader;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/playlist/loader.js","import Events from 'utils/backbone.events';\r\n\r\nconst SimpleModel = {\r\n    on: Events.on,\r\n    once: Events.once,\r\n    off: Events.off,\r\n    trigger: Events.trigger,\r\n    get(attr) {\r\n        this.attributes = this.attributes || {};\r\n        return this.attributes[attr];\r\n    },\r\n    set(attr, val) {\r\n        this.attributes = this.attributes || {};\r\n\r\n        if (this.attributes[attr] === val) {\r\n            return;\r\n        }\r\n        const oldVal = this.attributes[attr];\r\n        this.attributes[attr] = val;\r\n        this.trigger('change:' + attr, this, val, oldVal);\r\n    },\r\n    clone() {\r\n        const cloned = {};\r\n        const attributes = this.attributes;\r\n        if (attributes) {\r\n            /* eslint guard-for-in: 0 */\r\n            for (let prop in attributes) {\r\n                cloned[prop] = attributes[prop];\r\n            }\r\n        }\r\n        return cloned;\r\n    },\r\n    change(name, callback, context) {\r\n        // Register a change handler and immediately invoke the callback with the current value\r\n        this.on('change:' + name, callback, context);\r\n        const currentVal = this.get(name);\r\n        callback.call(context, this, currentVal, currentVal);\r\n        return this;\r\n    }\r\n};\r\n\r\nexport default SimpleModel;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/model/simplemodel.js","import { STATE_IDLE } from 'events/events';\r\n\r\nexport const INITIAL_PLAYER_STATE = {\r\n    // always start on first playlist item\r\n    item: 0,\r\n    itemMeta: {},\r\n    playlistItem: undefined,\r\n    // Initial state, upon setup\r\n    state: STATE_IDLE,\r\n    // Initially we don't assume Flash is needed\r\n    flashBlocked: false,\r\n    provider: undefined,\r\n    duration: 0,\r\n    position: 0,\r\n    buffer: 0\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/model/player-model.js","export default function getMediaElement(parent) {\r\n    // Find video tag, or create it if it doesn't exist.  View may not be built yet.\r\n    let media = null;\r\n    if (parent) {\r\n        media = parent.querySelector('video, audio');\r\n    }\r\n    if (!media) {\r\n        media = document.createElement('video');\r\n    }\r\n    media.className = 'jw-video jw-reset';\r\n    return media;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/api/get-media-element.js","import { OS, Browser } from 'environment/environment';\r\n\r\nexport function isAndroidHls(source) {\r\n    if (source.type === 'hls' && OS.android) {\r\n        if (source.androidhls === false) {\r\n            return false;\r\n        }\r\n\r\n        // Allow Android hls playback on versions 4.1 and above, excluding Firefox (which does not support HLS in any version)\r\n        return !Browser.firefox && parseFloat(OS.version.version) >= 4.4;\r\n    }\r\n    return null;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/providers/html5-android-hls.js","import { PLAYER_STATE, MEDIA_TYPE } from 'events/events';\r\n\r\nconst noop = function() {};\r\nconst returnFalse = (() => false);\r\n\r\n/** Audio Track information for tracks returned by {@link Api#getAudioTracks jwplayer().getAudioTracks()}\r\n * @typedef {object} AudioTrackOption\r\n * @property autoselect\r\n * @property defaulttrack\r\n * @property groupid\r\n * @property {string} language\r\n * @property {string} name\r\n */\r\n\r\n/**\r\n * @typedef {option} QualityOption\r\n * @property {string} label\r\n * @property {number} [width]\r\n * @property {number} [height]\r\n * @property {number} [bitrate]\r\n */\r\n\r\nconst DefaultProvider = {\r\n    // This function is required to determine if a provider can work on a given source\r\n    supports: returnFalse,\r\n\r\n    // Basic playback features\r\n    play: noop,\r\n    preload: noop,\r\n    load: noop,\r\n    stop: noop,\r\n    volume: noop,\r\n    mute: noop,\r\n    seek: noop,\r\n    resize: noop,\r\n    remove: noop, // removes from page\r\n    destroy: noop, // frees memory\r\n\r\n    setVisibility: noop,\r\n    setFullscreen: returnFalse,\r\n    getFullscreen: noop,\r\n\r\n    // If setContainer has been set, this returns the element.\r\n    //  It's value is used to determine if we should remove the <video> element when setting a new provider.\r\n    getContainer: noop,\r\n\r\n    // Sets the parent element, causing provider to append <video> into it\r\n    setContainer: returnFalse,\r\n\r\n    getName: noop,\r\n\r\n    getQualityLevels: noop,\r\n    getCurrentQuality: noop,\r\n    setCurrentQuality: noop,\r\n\r\n    getAudioTracks: noop,\r\n\r\n    getCurrentAudioTrack: noop,\r\n    setCurrentAudioTrack: noop,\r\n\r\n    setPlaybackRate: noop,\r\n    getPlaybackRate: function() {\r\n        return 1;\r\n    },\r\n\r\n    // TODO :: The following are targets for removal after refactoring\r\n    checkComplete: noop,\r\n    setControls: noop,\r\n    attachMedia: noop,\r\n    detachMedia: noop,\r\n    init: noop,\r\n\r\n    setState: function(state) {\r\n        this.state = state;\r\n\r\n        this.trigger(PLAYER_STATE, {\r\n            newstate: state\r\n        });\r\n    },\r\n\r\n    sendMediaType: function(levels) {\r\n        var type = levels[0].type;\r\n        var isAudioFile = (type === 'oga' || type === 'aac' || type === 'mp3' ||\r\n            type === 'mpeg' || type === 'vorbis');\r\n\r\n        this.trigger(MEDIA_TYPE, {\r\n            mediaType: isAudioFile ? 'audio' : 'video'\r\n        });\r\n    }\r\n};\r\n\r\nexport default DefaultProvider;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/providers/default.js","import { loadFrom } from './utils/playerutils';\r\nimport instances from './api/players';\r\nimport GlobalApi from 'api/global-api';\r\nimport { version } from './version';\r\nimport Api from 'api/api';\r\nimport ApiSettings from 'api/api-settings';\r\n\r\n/* global __webpack_public_path__:true*/\r\n/* eslint camelcase: 0 */\r\n__webpack_public_path__ = loadFrom();\r\n\r\n/**\r\n * Return an instance of {@link Api the JW Player API} matching an element on the page or an existing player.\r\n * @global\r\n * @param {string|number|HTMLElement} [query] - This can be an element id, player index or DOM element.\r\n * When left out, this method attempts to return the first available player.\r\n * @returns {Api|object} - Returns a player instance if one matches the provided query.\r\n * Otherwise, returns an object containing the `registerPlugin` method.\r\n */\r\nconst jwplayer = function(query) {\r\n    let player;\r\n    let domElement;\r\n\r\n    // prioritize getting a player over querying an element\r\n    if (!query) {\r\n        player = instances[0];\r\n    } else if (typeof query === 'string') {\r\n        player = playerById(query);\r\n        if (!player) {\r\n            domElement = document.getElementById(query);\r\n        }\r\n    } else if (typeof query === 'number') {\r\n        player = instances[query];\r\n    } else if (query.nodeType) {\r\n        domElement = query;\r\n        player = playerById(domElement.id);\r\n    }\r\n    // found player\r\n    if (player) {\r\n        return player;\r\n    }\r\n    // create player\r\n    if (domElement) {\r\n        const api = new Api(domElement);\r\n        instances.push(api);\r\n        return api;\r\n    }\r\n    // invalid query\r\n    return {\r\n        registerPlugin: GlobalApi.registerPlugin\r\n    };\r\n};\r\n\r\nfunction playerById(id) {\r\n    for (let p = 0; p < instances.length; p++) {\r\n        if (instances[p].id === id) {\r\n            return instances[p];\r\n        }\r\n    }\r\n    return null;\r\n}\r\n\r\nObject.defineProperties(jwplayer, {\r\n    api: {\r\n        get() {\r\n            return GlobalApi;\r\n        },\r\n        set() {}\r\n    },\r\n    version: {\r\n        get() {\r\n            return version;\r\n        },\r\n        set() {}\r\n    },\r\n    debug: {\r\n        get() {\r\n            return ApiSettings.debug;\r\n        },\r\n        set(value) {\r\n            ApiSettings.debug = !!value;\r\n        }\r\n    }\r\n});\r\n\r\nexport default jwplayer;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/jwplayer.js","import availableProviders from 'providers/providers-supported';\r\nimport registerProvider from 'providers/providers-register';\r\n\r\nexport default {\r\n    availableProviders,\r\n    registerProvider\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/api/global-api.js","export function browserVersion(browserEnvironment, agent) {\r\n    let version;\r\n    let major;\r\n    let minor;\r\n    let ix;\r\n\r\n    if (browserEnvironment.chrome) {\r\n        // A Chrome UA either contains \"Chrome\" (desktop/android) or \"CriOS\" (iOS)\r\n        if (agent.indexOf('Chrome') !== -1) {\r\n            version = agent.substring(agent.indexOf('Chrome') + 7);\r\n        } else {\r\n            version = agent.substring(agent.indexOf('CriOS') + 6);\r\n        }\r\n    } else if (browserEnvironment.safari) {\r\n        // Safari sets its version after the \"Version\" string in the agent\r\n        version = agent.substring(agent.indexOf('Version') + 8);\r\n    } else if (browserEnvironment.firefox) {\r\n        version = agent.substring(agent.indexOf('Firefox') + 8);\r\n    } else if (browserEnvironment.edge) {\r\n        version = agent.substring(agent.indexOf('Edge') + 5);\r\n    } else if (browserEnvironment.ie) {\r\n        // Older versions of IE use MSIE; IE11 uses rv:\r\n        if (agent.indexOf('rv:') !== -1) {\r\n            version = agent.substring(agent.indexOf('rv:') + 3);\r\n        } else if (agent.indexOf('MSIE') !== -1) {\r\n            version = agent.substring(agent.indexOf('MSIE') + 5);\r\n        }\r\n    }\r\n\r\n    if (version) {\r\n        // trim the version string\r\n        if ((ix = version.indexOf(';')) !== -1) {\r\n            version = version.substring(0, ix);\r\n        }\r\n        if ((ix = version.indexOf(' ')) !== -1) {\r\n            version = version.substring(0, ix);\r\n        }\r\n        if ((ix = version.indexOf(')')) !== -1) {\r\n            version = version.substring(0, ix);\r\n        }\r\n\r\n        major = parseInt(version, 10);\r\n        // Versions will always be in the d.d.d format\r\n        minor = parseInt(version.split('.')[1], 10);\r\n    }\r\n\r\n    // Allow undefined to represent unknown agents\r\n    return {\r\n        version,\r\n        major,\r\n        minor\r\n    };\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/environment/browser-version.js","function execResult(array, index) {\r\n    if (array && array.length > index) {\r\n        return array[index];\r\n    }\r\n}\r\n\r\nexport function osVersion(osEnvironment, agent) {\r\n    let version;\r\n    let major;\r\n    let minor;\r\n\r\n    if (osEnvironment.windows) {\r\n        version = execResult(/Windows(?: NT|)? ([._\\d]+)/.exec(agent), 1);\r\n        // Map the Windows NT version to the canonical Windows version\r\n        switch (version) {\r\n            case '6.1':\r\n                version = '7.0';\r\n                break;\r\n            case '6.2':\r\n                version = '8.0';\r\n                break;\r\n            case '6.3':\r\n                version = '8.1';\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    } else if (osEnvironment.android) {\r\n        version = execResult(/Android ([._\\d]+)/.exec(agent), 1);\r\n    } else if (osEnvironment.iOS) {\r\n        version = execResult(/OS ([._\\d]+)/.exec(agent), 1);\r\n    } else if (osEnvironment.mac) {\r\n        version = execResult(/Mac OS X (10[._\\d]+)/.exec(agent), 1);\r\n    }\r\n\r\n    if (version) {\r\n        major = parseInt(version, 10);\r\n        // Versions may be in the d.d.d or d_d_d format\r\n        const versionNumbers = version.split(/[._]/);\r\n        if (versionNumbers) {\r\n            minor = parseInt(versionNumbers[1], 10);\r\n        }\r\n    }\r\n\r\n    // Allow undefined to represent unknown agents\r\n    return {\r\n        version,\r\n        major,\r\n        minor\r\n    };\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/environment/os-version.js","const video = document.createElement('video');\r\nexport default video;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/video.js","import ApiSettings from 'api/api-settings';\r\nimport * as Environment from 'environment/environment';\r\nimport instances from './players';\r\nimport Core from './core-shim';\r\nimport { version } from '../version';\r\nimport { STATE_PLAYING, STATE_BUFFERING, READY } from 'events/events';\r\nimport Timer from 'api/timer';\r\nimport Events, { on, once, off, trigger, triggerSafe } from 'utils/backbone.events';\r\nimport { registerPlugin } from 'plugins/plugins';\r\nimport utils from 'utils/helpers';\r\nimport _ from 'utils/underscore';\r\n\r\nlet instancesCreated = 0;\r\n\r\n/**\r\n * Factory method which creates controllers before calling `jwplayer().setup()`.\r\n * @param {Api} api\r\n * @param {HTMLElement} element\r\n */\r\nfunction coreFactory(api, element) {\r\n    const core = new Core(element);\r\n\r\n    // capture the ready event and add setup time to it\r\n    core.on(READY, (event) => {\r\n        api._qoe.tick('ready');\r\n        event.setupTime = api._qoe.between('setup', 'ready');\r\n    });\r\n    core.on('all', (type, event) => {\r\n        api.trigger(type, event);\r\n    });\r\n\r\n    return core;\r\n}\r\n\r\n/**\r\n * Detaches Api event listeners and destroys the controller.\r\n * @param {Api} api\r\n * @param {Core} core\r\n */\r\nfunction resetPlayer(api, core) {\r\n    api.off();\r\n    core.playerDestroy();\r\n}\r\n\r\n/**\r\n * Removes the Api instance from the list of active players.\r\n * The instance will no longer be queryable via `jwplayer()`\r\n * @param {Api} api\r\n */\r\nfunction removePlayer(api) {\r\n    for (let i = instances.length; i--;) {\r\n        if (instances[i].uniqueId === api.uniqueId) {\r\n            instances.splice(i, 1);\r\n            break;\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * Class representing the jwplayer() API.\r\n * Creates an instance of the player.\r\n * @class Api\r\n * @param {HTMLElement} element - The element that will be replaced by the player's div container.\r\n */\r\nexport default function Api(element) {\r\n    // Add read-only properties which access privately scoped data\r\n\r\n    // `uniqueId` should start at 1\r\n    const uniqueId = ++instancesCreated;\r\n    const playerId = element.id;\r\n    const qoeTimer = new Timer();\r\n    const pluginsMap = {};\r\n\r\n    let core = coreFactory(this, element);\r\n\r\n    qoeTimer.tick('init');\r\n\r\n    Object.defineProperties(this, /** @lends Api.prototype */ {\r\n        /**\r\n         * The player's query id.\r\n         * This matches the id of the element used to create the player at the time is was setup.\r\n         * @type string\r\n         * @readonly\r\n         */\r\n        id: {\r\n            get() {\r\n                return playerId;\r\n            }\r\n        },\r\n        /**\r\n         * The player's unique id.\r\n         * @type number\r\n         * @readonly\r\n         */\r\n        uniqueId: {\r\n            get() {\r\n                return uniqueId;\r\n            }\r\n        },\r\n        /**\r\n         * A map of plugin instances.\r\n         * @type object\r\n         * @readonly\r\n         */\r\n        plugins: {\r\n            get() {\r\n                return pluginsMap;\r\n            }\r\n        },\r\n        /**\r\n         * The internal QoE Timer.\r\n         * @type Timer\r\n         * @readonly\r\n         */\r\n        _qoe: {\r\n            get() {\r\n                return qoeTimer;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @return {string} The player API version.\r\n         * @type string\r\n         * @readonly\r\n         */\r\n        version: {\r\n            get() {\r\n                return version;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Returns the Events module from the player instance.\r\n         * Used by plugins to listen to player events.\r\n         * @deprecated TODO: in version 8.0.0-0\r\n         * @readonly\r\n         */\r\n        Events: {\r\n            get() {\r\n                return Events;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Returns the Utils module from the player instance.\r\n         * Used by plugins.\r\n         * @deprecated TODO: in version 8.0.0-0\r\n         * @readonly\r\n         */\r\n        utils: {\r\n            get() {\r\n                return utils;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Returns the Underscore module from the player instance.\r\n         * Used by plugins.\r\n         * @deprecated TODO: in version 8.0.0-0\r\n         * @readonly\r\n         */\r\n        _: {\r\n            get() {\r\n                return _;\r\n            }\r\n        },\r\n\r\n    });\r\n\r\n    Object.assign(this, /** @lends Api.prototype */ {\r\n        /**\r\n         * A map of event listeners.\r\n         * @type object\r\n         * @readonly\r\n         */\r\n        _events: {},\r\n\r\n        /**\r\n         * Creates a new player on the page and asynchronously begins setup.\r\n         * A \"ready\" event is triggered on success.\r\n         * A \"setupError\" event is triggered on failure.\r\n         * @param {object} options - The player configuration options.\r\n         * @returns {Api}\r\n         */\r\n        setup(options) {\r\n            qoeTimer.clear('ready');\r\n            qoeTimer.tick('setup');\r\n\r\n            resetPlayer(this, core);\r\n            core = coreFactory(this, element);\r\n\r\n            options.id = playerId;\r\n\r\n            core.init(options, this);\r\n\r\n            // bind event listeners passed in to the config\r\n            return this.on(options.events, null, this);\r\n        },\r\n\r\n        /** Asynchronously removes the player from the page.\r\n         * A \"remove\" event is fired once removal begins.\r\n         * Playback is stopped, and the DOM used by the player is reset.\r\n         * All event listeners attached to the player are removed.\r\n         * @returns {Api}\r\n         */\r\n        remove() {\r\n            // Remove from array of players\r\n            removePlayer(this);\r\n\r\n            // TODO: [EDIT] This should be fired after `resetPlayer`. Why is it fired before?\r\n            // terminate state\r\n            this.trigger('remove');\r\n\r\n            // Unbind listeners and destroy controller/model/...\r\n            resetPlayer(this, core);\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Gets the QoE properties of the player and current playlist item.\r\n         * @returns {PlayerQoE}\r\n         */\r\n        qoe() {\r\n            const qoeItem = core.getItemQoe();\r\n\r\n            const setupTime = this._qoe.between('setup', 'ready');\r\n            const firstFrame = qoeItem.getFirstFrame ? qoeItem.getFirstFrame() : null;\r\n\r\n            /** Player QoE returned from {@link Api#qoe jwplayer().qoe()}\r\n             * @typedef {object} PlayerQoE\r\n             * @property {number} setupTime - The number of milliseconds from `jwplayer().setup()` to the \"ready\" event.\r\n             * @property {number} firstFrame - The number of milliseconds from the \"playAttempt\" event to the \"firstFrame\" event.\r\n             * @property {TimerMetrics} player - The QoE metrics of the player.\r\n             * @property {TimerMetrics} item - The QoE metrics of the current playlist item.\r\n             */\r\n            // {setupTime: number, firstFrame: number, player: object, item: object}\r\n            return {\r\n                setupTime: setupTime,\r\n                firstFrame: firstFrame,\r\n                player: this._qoe.dump(),\r\n                item: qoeItem.dump()\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Gets the list of available audio tracks.\r\n         * @returns {Array.<AudioTrackOption>}\r\n         */\r\n        getAudioTracks() {\r\n            return core.getAudioTracks();\r\n        },\r\n\r\n        /**\r\n         * Gets the percentage of the media's duration which has been buffered.\r\n         * @returns {number} A number from 0-100 indicating the percentage of media buffered.\r\n         */\r\n        getBuffer() {\r\n            return core.get('buffer');\r\n        },\r\n\r\n        /**\r\n         * Gets the captions style.\r\n         * @returns {object}\r\n         */\r\n        getCaptions() {\r\n            return core.get('captions');\r\n        },\r\n\r\n        // defined in controller/captions\r\n        /**\r\n         * Captions Track information for tracks returned by {@link Api#getCaptionsList jwplayer().getCaptionsList()}\r\n         * @typedef {object} CaptionsTrackOption\r\n         * @property {string} id\r\n         * @property {string} label\r\n         */\r\n\r\n        /**\r\n         * Gets the list of available captions tracks.\r\n         * The first item in the array will always be the \"off\" option, regardless of whether the media contains captions.\r\n         * @returns {Array.<CaptionsTrackOption>}\r\n         */\r\n        getCaptionsList() {\r\n            return core.getCaptionsList();\r\n        },\r\n\r\n        /**\r\n         * Gets a static representation of the player's model.\r\n         * @returns {object}\r\n         */\r\n        getConfig() {\r\n            return core.getConfig();\r\n        },\r\n\r\n        /**\r\n         * Gets the player's top level DOM element.\r\n         * @returns {HTMLElement}\r\n         */\r\n        getContainer() {\r\n            return core.getContainer();\r\n        },\r\n\r\n        /**\r\n         * Gets whether or not controls are enabled.\r\n         * @returns {boolean}\r\n         */\r\n        getControls() {\r\n            return core.get('controls');\r\n        },\r\n\r\n        /**\r\n         * Gets the index of the active audio track.\r\n         * @returns {number} The index of the active audio track, or -1 if there are no alternative audio tracks.\r\n         */\r\n        getCurrentAudioTrack() {\r\n            return core.getCurrentAudioTrack();\r\n        },\r\n\r\n        /**\r\n         * Gets the index of the active captions selection.\r\n         * @returns {number} The index of the active selection option, or 0 if captions are off.\r\n         */\r\n        getCurrentCaptions() {\r\n            return core.getCurrentCaptions();\r\n        },\r\n\r\n        /**\r\n         * Gets the index of the active quality selection.\r\n         * @returns {number}\r\n         */\r\n        getCurrentQuality() {\r\n            return core.getCurrentQuality();\r\n        },\r\n\r\n        /**\r\n         * Gets the duration of the current playlist item.\r\n         * @returns {number} The duration in seconds.\r\n         * Live streams always return `Infinity`.\r\n         * DVR streams return a negative value, indicating how far back playback is from the live edge.\r\n         */\r\n        getDuration() {\r\n            return core.get('duration');\r\n        },\r\n\r\n        /**\r\n         * Environment information for the current session, return by {@link Api#getEnvironment jwplayer().getEnvironment()}\r\n         * @typedef {object} Environment\r\n         * @property {BrowserEnvironment} Browser - Information about the current session's browser.\r\n         * @property {OSEnvironment} OS - Information about the current session's operating system.\r\n         * @property {FeatureEnvironment} Features - Information about the current sessions's supported features.\r\n         */\r\n\r\n        /**\r\n         * Gets information about the current session's environment\r\n         * @returns {Environment} An object detailing the current session's browser, operating system, and supported features.\r\n         */\r\n        getEnvironment() {\r\n            return Environment;\r\n        },\r\n\r\n        /**\r\n         * Gets the player's fullscreen state.\r\n         * @returns {boolean} Whether or not the player is in fullscreen mode.\r\n         */\r\n        getFullscreen() {\r\n            return core.get('fullscreen');\r\n        },\r\n\r\n        /**\r\n         * Gets the player's height.\r\n         * @returns {number} The height of the player in pixels.\r\n         */\r\n        getHeight() {\r\n            return core.getHeight();\r\n        },\r\n\r\n        /**\r\n         * Gets all metadata for the current playlist item.\r\n         * @returns {object}\r\n         */\r\n        getItemMeta() {\r\n            return core.get('itemMeta') || {};\r\n        },\r\n\r\n        /**\r\n         * Gets the player's mute state.\r\n         * @returns {boolean} Whether or not the player is muted.\r\n         */\r\n        getMute() {\r\n            return core.getMute();\r\n        },\r\n\r\n        /**\r\n         * Gets the rate at which playback should occur while media is playing.\r\n         * @default 1.0\r\n         * @returns {number} The playback rate of the media element (`HTMLMediaElement.playbackRate`).\r\n         * @since v7.12.0\r\n         */\r\n        getPlaybackRate() {\r\n            return core.get('playbackRate');\r\n        },\r\n\r\n        /**\r\n         * Gets the player's playlist.\r\n         * @returns {Array.<PlaylistItem>}\r\n         */\r\n        getPlaylist() {\r\n            return core.get('playlist');\r\n        },\r\n\r\n        /**\r\n         * Gets the index of the current playlist item.\r\n         * @returns {number}\r\n         */\r\n        getPlaylistIndex() {\r\n            return core.get('item');\r\n        },\r\n\r\n        /**\r\n         * Gets the current playlist item, or the item specified by `index`.\r\n         * @param {number} [index] A 0-based index of the desired playlist item.\r\n         * @returns {PlaylistItem|null} Returns `null` when `index` is out of range.\r\n         */\r\n        getPlaylistItem(index) {\r\n            if (!utils.exists(index)) {\r\n                return core.get('playlistItem');\r\n            }\r\n            const playlist = this.getPlaylist();\r\n            if (playlist) {\r\n                return playlist[index];\r\n            }\r\n            return null;\r\n        },\r\n\r\n        /**\r\n         * Gets the current playback time of the active media item.\r\n         * @returns {number} The current playback time in seconds.\r\n         * Live streams return the number of seconds played relative to when playback started (not since the live stream started).\r\n         * DVR streams return a negative value, indicating how far playback is from the live edge.\r\n         */\r\n        getPosition() {\r\n            return core.get('position');\r\n        },\r\n\r\n        /**\r\n         * @typedef {object} ProviderInfo\r\n         * @property {string} name - The name of the Provider handling playback.\r\n         */\r\n\r\n        /**\r\n         * Gets information about how the player is handling playback.\r\n         * @returns {ProviderInfo}\r\n         */\r\n        getProvider() {\r\n            return core.getProvider();\r\n        },\r\n\r\n        /**\r\n         * Gets the list of available quality options.\r\n         * @returns {Array.<QualityOption>}\r\n         */\r\n        getQualityLevels() {\r\n            return core.getQualityLevels();\r\n        },\r\n\r\n        /**\r\n         * @typedef {object} SafeRegion\r\n         * @property {number} x - The position in pixels from the left of the player, not covered by controls.\r\n         * @property {number} y -  The position in pixels from the top of the player, not covered by controls.\r\n         * @property {number} width - The width of the safe region.\r\n         * @property {number} height - The height of the safe region.\r\n         */\r\n\r\n        /**\r\n         * Gets the area of the player not obscured by controls.\r\n         * @param {boolean} [excludeControlbar=true] When set to false, the safe region will not exclude\r\n         * the area used by the controlbar.\r\n         * @returns {SafeRegion}\r\n         */\r\n        getSafeRegion(excludeControlbar = true) {\r\n            return core.getSafeRegion(excludeControlbar);\r\n        },\r\n\r\n        /**\r\n         * Gets the player state.\r\n         * @returns {'idle'|'buffering'|'playing'|'paused'|'complete'} The current state of the player.\r\n         */\r\n        getState() {\r\n            return core.getState();\r\n        },\r\n\r\n        /** Gets the mode of stretching used to fit media in the player.\r\n         * @returns {'uniform'|'exactfit'|'fill'|'none'}\r\n         */\r\n        getStretching() {\r\n            return core.get('stretching');\r\n        },\r\n\r\n        /**\r\n         * Gets the player's viewability.\r\n         * @returns {1|0} Returns `1` when more than half the player is in the document viewport and the page's tab is active.\r\n         * Also returns `1` when the player is in fullscreen mode. `0` otherwise.\r\n         * @since v7.10.0\r\n         */\r\n        getViewable() {\r\n            return core.get('viewable');\r\n        },\r\n\r\n        /**\r\n         * @typedef {object} VisualQuality\r\n         * @property {QualityOption} level - The quality option associated with the active visual quality.\r\n         * @property {'auto'|'manual'} mode - Whether the quality was selected automatically (adaptive quality switch) or manually.\r\n         * @property {string|'initial choice'|'auto'|'api'} reason - The reason for the quality change.\r\n         * @property {number} [bitrate] - The bitrate of the the active visual quality.\r\n         */\r\n\r\n        /**\r\n         * Gets information about the visual quality of the active media.\r\n         * @returns {VisualQuality}\r\n         */\r\n        getVisualQuality() {\r\n            return core.getVisualQuality();\r\n        },\r\n\r\n        /**\r\n         * Gets the player's volume level.\r\n         * @returns {number} A number from 0-100.\r\n         */\r\n        getVolume() {\r\n            return core.get('volume');\r\n        },\r\n\r\n        /**\r\n         * Gets the player's width.\r\n         * @returns {number} The width of the player in pixels.\r\n         */\r\n        getWidth() {\r\n            return core.getWidth();\r\n        },\r\n\r\n        /**\r\n         * Sets captions styles.\r\n         * @param {object} captionsStyles\r\n         * @returns {Api}\r\n         * @since v7.5.0\r\n         */\r\n        setCaptions(captionsStyles) {\r\n            core.setCaptions(captionsStyles);\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Updates the player's config options.\r\n         * @param options\r\n         * @returns {Api}\r\n         * @since v7.12.0\r\n         */\r\n        setConfig(options) {\r\n            core.setConfig(options);\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Toggles player controls.\r\n         * @param {boolean} [toggle] - Specifies whether controls should be enabled or disabled.\r\n         * @returns {Api}\r\n         */\r\n        setControls(toggle) {\r\n            core.setControls(toggle);\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Sets the active audio track.\r\n         * @param {number} index\r\n         */\r\n        setCurrentAudioTrack(index) {\r\n            core.setCurrentAudioTrack(index);\r\n            // TODO: return this;\r\n        },\r\n\r\n        /**\r\n         * Sets the active captions option.\r\n         * @param {number} index\r\n         */\r\n        setCurrentCaptions(index) {\r\n            core.setCurrentCaptions(index);\r\n            // TODO: return this;\r\n        },\r\n\r\n        /**\r\n         * Sets the active quality option.\r\n         * @param {number} index\r\n         */\r\n        setCurrentQuality(index) {\r\n            core.setCurrentQuality(index);\r\n            // TODO: return this;\r\n        },\r\n\r\n        /**\r\n         * Toggles fullscreen state. Most browsers require a user gesture to trigger entering fullscreen mode.\r\n         * @param {boolean} [toggle] - Specifies whether to enter or exit fullscreen mode.\r\n         * @returns {Api}\r\n         */\r\n        setFullscreen(toggle) {\r\n            core.setFullscreen(toggle);\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Toggles the player's mute state.\r\n         * @param {boolean} [toggle] - Specifies whether to mute or unmute the player.\r\n         * @returns {Api}\r\n         */\r\n        setMute(toggle) {\r\n            core.setMute(toggle);\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Sets the player's default playeback rate. During playback, the rate of the current media will be set immediately if supported. Not supported when streaming live.\r\n         * @param {number} playbackRate - The desired rate of playback. Limited to numbers between 0.25-4.0.\r\n         * @returns {Api}\r\n         * @since v7.12.0\r\n         */\r\n        setPlaybackRate(playbackRate) {\r\n            core.setPlaybackRate(playbackRate);\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * @typedef {object} SliderCue\r\n         * @property {number} begin - The time at which the cue should be placed in seconds.\r\n         * @property {string} text - The text label of the cue.\r\n         */\r\n\r\n        /**\r\n         * Sets the list of cues to be displayed on the time slider.\r\n         * @param {Array.<SliderCue>} sliderCues - The list of cues.\r\n         * @returns {Api}\r\n         */\r\n        setCues(sliderCues) {\r\n            core.setCues(sliderCues);\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Set the player's volume level.\r\n         * @param {number} level - A value from 0-100.\r\n         * @returns {Api}\r\n         */\r\n        setVolume(level) {\r\n            core.setVolume(level);\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Stop any active playback, and loads either a new playlist, a new playlist item,\r\n         * or an item already in the current playlist.\r\n         * @param {string|Array.<PlaylistItem>|PlaylistItem|number} toLoad - The feed url, playlist,\r\n         * playlist item, or playlist item index to load.\r\n         * @param {object} [feedData] - The feed data to associate with playlist items.\r\n         * Only applied when passing in a playlist or playlist items.\r\n         * @returns {Api}\r\n         */\r\n        load(toLoad, feedData) {\r\n            core.load(toLoad, feedData);\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Starts playback.\r\n         * @param {object} [meta] - An optional argument used to specify cause.\r\n         * @return {Api}\r\n         */\r\n        play(meta) {\r\n            core.play(meta);\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Pauses playback.\r\n         * @param {object} [meta] - An optional argument used to specify cause.\r\n         * @return {Api}\r\n         */\r\n        pause(meta) {\r\n            core.pause(meta);\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Toggles playback between play and pause.\r\n         * @param {object} [meta] - An optional argument used to specify cause.\r\n         * @return {Api}\r\n         */\r\n\r\n        playToggle(meta) {\r\n            switch (this.getState()) {\r\n                case STATE_PLAYING:\r\n                case STATE_BUFFERING:\r\n                    this.pause(meta);\r\n                    break;\r\n                default:\r\n                    this.play(meta);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Seeks to a specific time within the active media. Resumes playback if the player is paused.\r\n         * @param {number} position - The time to seek to.\r\n         * @param [meta] - An optional argument used to specify cause.\r\n         * @returns {Api}\r\n         */\r\n        seek(position, meta) {\r\n            core.seek(position, meta);\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Stops any active playback, and plays the item at the 0-based index in the playlist.\r\n         * @param {number} index - If outside the range of the playlist,\r\n         * the value will be wrapped to the playlist length.\r\n         * @param [meta] - An optional argument used to specify cause.\r\n         * @returns {Api}\r\n         */\r\n        playlistItem(index, meta) {\r\n            core.playlistItem(index, meta);\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Stops any active playback, and plays the next item in the playlist.\r\n         * When the player is at the end of the playlist, this will play the first playlist item.\r\n         * @param [meta] - An optional argument used to specify cause.\r\n         * @returns {Api}\r\n         */\r\n        playlistNext(meta) {\r\n            core.playlistNext(meta);\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Stops any active playback, and plays the previous item in the playlist.\r\n         * When the player is at the beginning of the playlist, this will play the last playlist item.\r\n         * @param [meta] - An optional argument used to specify cause.\r\n         * @returns {Api}\r\n         */\r\n        playlistPrev(meta) {\r\n            core.playlistPrev(meta);\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Stops any active playback, and plays the next up item specified by the related plugin.\r\n         * The next up item is the next playlist item, or the first recommended video when at the end of the playlist.\r\n         * @returns {Api}\r\n         * @since v7.7.0\r\n         */\r\n        next() {\r\n            core.next();\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Toggles the presence of the Airplay button in Safari (calls `HTMLMediaElement.webkitShowPlaybackTargetPicker`).\r\n         * Does not affect the Chromecast button in Chrome.\r\n         * @returns {Api}\r\n         */\r\n        castToggle() {\r\n            core.castToggle();\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Creates a new instance of the instream adapter. If present, the previous instance created is destroyed first.\r\n         * @returns {InstreamAdapter}\r\n         */\r\n        createInstream() {\r\n            return core.createInstream();\r\n        },\r\n\r\n        /**\r\n         * Calls `skipAd` on the active instream adapter instance if present.\r\n         * @returns {Api}\r\n         */\r\n        skipAd() {\r\n            core.skipAd();\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Stops any active playback.\r\n         * @returns {Api}\r\n         */\r\n        stop() {\r\n            core.stop();\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Sets the player width and height.\r\n         * @param {number|string} width - Set the width in pixel (number) or CSS measurement units ('100%', '100em')\r\n         * @param {number|string} [height] - Set the height in pixel (number) or CSS measurement units ('100%', '100em')\r\n         * When specified, the \"aspectratio\" option included at setup is cleared.\r\n         * @returns {Api}\r\n         */\r\n        resize(width, height) {\r\n            core.resize(width, height);\r\n            return this;\r\n        },\r\n\r\n        /** Adds or updates a button in the player's control bar. The button is only displayed when controls are active.\r\n         * @param {string} img - The image that will be used as the button icon.\r\n            Can be the url to an image or the content of an SVG in string.\r\n         * @param {string} tooltip - A tooltip label to display when the button is hovered.\r\n         * @param {function} callback - A callback to invoke when the button is clicked.\r\n         * @param {string} id - The id of the button to add or update.\r\n         * @param {string} [btnClass] - CSS classes to add to the button element.\r\n         * @returns {Api}\r\n         */\r\n        addButton(img, tooltip, callback, id, btnClass) {\r\n            core.addButton(img, tooltip, callback, id, btnClass);\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Removes a button from the player's control bar.\r\n         * @param {string} id - The id of the button to remove.\r\n         * @returns {Api}\r\n         */\r\n        removeButton(id) {\r\n            core.removeButton(id);\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Reattaches a player instance to it's underlying video tag.\r\n         * Used after ad breaks to record state changes and resume playback.\r\n         * @deprecated TODO: in version 8.0.0-0\r\n         */\r\n        attachMedia() {\r\n            core.attachMedia();\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Detaches a player instance from it's underlying video tag.\r\n         * Used to stop recording state changes before an ad break begins.\r\n         * @deprecated TODO: in version 8.0.0-0\r\n         */\r\n        detachMedia() {\r\n            core.detachMedia();\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Checks if the player has finished playing the current playlist item,\r\n         * but has not yet transitioned to the \"complete\" state or began the next item.\r\n         * This state is entered when playing postroll ads.\r\n         * @returns {boolean}\r\n         */\r\n        isBeforeComplete() {\r\n            return core.isBeforeComplete();\r\n        },\r\n\r\n        /**\r\n         * Checks if playback has been requested, but the player has not begun to play.\r\n         * This state is entered when playing preroll ads.\r\n         * @returns {boolean}\r\n         */\r\n        isBeforePlay() {\r\n            return core.isBeforePlay();\r\n        }\r\n    });\r\n}\r\n\r\nObject.assign(Api.prototype, /** @lends Api.prototype */ {\r\n\r\n    /**\r\n     * Adds an event listener.\r\n     * @param {string} name - The event name. Passing \"all\" will bind the callback to all events.\r\n     * @param {function} callback - The event callback.\r\n     * @param {any} [context] - The context to apply to the callback's function invocation.\r\n     * @return {Api}\r\n     */\r\n    on(name, callback, context) {\r\n        return on.call(this, name, callback, context);\r\n    },\r\n\r\n    /**\r\n     * Adds an event listener which is triggered at most once.\r\n     * The listener is removed after the first call.\r\n     * @param {string} name - The event name. Passing \"all\" will bind the callback to all events.\r\n     * @param {function} callback - The event callback.\r\n     * @param {any} [context] - The context to apply to the callback's function invocation.\r\n     * @return {Api}\r\n     */\r\n    once(name, callback, context) {\r\n        return once.call(this, name, callback, context);\r\n    },\r\n\r\n    /**\r\n     * Removes one or more callbacks.\r\n     * @param {string} [name] - The event name. If null, all bound callbacks for all events will be removed.\r\n     * @param {function} [callback] - If null, all callbacks for the event will be removed.\r\n     * @param {any} [context] - If null, all callbacks with that function will be removed.\r\n     * @return {Api}\r\n     */\r\n    off(name, callback, context) {\r\n        return off.call(this, name, callback, context);\r\n    },\r\n\r\n    /**\r\n     * Triggers one or more events.\r\n     * By default, the player will invoke callbacks inside a try-catch block to prevent exceptions from breaking normal player behavior.\r\n     * To disable this safety measure set `jwplayer.debug` to `true`.\r\n     * @param {string} name - The event name.\r\n     * @param {object} [args] - An object containing the event properties.\r\n     * @return {Api}\r\n     */\r\n    trigger(name, args) {\r\n        if (_.isObject(args)) {\r\n            args = Object.assign({}, args);\r\n        } else {\r\n            args = {};\r\n        }\r\n        args.type = name;\r\n        if (ApiSettings.debug) {\r\n            return trigger.call(this, name, args);\r\n        }\r\n        return triggerSafe.call(this, name, args);\r\n    },\r\n\r\n    /**\r\n     * Gets the specified plugin instance.\r\n     * @param {string} name - The name of the plugin.\r\n     * @return {any} The plugin instance.\r\n     */\r\n    getPlugin(name) {\r\n        return this.plugins[name];\r\n    },\r\n\r\n    /**\r\n     * Adds a plugin instance to the player's instance.\r\n     * @param {string} name - The name of the plugin.\r\n     * @param {any} pluginInstance - The plugin instance.\r\n     */\r\n    addPlugin(name, pluginInstance) {\r\n        this.plugins[name] = pluginInstance;\r\n\r\n        this.on('ready', pluginInstance.addToPlayer);\r\n\r\n        // A swf plugin may rely on resize events\r\n        if (pluginInstance.resize) {\r\n            this.on('resize', pluginInstance.resizeHandler);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Registers a plugin class with the player library.\r\n     * @param {string} name - The name of the plugin.\r\n     * @param {string} minimumVersion - The minimum player version required by the plugin.\r\n     * @param {function} pluginClass - The plugin function or class to instantiate with new player instances.\r\n     */\r\n    registerPlugin(name, minimumVersion, pluginClass) {\r\n        registerPlugin(name, minimumVersion, pluginClass);\r\n    },\r\n\r\n    /**\r\n     * Checks for the presence of an ad blocker. Implemented by jwplayer-commercial.\r\n     * @returns {boolean} - Returns true when an ad blocker is detected, otherwise false.\r\n     */\r\n    getAdBlock() {\r\n        return false;\r\n    },\r\n\r\n    /**\r\n     * Plays an ad. Implemented by ad plugins.\r\n     * @param {string|Array} adBreak - The ad tag or waterfall array.\r\n     */\r\n    playAd(adBreak) {}, // eslint-disable-line\r\n\r\n    /**\r\n     * Pauses or toggles ad playback. Implemented by ad plugins.\r\n     * @param {boolean} toggle - Specifies whether ad playback should be paused or resumed.\r\n     */\r\n    pauseAd(toggle) {}, // eslint-disable-line\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/api/api.js","import _ from 'utils/underscore';\r\nimport { loadFrom, getScriptPath } from 'utils/playerutils';\r\nimport { serialize } from 'utils/parser';\r\n\r\n/* global __webpack_public_path__:true*/\r\n/* eslint camelcase: 0 */\r\n// Defaults\r\nconst Defaults = {\r\n    autostart: false,\r\n    controls: true,\r\n    displaytitle: true,\r\n    displaydescription: true,\r\n    mobilecontrols: false,\r\n    defaultPlaybackRate: 1,\r\n    playbackRateControls: false,\r\n    playbackRates: [0.5, 1, 1.25, 1.5, 2],\r\n    repeat: false,\r\n    castAvailable: false,\r\n    stretching: 'uniform',\r\n    mute: false,\r\n    volume: 90,\r\n    width: 640,\r\n    height: 360,\r\n    audioMode: false,\r\n    localization: {\r\n        player: 'Video Player',\r\n        play: 'Play',\r\n        playback: 'Start Playback',\r\n        pause: 'Pause',\r\n        volume: 'Volume',\r\n        prev: 'Previous',\r\n        next: 'Next',\r\n        cast: 'Chromecast',\r\n        airplay: 'AirPlay',\r\n        fullscreen: 'Fullscreen',\r\n        playlist: 'Playlist',\r\n        hd: 'Quality',\r\n        cc: 'Closed Captions',\r\n        audioTracks: 'Audio Tracks',\r\n        playbackRates: 'Playback Rates',\r\n        replay: 'Replay',\r\n        buffer: 'Loading',\r\n        more: 'More',\r\n        liveBroadcast: 'Live broadcast',\r\n        loadingAd: 'Loading ad',\r\n        rewind: 'Rewind 10 Seconds',\r\n        nextUp: 'Next Up',\r\n        nextUpClose: 'Next Up Close',\r\n        related: 'Discover',\r\n        close: 'Close',\r\n        settings: 'Settings',\r\n        unmute: 'Unmute'\r\n    },\r\n    renderCaptionsNatively: false,\r\n    nextUpDisplay: true\r\n};\r\n\r\nfunction _deserialize(options) {\r\n    _.each(options, function(val, key) {\r\n        options[key] = serialize(val);\r\n    });\r\n}\r\n\r\nfunction _normalizeSize(val) {\r\n    if (val.slice && val.slice(-2) === 'px') {\r\n        val = val.slice(0, -2);\r\n    }\r\n    return val;\r\n}\r\n\r\nconst Config = function(options, persisted) {\r\n    let allOptions = Object.assign({}, (window.jwplayer || {}).defaults, persisted, options);\r\n\r\n    _deserialize(allOptions);\r\n\r\n    allOptions.localization = Object.assign({}, Defaults.localization, allOptions.localization);\r\n\r\n    let config = Object.assign({}, Defaults, allOptions);\r\n    if (config.base === '.') {\r\n        config.base = getScriptPath('jwplayer.js');\r\n    }\r\n    config.base = (config.base || loadFrom()).replace(/\\/?$/, '/');\r\n    __webpack_public_path__ = config.base;\r\n    config.width = _normalizeSize(config.width);\r\n    config.height = _normalizeSize(config.height);\r\n\r\n    config.aspectratio = _evaluateAspectRatio(config.aspectratio, config.width);\r\n\r\n    let rateControls = config.playbackRateControls;\r\n\r\n    if (rateControls) {\r\n        let rates = config.playbackRates;\r\n\r\n        if (Array.isArray(rateControls)) {\r\n            rates = rateControls;\r\n        }\r\n        rates = rates.filter(rate => _.isNumber(rate) && rate >= 0.25 && rate <= 4)\r\n            .map(rate => Math.round(rate * 4) / 4);\r\n\r\n        if (rates.indexOf(1) < 0) {\r\n            rates.push(1);\r\n        }\r\n        rates.sort();\r\n\r\n        config.playbackRateControls = true;\r\n        config.playbackRates = rates;\r\n    }\r\n\r\n    // Set defaultPlaybackRate to 1 if the value from storage isn't in the playbackRateControls menu\r\n    if (!config.playbackRateControls || config.playbackRates.indexOf(config.defaultPlaybackRate) < 0) {\r\n        config.defaultPlaybackRate = 1;\r\n    }\r\n\r\n    config.playbackRate = config.defaultPlaybackRate;\r\n\r\n    if (!config.aspectratio) {\r\n        delete config.aspectratio;\r\n    }\r\n\r\n    const configPlaylist = config.playlist;\r\n    if (!configPlaylist) {\r\n        // This is a legacy fallback, assuming a playlist item has been flattened into the config\r\n        const obj = _.pick(config, [\r\n            'title',\r\n            'description',\r\n            'type',\r\n            'mediaid',\r\n            'image',\r\n            'file',\r\n            'sources',\r\n            'tracks',\r\n            'preload'\r\n        ]);\r\n\r\n        config.playlist = [ obj ];\r\n    } else if (Array.isArray(configPlaylist.playlist)) {\r\n        // The \"playlist\" in the config is actually a feed that contains a playlist\r\n        config.feedData = configPlaylist;\r\n        config.playlist = configPlaylist.playlist;\r\n    }\r\n\r\n    config.qualityLabels = config.qualityLabels || config.hlslabels;\r\n\r\n    return config;\r\n};\r\n\r\nfunction _evaluateAspectRatio(ar, width) {\r\n    if (width.toString().indexOf('%') === -1) {\r\n        return 0;\r\n    }\r\n    if (typeof ar !== 'string' || !ar) {\r\n        return 0;\r\n    }\r\n    if (/^\\d*\\.?\\d+%$/.test(ar)) {\r\n        return ar;\r\n    }\r\n    const index = ar.indexOf(':');\r\n    if (index === -1) {\r\n        return 0;\r\n    }\r\n    const w = parseFloat(ar.substr(0, index));\r\n    const h = parseFloat(ar.substr(index + 1));\r\n    if (w <= 0 || h <= 0) {\r\n        return 0;\r\n    }\r\n    return (h / w * 100) + '%';\r\n}\r\n\r\nexport default Config;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/api/config.js","import startSetup from 'api/setup-steps';\r\n\r\nconst SETUP_TIMEOUT_SECONDS = 30;\r\n\r\nconst Setup = function(_model) {\r\n\r\n    let _setupFailureTimeout;\r\n\r\n    this.start = function () {\r\n        const setupPromise = startSetup(_model);\r\n        return new Promise((resolve, reject) => {\r\n            _setupFailureTimeout = setTimeout(() => {\r\n                reject(new Error(`Setup Timeout Error: Setup took longer than ${SETUP_TIMEOUT_SECONDS} seconds to complete.`));\r\n            }, SETUP_TIMEOUT_SECONDS * 1000);\r\n            return setupPromise.then(resolve).catch(reject);\r\n        });\r\n    };\r\n\r\n    this.destroy = function() {\r\n        clearTimeout(_setupFailureTimeout);\r\n        _model = null;\r\n    };\r\n\r\n};\r\n\r\nexport default Setup;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/api/Setup.js","import setPlaylist from 'api/set-playlist';\r\nimport { PLAYLIST_LOADED, ERROR } from 'events/events';\r\nimport Promise, { resolved } from 'polyfills/promise';\r\nimport PlaylistLoader from 'playlist/loader';\r\nimport Playlist from 'playlist/playlist';\r\nimport ScriptLoader from 'utils/scriptloader';\r\nimport { bundleContainsProviders } from 'api/core-loader';\r\n\r\nexport function loadPlaylist(_model) {\r\n    const playlist = _model.get('playlist');\r\n    if (typeof playlist === 'string') {\r\n        return new Promise(resolve => {\r\n            const playlistLoader = new PlaylistLoader();\r\n            playlistLoader.on(PLAYLIST_LOADED, function(data) {\r\n                const loadedPlaylist = Playlist(data.playlist);\r\n                delete data.playlist;\r\n                _model.attributes.playlist = loadedPlaylist;\r\n                _model.attributes.feedData = data;\r\n                resolve();\r\n            });\r\n            playlistLoader.on(ERROR, err => {\r\n                _model.set('feedData', {\r\n                    error: new Error(`Error loading playlist: ${err.message}`)\r\n                });\r\n                resolve();\r\n            });\r\n            playlistLoader.load(playlist);\r\n        });\r\n    }\r\n    _model.attributes.playlist = Playlist(playlist);\r\n    return resolved;\r\n}\r\n\r\nfunction filterPlaylist(_model) {\r\n    return loadPlaylist(_model).then(() => {\r\n        if (destroyed(_model)) {\r\n            return;\r\n        }\r\n        // Filter the playlist and update the model's 'playlist'\r\n        setPlaylist(_model, _model.get('playlist'), _model.get('feedData'));\r\n\r\n        // Adaptation of { loadProvidersForPlaylist } from 'api/set-playlist'\r\n        // Only loads first provider, if not included in the core bundle\r\n        // And does not call `model.setProvider` once the provider is loaded\r\n        const playlist = _model.get('playlist');\r\n        const providersManager = _model.getProviders();\r\n        const firstProviderNeeded = providersManager.required([playlist[0]]);\r\n        // Skip provider loading if included in bundle\r\n        if (bundleContainsProviders.html5 && firstProviderNeeded && firstProviderNeeded[0].name === 'html5') {\r\n            return;\r\n        }\r\n        return providersManager.load(firstProviderNeeded);\r\n    });\r\n}\r\n\r\nfunction isSkinLoaded(skinPath) {\r\n    const ss = document.styleSheets;\r\n    for (let i = 0, max = ss.length; i < max; i++) {\r\n        if (ss[i].href === skinPath) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n\r\nfunction loadSkin(_model) {\r\n    const skinUrl = _model.get('skin') ? _model.get('skin').url : undefined;\r\n    if (typeof skinUrl === 'string' && !isSkinLoaded(skinUrl)) {\r\n        const isStylesheet = true;\r\n        const loader = new ScriptLoader(skinUrl, isStylesheet);\r\n        return loader.load().catch(error => {\r\n            return error;\r\n        });\r\n    }\r\n    return resolved;\r\n}\r\n\r\nfunction destroyed(_model) {\r\n    return _model.attributes._destroyed;\r\n}\r\n\r\nconst startSetup = function(_model) {\r\n    if (destroyed(_model)) {\r\n        return Promise.reject();\r\n    }\r\n    return Promise.all([\r\n        filterPlaylist(_model),\r\n        loadSkin(_model)\r\n    ]);\r\n};\r\n\r\nexport default startSetup;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/api/setup-steps.js","const preloadValues = {\r\n    none: true,\r\n    metadata: true,\r\n    auto: true\r\n};\r\n\r\nexport function getPreload(preload, fallback) {\r\n    if (preloadValues[preload]) {\r\n        return preload;\r\n    }\r\n    return preloadValues[fallback] ? fallback : 'metadata';\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/playlist/preload.js","/**\r\n * A media source variant present in a playlist item\r\n * @internal\r\n * @typedef {object} PlaylistItemTrack\r\n * @property {'captions'|'subtitles'|'chapters'|'thumbnails'} kind - The kind of track.\r\n * @property {boolean} default - Enable the track by default.\r\n */\r\n\r\nconst Track = function(config) {\r\n    // File is the only required attr\r\n    if (!config || !config.file) {\r\n        return;\r\n    }\r\n\r\n    return Object.assign({}, {\r\n        kind: 'captions',\r\n        'default': false\r\n    }, config);\r\n};\r\n\r\nexport default Track;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/playlist/track.js","const Date = window.Date;\r\nconst performance = window.performance || {\r\n    timing: {}\r\n};\r\nconst startDate = performance.timing.navigationStart || (new Date().getTime());\r\n\r\nif (!('now' in performance)) {\r\n    performance.now = () => (new Date().getTime()) - startDate;\r\n}\r\n\r\nexport function now() {\r\n    return performance.now();\r\n}\r\n\r\nexport function dateTime() {\r\n    return startDate + performance.now();\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/clock.js","import ApiSettings from 'api/api-settings';\r\n\r\nexport function tryCatch(fn, ctx, args = []) {\r\n\r\n    // In debug mode, allow `fn` to throw exceptions\r\n    if (ApiSettings.debug) {\r\n        return fn.apply(ctx || this, args);\r\n    }\r\n\r\n    // else catch exceptions and return a `JWError`\r\n    try {\r\n        return fn.apply(ctx || this, args);\r\n    } catch (e) {\r\n        return new JwError(fn.name, e);\r\n    }\r\n}\r\n\r\nexport function JwError(name, error) {\r\n    this.name = name;\r\n    this.message = error.message || error.toString();\r\n    this.error = error;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/trycatch.js","import { parseXML } from 'utils/parser';\r\nimport _ from 'utils/underscore';\r\n\r\nconst noop = function() {};\r\n\r\nlet useDomParser = false;\r\n\r\n// TODO: deprecate (jwplayer-ads-vast uses utils.crossdomain(url)). It's used here for IE9 compatibility\r\nexport function crossdomain(uri) {\r\n    var a = document.createElement('a');\r\n    var b = document.createElement('a');\r\n    a.href = location.href;\r\n    try {\r\n        b.href = uri;\r\n        b.href = b.href; /* IE fix for relative urls */\r\n        return a.protocol + '//' + a.host !== b.protocol + '//' + b.host;\r\n    } catch (e) {/* swallow */}\r\n    return true;\r\n}\r\n\r\nexport function ajax(url, completeCallback, errorCallback, args) {\r\n    if (_.isObject(url)) {\r\n        args = url;\r\n        url = args.url;\r\n    }\r\n    var xhr;\r\n    var options = Object.assign({\r\n        xhr: null,\r\n        url: url,\r\n        withCredentials: false,\r\n        retryWithoutCredentials: false,\r\n        timeout: 60000,\r\n        timeoutId: -1,\r\n        oncomplete: completeCallback || noop,\r\n        onerror: errorCallback || noop,\r\n        mimeType: (args && !args.responseType) ? 'text/xml' : '',\r\n        requireValidXML: false, /* Require responseXML */\r\n        responseType: (args && args.plainText) ? 'text' : '' /* xhr.responseType ex: \"json\" or \"text\" */\r\n    }, args);\r\n\r\n    if ('XDomainRequest' in window && crossdomain(url)) {\r\n        // IE8 / 9\r\n        xhr = options.xhr = new window.XDomainRequest();\r\n        xhr.onload = _ajaxComplete(options);\r\n        xhr.ontimeout = xhr.onprogress = noop;\r\n        useDomParser = true;\r\n    } else if ('XMLHttpRequest' in window) {\r\n        // Firefox, Chrome, Opera, Safari\r\n        xhr = options.xhr = new window.XMLHttpRequest();\r\n        xhr.onreadystatechange = _readyStateChangeHandler(options);\r\n    } else {\r\n        // browser cannot make xhr requests\r\n        options.onerror('', url);\r\n        return;\r\n    }\r\n    var requestError = _requestError('Error loading file', options);\r\n    xhr.onerror = requestError;\r\n\r\n    if ('overrideMimeType' in xhr) {\r\n        if (options.mimeType) {\r\n            xhr.overrideMimeType(options.mimeType);\r\n        }\r\n    } else {\r\n        useDomParser = true;\r\n    }\r\n\r\n    try {\r\n        // remove anchors from the URL since they can't be loaded in IE\r\n        url = url.replace(/#.*$/, '');\r\n        xhr.open('GET', url, true);\r\n    } catch (e) {\r\n        requestError(e);\r\n        return xhr;\r\n    }\r\n\r\n    if (options.responseType) {\r\n        try {\r\n            xhr.responseType = options.responseType;\r\n        } catch (e) {/* ignore */}\r\n    }\r\n\r\n    if (options.timeout) {\r\n        options.timeoutId = setTimeout(function() {\r\n            abortAjax(xhr);\r\n            options.onerror('Timeout', url, xhr);\r\n        }, options.timeout);\r\n        xhr.onabort = function() {\r\n            clearTimeout(options.timeoutId);\r\n        };\r\n    }\r\n\r\n    try {\r\n        // xhr.withCredentials must must be set after xhr.open() is called\r\n        // otherwise older WebKit browsers will throw INVALID_STATE_ERR (PhantomJS 1.x)\r\n        if (options.withCredentials && 'withCredentials' in xhr) {\r\n            xhr.withCredentials = true;\r\n        }\r\n        xhr.send();\r\n    } catch (e) {\r\n        requestError(e);\r\n    }\r\n    return xhr;\r\n}\r\n\r\nexport function abortAjax(xhr) {\r\n    xhr.onload = null;\r\n    xhr.onprogress = null;\r\n    xhr.onreadystatechange = null;\r\n    xhr.onerror = null;\r\n    if ('abort' in xhr) {\r\n        xhr.abort();\r\n    }\r\n}\r\n\r\nfunction _requestError(message, options) {\r\n    return function(e) {\r\n        var xhr = e.currentTarget || options.xhr;\r\n        clearTimeout(options.timeoutId);\r\n        // Handle Access-Control-Allow-Origin wildcard error when using withCredentials to send cookies\r\n        if (options.retryWithoutCredentials && options.xhr.withCredentials) {\r\n            abortAjax(xhr);\r\n            var args = Object.assign({}, options, {\r\n                xhr: null,\r\n                withCredentials: false,\r\n                retryWithoutCredentials: false\r\n            });\r\n            ajax(args);\r\n            return;\r\n        }\r\n        options.onerror(message, options.url, xhr);\r\n    };\r\n}\r\n\r\nfunction _readyStateChangeHandler(options) {\r\n    return function(e) {\r\n        var xhr = e.currentTarget || options.xhr;\r\n        if (xhr.readyState === 4) {\r\n            clearTimeout(options.timeoutId);\r\n            if (xhr.status >= 400) {\r\n                var message;\r\n                if (xhr.status === 404) {\r\n                    message = 'File not found';\r\n                } else {\r\n                    message = '' + xhr.status + '(' + xhr.statusText + ')';\r\n                }\r\n                return options.onerror(message, options.url, xhr);\r\n            }\r\n            if (xhr.status === 200) {\r\n                return _ajaxComplete(options)(e);\r\n            }\r\n        }\r\n    };\r\n}\r\n\r\nfunction _ajaxComplete(options) {\r\n    return function(e) {\r\n        var xhr = e.currentTarget || options.xhr;\r\n        clearTimeout(options.timeoutId);\r\n        if (options.responseType) {\r\n            if (options.responseType === 'json') {\r\n                return _jsonResponse(xhr, options);\r\n            }\r\n        } else {\r\n            // Handle the case where an XML document was returned with an incorrect MIME type.\r\n            var xml = xhr.responseXML;\r\n            var firstChild;\r\n            if (xml) {\r\n                try {\r\n                    // This will throw an error on Windows Mobile 7.5.\r\n                    // We want to trigger the error so that we can move down to the next section\r\n                    firstChild = xml.firstChild;\r\n                } catch (error) {\r\n                    /* ignore */\r\n                }\r\n            }\r\n            if (xml && firstChild) {\r\n                return _xmlResponse(xhr, xml, options);\r\n            }\r\n            // IE9\r\n            if (useDomParser && xhr.responseText && !xml) {\r\n                xml = parseXML(xhr.responseText);\r\n                if (xml && xml.firstChild) {\r\n                    return _xmlResponse(xhr, xml, options);\r\n                }\r\n            }\r\n            if (options.requireValidXML) {\r\n                options.onerror('Invalid XML', options.url, xhr);\r\n                return;\r\n            }\r\n        }\r\n        options.oncomplete(xhr);\r\n    };\r\n}\r\n\r\nfunction _jsonResponse(xhr, options) {\r\n    // insure that xhr.response is parsed JSON\r\n    if (!xhr.response ||\r\n        (_.isString(xhr.response) && xhr.responseText.substr(1) !== '\"')) {\r\n        try {\r\n            xhr = Object.assign({}, xhr, {\r\n                response: JSON.parse(xhr.responseText)\r\n            });\r\n        } catch (err) {\r\n            options.onerror('Invalid JSON', options.url, xhr);\r\n            return;\r\n        }\r\n    }\r\n    return options.oncomplete(xhr);\r\n}\r\n\r\n\r\nfunction _xmlResponse(xhr, xml, options) {\r\n    // Handle DOMParser 'parsererror'\r\n    var doc = xml.documentElement;\r\n    if (options.requireValidXML &&\r\n            (doc.nodeName === 'parsererror' || doc.getElementsByTagName('parsererror').length)) {\r\n        options.onerror('Invalid XML', options.url, xhr);\r\n        return;\r\n    }\r\n    if (!xhr.responseXML) {\r\n        xhr = Object.assign({}, xhr, {\r\n            responseXML: xml\r\n        });\r\n    }\r\n    return options.oncomplete(xhr);\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/ajax.js","export default (id, title = '', body = '') => {\r\n    return (\r\n        `<div id=\"${id}\" class=\"jw-error jw-reset\">` +\r\n            `<div class=\"jw-error-msg jw-reset\">` +\r\n                `<style>` +\r\n                `[id=\"${id}\"].jw-error{position:relative;background:#000;overflow:hidden;position:relative}` +\r\n                `[id=\"${id}\"] .jw-error-msg{top:50%;left:50%;position:absolute;align-items:center;display:flex;transform:translate(-50%,-50%)}` +\r\n                `[id=\"${id}\"] .jw-title{color:#FFF;position:static}` +\r\n                `[id=\"${id}\"] .jw-title-primary,` +\r\n                `[id=\"${id}\"] .jw-title-secondary{font:600 14px/1.35 Arial,Helvetica,sans-serif}` +\r\n                `[id=\"${id}\"] .jw-title-secondary{font-weight:400}` +\r\n                `</style>` +\r\n                `<div class=\"jw-icon jw-reset\"></div>` +\r\n                `<div class=\"jw-title jw-reset\">` +\r\n                    `<div class=\"jw-title-primary jw-reset\">${title}</div>` +\r\n                    `<div class=\"jw-title-secondary jw-reset\">${body}</div>` +\r\n                `</div>` +\r\n            `</div>` +\r\n        `</div>`\r\n    );\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/templates/error.js","import { localName, textContent, getChildNode, numChildren } from 'parsers/parsers';\r\nimport { xmlAttribute } from 'utils/strings';\r\nimport mediaParser from 'parsers/mediaparser';\r\nimport parseEntry from 'parsers/jwparser';\r\nimport PlaylistItem from 'playlist/item';\r\n\r\n/**\r\n* Parse an RSS feed and translate it to playlistItems.\r\n*/\r\n\r\nexport default function parseRss(dat) {\r\n    const arr = [];\r\n    arr.feedData = {};\r\n    for (let i = 0; i < numChildren(dat); i++) {\r\n        const node = getChildNode(dat, i);\r\n        const name = localName(node).toLowerCase();\r\n\r\n        if (name === 'channel') {\r\n            for (let j = 0; j < numChildren(node); j++) {\r\n                const subNode = getChildNode(node, j);\r\n                const nodeName = localName(subNode).toLowerCase();\r\n                if (nodeName === 'item') {\r\n                    arr.push(parseItem(subNode));\r\n                } else if (nodeName) {\r\n                    arr.feedData[nodeName] = textContent(subNode);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return arr;\r\n}\r\n\r\n// Translate RSS item to playlist item.\r\nfunction parseItem(obj) {\r\n    const item = {};\r\n    for (let i = 0; i < obj.childNodes.length; i++) {\r\n        const node = obj.childNodes[i];\r\n        const name = localName(node);\r\n        if (!name) {\r\n            continue;\r\n        }\r\n        switch (name.toLowerCase()) {\r\n            case 'enclosure':\r\n                item.file = xmlAttribute(node, 'url');\r\n                break;\r\n            case 'title':\r\n                item.title = textContent(node);\r\n                break;\r\n            case 'guid':\r\n                item.mediaid = textContent(node);\r\n                break;\r\n            case 'pubdate':\r\n                item.date = textContent(node);\r\n                break;\r\n            case 'description':\r\n                item.description = textContent(node);\r\n                break;\r\n            case 'link':\r\n                item.link = textContent(node);\r\n                break;\r\n            case 'category':\r\n                if (item.tags) {\r\n                    item.tags += textContent(node);\r\n                } else {\r\n                    item.tags = textContent(node);\r\n                }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n    return new PlaylistItem(parseEntry(obj, mediaParser(obj, item)));\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/parsers/rssparser.js","import { localName, textContent, numChildren } from 'parsers/parsers';\r\nimport { xmlAttribute } from 'utils/strings';\r\nimport utils from 'utils/helpers';\r\n\r\n/**\r\n * Parse a MRSS group into a playlistitem (used in RSS and ATOM)\r\n * The 'content' and 'group' elements can nest other MediaRSS elements\r\n */\r\n\r\nconst mediaparser = function (obj, item) {\r\n    // Prefix for the MRSS namespace\r\n    const PREFIX = 'media';\r\n    const tracks = 'tracks';\r\n    const captions = [];\r\n\r\n    function getLabel(code) {\r\n        const LANGS = {\r\n            zh: 'Chinese',\r\n            nl: 'Dutch',\r\n            en: 'English',\r\n            fr: 'French',\r\n            de: 'German',\r\n            it: 'Italian',\r\n            ja: 'Japanese',\r\n            pt: 'Portuguese',\r\n            ru: 'Russian',\r\n            es: 'Spanish'\r\n        };\r\n        if (LANGS[code]) {\r\n            return LANGS[code];\r\n        }\r\n        return code;\r\n    }\r\n\r\n    for (let i = 0; i < numChildren(obj); i++) {\r\n        const node = obj.childNodes[i];\r\n        if (node.prefix === PREFIX) {\r\n            if (!localName(node)) {\r\n                continue;\r\n            }\r\n            switch (localName(node).toLowerCase()) {\r\n                case 'content':\r\n                    if (xmlAttribute(node, 'duration')) {\r\n                        item.duration = utils.seconds(xmlAttribute(node, 'duration'));\r\n                    }\r\n                    if (xmlAttribute(node, 'url')) {\r\n                        if (!item.sources) {\r\n                            item.sources = [];\r\n                        }\r\n                        var sources = {\r\n                            file: xmlAttribute(node, 'url'),\r\n                            type: xmlAttribute(node, 'type'),\r\n                            width: xmlAttribute(node, 'width'),\r\n                            label: xmlAttribute(node, 'label')\r\n                        };\r\n\r\n                        var mediaTypes = findMediaTypes(node);\r\n                        if (mediaTypes.length) {\r\n                            sources.mediaTypes = mediaTypes;\r\n                        }\r\n\r\n                        item.sources.push(sources);\r\n                    }\r\n                    if (numChildren(node) > 0) {\r\n                        item = mediaparser(node, item);\r\n                    }\r\n                    break;\r\n                case 'title':\r\n                    item.title = textContent(node);\r\n                    break;\r\n                case 'description':\r\n                    item.description = textContent(node);\r\n                    break;\r\n                case 'guid':\r\n                    item.mediaid = textContent(node);\r\n                    break;\r\n                case 'thumbnail':\r\n                    if (!item.image) {\r\n                        item.image = xmlAttribute(node, 'url');\r\n                    }\r\n                    break;\r\n                case 'group':\r\n                    mediaparser(node, item);\r\n                    break;\r\n                case 'subtitle':\r\n                    var entry = {};\r\n                    entry.file = xmlAttribute(node, 'url');\r\n                    entry.kind = 'captions';\r\n                    if (xmlAttribute(node, 'lang').length > 0) {\r\n                        entry.label = getLabel(xmlAttribute(node, 'lang'));\r\n                    }\r\n                    captions.push(entry);\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n\r\n    if (!item.hasOwnProperty(tracks)) {\r\n        item[tracks] = [];\r\n    }\r\n\r\n    for (let i = 0; i < captions.length; i++) {\r\n        item[tracks].push(captions[i]);\r\n    }\r\n    return item;\r\n};\r\n\r\nfunction findMediaTypes (contentNode) {\r\n    const mediaTypes = [];\r\n\r\n    for (let i = 0; i < numChildren(contentNode); i++) {\r\n        const node = contentNode.childNodes[i];\r\n        if (node.prefix === 'jwplayer' && localName(node).toLowerCase() === 'mediatypes') {\r\n            mediaTypes.push(textContent(node));\r\n        }\r\n    }\r\n\r\n    return mediaTypes;\r\n}\r\n\r\nexport default mediaparser;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/parsers/mediaparser.js","import { localName, textContent } from 'parsers/parsers';\r\nimport { xmlAttribute } from 'utils/strings';\r\nimport utils from 'utils/helpers';\r\n\r\n/**\r\n* Parse a feed item for JWPlayer content.\r\n*/\r\n\r\nconst parseEntry = function (obj, itm) {\r\n    const PREFIX = 'jwplayer';\r\n    const def = 'default';\r\n    const label = 'label';\r\n    const file = 'file';\r\n    const type = 'type';\r\n    const sources = [];\r\n    const tracks = [];\r\n\r\n    for (let i = 0; i < obj.childNodes.length; i++) {\r\n        const node = obj.childNodes[i];\r\n        if (node.prefix === PREFIX) {\r\n            const _localName = localName(node);\r\n            if (_localName === 'source') {\r\n                delete itm.sources;\r\n                sources.push({\r\n                    file: xmlAttribute(node, file),\r\n                    'default': xmlAttribute(node, def),\r\n                    label: xmlAttribute(node, label),\r\n                    type: xmlAttribute(node, type)\r\n                });\r\n            } else if (_localName === 'track') {\r\n                delete itm.tracks;\r\n                tracks.push({\r\n                    file: xmlAttribute(node, file),\r\n                    'default': xmlAttribute(node, def),\r\n                    kind: xmlAttribute(node, 'kind'),\r\n                    label: xmlAttribute(node, label)\r\n                });\r\n            } else {\r\n                itm[_localName] = utils.serialize(textContent(node));\r\n                if (_localName === 'file' && itm.sources) {\r\n                    // jwplayer namespace file should override existing source\r\n                    // (probably set in MediaParser)\r\n                    delete itm.sources;\r\n                }\r\n            }\r\n\r\n        }\r\n        if (!itm[file]) {\r\n            itm[file] = itm.link;\r\n        }\r\n    }\r\n\r\n\r\n    if (sources.length) {\r\n        itm.sources = [];\r\n        for (let i = 0; i < sources.length; i++) {\r\n            if (sources[i].file.length > 0) {\r\n                sources[i][def] = (sources[i][def] === 'true');\r\n                if (!sources[i].label.length) {\r\n                    delete sources[i].label;\r\n                }\r\n                itm.sources.push(sources[i]);\r\n            }\r\n        }\r\n    }\r\n\r\n    if (tracks.length) {\r\n        itm.tracks = [];\r\n        for (let i = 0; i < tracks.length; i++) {\r\n            if (tracks[i].file.length > 0) {\r\n                tracks[i][def] = (tracks[i][def] === 'true') ? true : false;\r\n                tracks[i].kind = (!tracks[i].kind.length) ? 'captions' : tracks[i].kind;\r\n                if (!tracks[i].label.length) {\r\n                    delete tracks[i].label;\r\n                }\r\n                itm.tracks.push(tracks[i]);\r\n            }\r\n        }\r\n    }\r\n    return itm;\r\n};\r\n\r\nexport default parseEntry;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/parsers/jwparser.js","import Promise, { resolved } from 'polyfills/promise';\r\n\r\nfunction configurePlugin(pluginObj, pluginConfig, api) {\r\n    const pluginName = pluginObj.name;\r\n\r\n    const div = document.createElement('div');\r\n    div.id = api.id + '_' + pluginName;\r\n    div.className = 'jw-plugin jw-reset';\r\n\r\n    const pluginOptions = Object.assign({}, pluginConfig);\r\n    const pluginInstance = pluginObj.getNewInstance(api, pluginOptions, div);\r\n\r\n    api.addPlugin(pluginName, pluginInstance);\r\n}\r\n\r\nconst PluginLoader = function () {\r\n    this.load = function (api, pluginsModel, pluginsConfig) {\r\n        // Must be a hash map\r\n        if (!pluginsConfig || typeof pluginsConfig !== 'object') {\r\n            return resolved;\r\n        }\r\n\r\n        return Promise.all(Object.keys(pluginsConfig).filter(pluginUrl => pluginUrl)\r\n            .map(pluginUrl => {\r\n                const plugin = pluginsModel.addPlugin(pluginUrl, true);\r\n                const pluginConfig = pluginsConfig[pluginUrl];\r\n                return plugin.load().then(() => {\r\n                    configurePlugin(plugin, pluginConfig, api);\r\n                }).catch(error => {\r\n                    if (!(error instanceof Error)) {\r\n                        return new Error(`Error in ${pluginUrl} \"${error}\"`);\r\n                    }\r\n                    return error;\r\n                });\r\n            }));\r\n    };\r\n\r\n};\r\n\r\nexport default PluginLoader;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/plugins/loader.js","import Plugin from 'plugins/plugin';\r\nimport { log } from 'utils/helpers';\r\n\r\nconst pluginsRegistered = {};\r\n\r\n/**\r\n * Extracts a plugin name from a string\r\n */\r\nconst getPluginName = function (url) {\r\n    /** Regex locates the characters after the last slash, until it encounters a dash. **/\r\n    return url.replace(/^(.*\\/)?([^-]*)-?.*\\.(js)$/, '$2');\r\n};\r\n\r\nconst PluginModel = function () {\r\n    this.addPlugin = function (url, fromLoader) {\r\n        const pluginName = getPluginName(url);\r\n        let plugin = pluginsRegistered[pluginName];\r\n        if (!plugin) {\r\n            plugin = new Plugin(url);\r\n            pluginsRegistered[pluginName] = plugin;\r\n        } else if (fromLoader && plugin.url !== url) {\r\n            log(`JW Plugin \"${pluginName}\" already loaded from \"${plugin.url}\". Ignoring \"${url}.\"`);\r\n        }\r\n        return plugin;\r\n    };\r\n\r\n    this.getPlugins = function () {\r\n        return pluginsRegistered;\r\n    };\r\n};\r\n\r\nexport default PluginModel;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/plugins/model.js","import { resolved } from 'polyfills/promise';\r\nimport ScriptLoader from 'utils/scriptloader';\r\nimport { getAbsolutePath } from 'utils/parser';\r\nimport { extension } from 'utils/strings';\r\n\r\nconst PLUGIN_PATH_TYPE_ABSOLUTE = 0;\r\nconst PLUGIN_PATH_TYPE_RELATIVE = 1;\r\nconst PLUGIN_PATH_TYPE_CDN = 2;\r\n\r\nconst getPluginPathType = function (path) {\r\n    if (typeof path !== 'string') {\r\n        return;\r\n    }\r\n    path = path.split('?')[0];\r\n    var protocol = path.indexOf('://');\r\n    if (protocol > 0) {\r\n        return PLUGIN_PATH_TYPE_ABSOLUTE;\r\n    }\r\n    var folder = path.indexOf('/');\r\n    var fileExtension = extension(path);\r\n    if (protocol < 0 && folder < 0 && (!fileExtension || !isNaN(fileExtension))) {\r\n        return PLUGIN_PATH_TYPE_CDN;\r\n    }\r\n    return PLUGIN_PATH_TYPE_RELATIVE;\r\n};\r\n\r\nfunction getJSPath(url) {\r\n    switch (getPluginPathType(url)) {\r\n        case PLUGIN_PATH_TYPE_ABSOLUTE:\r\n            return url;\r\n        case PLUGIN_PATH_TYPE_RELATIVE:\r\n            return getAbsolutePath(url, window.location.href);\r\n        default:\r\n            break;\r\n    }\r\n}\r\n\r\nconst Plugin = function(url) {\r\n    this.url = url;\r\n};\r\n\r\nObject.assign(Plugin.prototype, {\r\n    load() {\r\n        if (getPluginPathType(this.url) === PLUGIN_PATH_TYPE_CDN) {\r\n            return resolved;\r\n        }\r\n        const loader = new ScriptLoader(getJSPath(this.url));\r\n        this.loader = loader;\r\n        return loader.load();\r\n    },\r\n\r\n    registerPlugin(name, minimumVersion, pluginClass) {\r\n        this.name = name;\r\n        this.target = minimumVersion;\r\n        this.js = pluginClass;\r\n    },\r\n\r\n    getNewInstance(api, config, div) {\r\n        const PluginClass = this.js;\r\n        const pluginInstance = new PluginClass(api, config, div);\r\n\r\n        pluginInstance.addToPlayer = function() {\r\n            const overlaysElement = api.getContainer().querySelector('.jw-overlays');\r\n            if (!overlaysElement) {\r\n                return;\r\n            }\r\n            div.left = overlaysElement.style.left;\r\n            div.top = overlaysElement.style.top;\r\n            overlaysElement.appendChild(div);\r\n            pluginInstance.displayArea = overlaysElement;\r\n        };\r\n\r\n        pluginInstance.resizeHandler = function() {\r\n            const displayarea = pluginInstance.displayArea;\r\n            if (displayarea) {\r\n                pluginInstance.resize(displayarea.clientWidth, displayarea.clientHeight);\r\n            }\r\n        };\r\n\r\n        return pluginInstance;\r\n    }\r\n});\r\n\r\nexport default Plugin;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/plugins/plugin.js","import { serialize } from 'utils/parser';\r\nimport ApiSettings from 'api/api-settings';\r\n\r\nlet storage = {\r\n    removeItem: function() {}\r\n};\r\n\r\ntry {\r\n    storage = window.localStorage;\r\n} catch (e) {/* ignore */}\r\n\r\nfunction Storage(namespace, persistItems) {\r\n    this.namespace = namespace;\r\n    this.items = persistItems;\r\n}\r\n\r\nObject.assign(Storage.prototype, {\r\n    getAllItems() {\r\n        return this.items.reduce((memo, key) => {\r\n            const val = storage[`${this.namespace}.${key}`];\r\n            if (val) {\r\n                memo[key] = serialize(val);\r\n            }\r\n            return memo;\r\n        }, {});\r\n    },\r\n    track(model) {\r\n        this.items.forEach((key) => {\r\n            model.on(`change:${key}`, (changeModel, value) => {\r\n                try {\r\n                    storage[`${this.namespace}.${key}`] = value;\r\n                } catch (e) {\r\n                    // ignore QuotaExceededError unless debugging\r\n                    if (ApiSettings.debug) {\r\n                        console.error(e);\r\n                    }\r\n                }\r\n            });\r\n        });\r\n    },\r\n    clear() {\r\n        this.items.forEach((key) => {\r\n            storage.removeItem(`${this.namespace}.${key}`);\r\n        });\r\n    }\r\n});\r\n\r\nexport default Storage;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/model/storage.js"],"sourceRoot":""}